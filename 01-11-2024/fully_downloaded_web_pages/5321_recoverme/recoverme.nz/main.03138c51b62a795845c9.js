(()=>{"use strict";var e,t,n,o,r={92387:(e,t,n)=>{n.d(t,{t9:()=>T,$9:()=>k,u3:()=>M,UC:()=>A,s8:()=>N,Mk:()=>L,g8:()=>C,Cp:()=>P,Zf:()=>E,mR:()=>S});var o=n(83716),r=n(30879),s=n(46586),a=n(65054),i=n(69995),d=n(69118),c=n(97184);const u=150,l=5e3;let f;const h=new Map,m=new Map,p={chats:{},users:{},messages:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let g=!0;(0,a.Pz)((e=>{g=e}));const y=c.Eo?new BroadcastChannel(o.tuy):void 0;let b,v=[],w=[],I=!1;function C(e,t){return b=e,g?(f||(o.eMD&&console.log(">>> START LOAD WORKER"),f=new Worker(new URL(n.p+n.u(8415),n.b)),function(e){f?.addEventListener("message",(({data:t})=>{if(t)if("updates"===t.type){let n;if(o.eMD&&(n=performance.now()),t.updates.forEach(e),o.eMD){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)L(t);else if("methodCallback"===t.type)N(t);else{if("unhandledError"===t.type)throw new Error(t.error?.message);"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,r.FI)(t.level,...t.args)}}))}(e),"iOS"===t.platform&&window.addEventListener("focus",(()=>{D(),setTimeout((()=>D()),1e3)}))),R({type:"initApi",args:[t,p]}).then((()=>{I=!0,w.forEach((e=>{T(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),w=[],v.forEach((e=>{k(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),v=[]}))):(function(e){y&&y.postMessage({type:"initApi",token:(0,a._w)(),initialArgs:e})}(t),Promise.resolve())}function S(e,t,n){p[e][t]=n}function E(e){Object.assign(p,e)}function P(e){return R({type:"toggleDebugMode",isEnabled:e})}function k(e,...t){if(!I){const n=new s.Z;return v.push({fnName:e,args:t,deferred:n}),n.promise}const n=R({type:"callMethod",name:e,args:t});return o.eMD&&(async()=>{try{await n}catch(e){}})(),n}function T(e,...t){if(!I&&g){const n=new s.Z;return w.push({fnName:e,args:t,deferred:n}),n.promise}const n=g?R({type:"callMethod",name:e,args:t}):function(e){const t=(0,i.Z)(),n={messageId:t,...e},o={messageId:t},r=new Promise(((e,t)=>{Object.assign(o,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();o.callback=e,m.set(e,o)}return h.set(t,o),r.catch((()=>{})).finally((()=>{h.delete(t),o.callback&&m.delete(o.callback)})),function(e){y&&y.postMessage({type:"callApi",token:(0,a._w)(),...e})}(n),r}({name:e,args:t});return o.eMD&&(async()=>{try{await n}catch(e){}})(),n}function M(e){e.isCanceled=!0;const{messageId:t}=m.get(e)||{};if(t)if(g)A(t);else{if(!y)return;y.postMessage({type:"cancelApiProgress",token:(0,a._w)(),messageId:t})}}function A(e){f?.postMessage({type:"cancelProgress",messageId:e})}function L(e){const t=h.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function N(e){h.get(e.messageId)?.callback?.(...e.callbackArgs)}function R(e){const t=(0,i.Z)(),n={messageId:t,...e},o={messageId:t},r=new Promise(((e,t)=>{Object.assign(o,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();o.callback=e,m.set(e,o)}return o.DEBUG_payload=n,h.set(t,o),r.catch((()=>{})).finally((()=>{h.delete(t),o.callback&&m.delete(o.callback)})),f?.postMessage(n),r}const Z=Date.now();async function D(){let e=!1;try{await Promise.race([R({type:"ping"}),(0,d.wO)(u).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){console.error(e),Date.now()-Z>=l&&(f?.terminate(),f=void 0,b({"@type":"requestReconnectApi"}))}finally{e=!0}}},6137:(e,t,n)=>{n.d(t,{IU:()=>r.I,Vv:()=>o.Vv,_Q:()=>o._Q,_f:()=>o._f});var o=n(94746),r=n(9077)},9077:(e,t,n)=>{n.d(t,{I:()=>o});let o=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},94746:(e,t,n)=>{n.d(t,{Vv:()=>o,_Q:()=>s,_f:()=>r});let o=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Unknown="MessageEntityUnknown",e}({});const r=-1,s="MESSAGE_DELETED"},58912:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(60748),r=n(46752),s=n(60706),a=n(25190),i=n(70692),d=n(97799);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}const u=150,l=(0,o.X$)((function(e){const{size:t=u,play:n=!0,noLoop:l=!0,className:f,noTransition:h,nonInteractive:m,onLoad:p,onClick:g,...y}=e,[b,v]=(0,s.Z)(!1),w=(0,i.Z)(h||b),I=(0,a.Z)((()=>{v(),p?.()})),[C,S]=(0,o.eJ)(String(Math.random())),E=(0,a.Z)((()=>{!0===n&&S(String(Math.random())),g?.()}));return o.ZP.createElement(d.Z,c({className:(0,r.Z)(f,w),size:t,play:!0===n?C:n,noLoop:l,onClick:m?void 0:E,onLoad:I},y))}))},97799:(e,t,n)=>{n.d(t,{Z:()=>C});var o=n(60748),r=n(57710),s=n(84089),a=n(46752),i=n(80036),d=n(69995),c=n(27370),u=n(97184),l=n(22268),f=n(274),h=n(18674),m=n(25190),p=n(92112),g=n(76997),y=n(70971),b=n(34446),v=n(3927),w=n(27704),I=n(13819);const C=(0,o.X$)((({ref:e,renderId:t,className:n,style:C,tgsUrl:E,play:P,playSegment:k,speed:T,noLoop:M,size:A,quality:L,isLowPriority:N,color:R,forceAlways:Z,forceOnHeavyAnimation:D,sharedCanvas:B,sharedCanvasCoords:x,onClick:O,onLoad:_,onEnded:F,onLoop:j})=>{let $=(0,o.sO)(null);e&&($=e);const U=(0,w.Z)(),[V,H]=(0,o.eJ)(),W=(0,o.sO)(),K=(0,o.sO)(!0),G=!B&&R,z=(0,l.Z)(G?R:void 0),q=P||!1!==P&&k,Y=(0,y.Y)(P),J=(0,y.Y)(k),X=(0,o.sO)();(0,b.Z)((()=>{if(R&&!G){const{r:e,g:t,b:n}=(0,c.oo)(R);X.current=[e,t,n]}else X.current=void 0}),[R,G]);const Q=(0,o.sO)(!1);(0,o.d4)((()=>()=>{Q.current=!0}),[]);const ee=(0,m.Z)((()=>{if(W.current||Q.current||!E||B&&(!x||!B.offsetWidth||!B.offsetHeight))return;const e=$.current||B;if(!e)return;const n=(0,s._)().init(E,e,t||(0,d.Z)(),{size:A,noLoop:M,quality:L,isLowPriority:N,coords:x},U,X.current,_,F,j);T&&n.setSpeed(T),H(n),W.current=n}));(0,o.d4)((()=>{(0,s._)()?ee():(0,s.t)().then(ee)}),[ee,E,B,x]);const te=(0,v.Z)(ee,[ee],150);(0,g.Z)(B,te),(0,o.d4)((()=>{V&&V.setColor(X.current)}),[R,V]),(0,o.d4)((()=>()=>{W.current?.removeView(U)}),[U]);const ne=(0,m.Z)(((e=!1)=>{V&&(Y.current||J.current)&&!S(Z)&&(J.current?V.playSegment(J.current,e,U):V.play(e,U))})),oe=(0,m.Z)((()=>{(0,r.i$)(ne)})),re=(0,m.Z)((()=>{V?.isPlaying()&&V.pause(U)}));if((0,f.Z)((([e])=>{void 0!==e&&M!==e&&V?.setNoLoop(M)}),[M,V]),(0,f.Z)((([e])=>{void 0!==e&&x!==e&&V?.setSharedCanvasCoords(U,x)}),[x,U,V]),(0,o.d4)((()=>{V&&(q?S(Z,D)||ne(M):re())}),[V,q,M,ne,re,Z,D]),(0,o.d4)((()=>{V&&(K.current?K.current=!1:E&&(V.changeData(E),ne()))}),[ne,V,E]),(0,h.ZP)(re,ne,!q||Z||D),(0,p.ZP)(re,ne,!q||Z),(0,I.Z)(re,oe,!q||Z),!B)return o.ZP.createElement("div",{ref:$,className:(0,a.Z)("AnimatedSticker",n),style:(0,i.Z)(void 0!==A&&`width: ${A}px; height: ${A}px;`,O&&!u.D$&&"cursor: pointer",z,C),onClick:O})}));function S(e=!1,t=!1){return!e&&(!t&&(0,h.zG)()||(0,p.lh)()||(0,I.q)())}},96459:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(60748),r=n(33555),s=n(6137),a=n(7054),i=n(46752),d=n(74753),c=n(92085),u=n(25190),l=n(60422),f=n(36765);const h="a51PrE1gNHtEZTsTv199";var m=n(69123),p=n(53930);const g=(0,o.X$)((({ref:e,documentId:t,size:n=20,isBig:g,noPlay:y,className:b,loopLimit:v,style:w,withGridFix:I,withSharedAnimation:C,sharedCanvasRef:S,sharedCanvasHqRef:E,withTranslucentThumb:P,shouldPreloadPreview:k,forceAlways:T,forceOnHeavyAnimation:M,observeIntersectionForLoading:A,observeIntersectionForPlaying:L,onClick:N,onAnimationEnd:R})=>{let Z=(0,o.sO)(null);e&&(Z=e);const{customEmoji:D,canPlay:B}=(0,l.Z)(t),x=(0,o.sO)(0),[O,_]=(0,o.eJ)(!0),F=D?.shouldUseTextColor,j=(0,c.Z)(Z,!F),$=(0,u.Z)((e=>{v&&(x.current+=1,x.current>=v?(_(!1),e.currentTarget.currentTime=0):(0,d.Z)(e.currentTarget))})),U=(0,u.Z)((()=>{v&&(x.current+=1,x.current>=v-1&&_(!1))})),V=D?.stickerSetInfo&&(0,a.Si0)((0,r.Rd)(),D.stickerSetInfo);return o.ZP.createElement("div",{ref:Z,className:(0,i.Z)("_cPVRYXabaTi4NzwuAuv",b,"custom-emoji","emoji",I&&"ATlIbx7wziKC9hp9tIjf"),onClick:N,onAnimationEnd:R,"data-entity-type":s.Vv.CustomEmoji,"data-document-id":t,"data-alt":D?.emoji,style:w},o.ZP.createElement("img",{className:"YK4vvTRvF0f3KvHfTCcq",src:m,alt:D?.emoji,"data-entity-type":s.Vv.CustomEmoji,"data-document-id":t,draggable:!1}),D?o.ZP.createElement(f.Z,{containerRef:Z,sticker:D,isSmall:!g,size:n,noPlay:y||!B,thumbClassName:h,fullMediaClassName:"ZjeZqyl7YXHdvIDo1TbO",shouldLoop:O,loopLimit:v,shouldPreloadPreview:k||y||!B,forceOnHeavyAnimation:M,forceAlways:T,observeIntersectionForLoading:A,observeIntersectionForPlaying:L,withSharedAnimation:C,sharedCanvasRef:V?E:S,withTranslucentThumb:P,onVideoEnded:$,onAnimatedStickerLoop:U,customColor:j}):o.ZP.createElement("img",{className:h,src:p,alt:"Emoji",draggable:!1}))}))},45370:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(60748),r=n(6137),s=n(4463),a=n(48035),i=n(32340),d=n(14612);const c=(0,o.X$)((function({lang:e,message:t,translatedText:n,noEmoji:c=!1,highlight:u,truncateLength:l=s.lN,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumbs:m=!1,inChatList:p=!1,emojiSize:g}){const{text:y,entities:b}=(0,s.tK)(t,p)||{},v=b?.some((e=>e.type===r.Vv.Spoiler)),w=b?.some((e=>e.type===r.Vv.CustomEmoji));if(!y||!v&&!w){const r=n?.text||(0,s.MK)(e,t,c),d=(0,a.Z)(r,l);return o.ZP.createElement("span",null,u?(0,i.Z)(d,["emoji","highlight"],{highlight:u}):(0,i.Z)(d))}const I=!c&&(0,s.Eb)(t);return o.ZP.createElement(o.ZP.Fragment,null,[I?(0,i.Z)(`${I} `):void 0,(0,s.Kk)(e,t,o.ZP.createElement(d.Z,{messageOrStory:t,translatedText:n,highlight:u,isSimple:!0,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumbs:m,truncateLength:l,inChatList:p,emojiSize:g}))].flat().filter(Boolean))}))},14612:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(60748),r=n(6137),s=n(4463),a=n(48035),i=n(4809),d=n(34446),c=n(27704);const u=(0,o.X$)((function({messageOrStory:e,translatedText:t,isForAnimation:n,emojiSize:u,highlight:l,isSimple:f,truncateLength:h,isProtected:m,observeIntersectionForLoading:p,observeIntersectionForPlaying:g,withTranslucentThumbs:y,shouldRenderAsHtml:b,inChatList:v,forcePlayback:w,focusedQuote:I}){const C=(0,o.sO)(null),S=(0,o.sO)(null),E=(0,o.sO)(0),P=t||(0,s.tK)(e,v),k=n&&P?(0,s.If)(P):P,{text:T,entities:M}=k||{},A=(0,c.Z)();(0,d.Z)((()=>{E.current+=1}),[T,M]);const L=(0,o.Ye)((()=>{const e=M?.some((e=>e.type===r.Vv.Spoiler));return!e&&(M?.filter((e=>e.type===r.Vv.CustomEmoji)).length||0)>=3}),[M])||0;if(!T){const t=(0,s.UD)(e);return t?[(0,a.Z)(t,h)]:void 0}return o.ZP.createElement(o.ZP.Fragment,null,[L&&o.ZP.createElement("canvas",{ref:C,className:"shared-canvas"}),L&&o.ZP.createElement("canvas",{ref:S,className:"shared-canvas"}),(0,i.H)({text:(0,a.Z)(T,h),entities:M,highlight:l,emojiSize:u,shouldRenderAsHtml:b,containerId:A,isSimple:f,isProtected:m,observeIntersectionForLoading:p,observeIntersectionForPlaying:g,withTranslucentThumbs:y,sharedCanvasRef:C,sharedCanvasHqRef:S,cacheBuster:E.current.toString(),forcePlayback:w,focusedQuote:I})].flat().filter(Boolean))}))},10088:(e,t,n)=>{n.d(t,{Z:()=>w});var o=n(60748),r=n(33555),s=n(6137),a=n(83716);const i=e=>{const t=[];let n=0;const o=e.length;let r;for(;n<o;){if(r=e[n++],55296==(63488&r))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");r>65535&&(r-=65536,t.push(String.fromCharCode(r>>>10&1023|55296)),r=56320|1023&r),t.push(String.fromCharCode(r))}return t.join("")},d=36,c=700,u=1,l=26,f=38,h=2147483647;function m(e,t,n){let o;for(e=n?Math.floor(e/c):e>>1,e+=Math.floor(e/t),o=0;e>(d-u)*l>>1;o+=d)e=Math.floor(e/(d-u));return Math.floor(o+(d-u+1)*e/(e+f))}function p(e,t){const n=[],o=[],r=e.length;let s,a,c,f,p,g,y,b,v,w,I,C,S;for(s=128,c=0,f=72,p=e.lastIndexOf("-"),p<0&&(p=0),g=0;g<p;++g){if(t&&(o[n.length]=e.charCodeAt(g)-65<26),e.charCodeAt(g)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(g))}for(y=p>0?p+1:0;y<r;){for(b=c,v=1,w=d;;w+=d){if(y>=r)throw RangeError("punycode_bad_input(1)");if(I=(E=e.charCodeAt(y++))-48<10?E-22:E-65<26?E-65:E-97<26?E-97:d,I>=d)throw RangeError("punycode_bad_input(2)");if(I>Math.floor((h-c)/v))throw RangeError("punycode_overflow(1)");if(c+=I*v,C=w<=f?u:w>=f+l?l:w-f,I<C)break;if(v>Math.floor(h/(d-C)))throw RangeError("punycode_overflow(2)");v*=d-C}if(a=n.length+1,f=m(c-b,a,0===b),Math.floor(c/a)>h-s)throw RangeError("punycode_overflow(3)");s+=Math.floor(c/a),c%=a,t&&o.splice(c,0,e.charCodeAt(y-1)-65<26),n.splice(c,0,s),c++}var E;if(t)for(c=0,S=n.length;c<S;c++)o[c]&&(n[c]=String.fromCharCode(n[c]).toUpperCase().charCodeAt(0));return i(n)}var g=n(46752),y=n(81396),b=n(25190);function v(e){if(!e)return;const t=(0,y.X)(e);if(t)try{let e=decodeURI(t.replace(/%%/g,"%25"));const n=e.match(/^https?:\/\/([^/:?#]+)(?:[/:?#]|$)/i);if(!n)return;const o=n[1];return e=e.replace(o,function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const o=t[e];n.push(o.match(/^xn--/)?p(o.slice(4)):o)}return n.join(".")}(o)),e}catch(t){a.eMD&&console.error("SafeLink.getDecodedUrl error ",e,t)}}const w=(0,o.X$)((({url:e,text:t,className:n,children:a,isRtl:i})=>{const{openUrl:d}=(0,r.Sv)(),c=a||t,u=e===t,l=(0,b.Z)((t=>!e||(t.preventDefault(),d({url:e,shouldSkipModal:u}),!1)));if(!e)return;const f=(0,g.Z)(n||"text-entity-link",t.length>50&&"long-word-break-all");return o.ZP.createElement("a",{href:(0,y.X)(e),title:v(e),target:"_blank",rel:"noopener noreferrer",className:f,onClick:l,dir:i?"rtl":"auto","data-entity-type":s.Vv.Url},c)}))},36765:(e,t,n)=>{n.d(t,{Z:()=>E});var o=n(60748),r=n(33555),s=n(4463),a=n(7054),i=n(46752),d=n(40647),c=n(97184),u=n(22268),l=n(45864),f=n(60706),h=n(18674),m=n(3657),p=n(6202),g=n(70692),y=n(2903),b=n(27704),v=n(38146),w=n(57080),I=n(97799);const C="daPpv_C6WkmYIJyCxxOx",S="lLI5VQHfbz7HKFfIcAnu",E=(0,o.X$)((({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:E,fullMediaClassName:P,isSmall:k,size:T=24,customColor:M,loopLimit:A,shouldLoop:L=!1,shouldPreloadPreview:N,forceAlways:R,forceOnHeavyAnimation:Z,observeIntersectionForLoading:D,observeIntersectionForPlaying:B,noLoad:x,noPlay:O,withSharedAnimation:_,withTranslucentThumb:F,sharedCanvasRef:j,onVideoEnded:$,onAnimatedStickerLoop:U})=>{const{id:V,isLottie:H,stickerSetInfo:W,emoji:K}=t,[G,z]=(0,f.Z)(),q=t.isVideo&&(!c.Hh||G),Y=t.isVideo&&!q,J=!H&&!Y,X=(0,s.RK)(t.id),Q=(0,v.Z)(),ee=(0,u.Z)(M),te=(0,m.Op)(e,D),ne=te&&!x,oe=(0,m.Op)(e,B)&&te&&!O,re=(0,y.Z)(t),se=d.UV(X),ae=(0,p.Z)(X,Boolean(se||!O)),ie=M?re:ae||re;E||(E=q||J&&k?X:`sticker${V}`);const de=Boolean(E===X&&ae),ce=(0,p.Z)(E,!ne||de),[ue,le]=(0,f.Z)(Boolean(H&&ce&&!ae)),[fe,he,me]=(0,f.Z)(!c.wZ||!(0,h.zG)());(0,h.ZP)(me,he,fe);const pe=fe&&ce&&(J||ue),ge=j&&!F,ye=(0,g.Z)(ie&&!pe),be=(0,g.Z)(pe),ve=H&&ae,we=(0,l.Z)(e,j);(0,p.Z)(X,!ne||!N);const Ie=(0,b.Z)(),Ce=[_?"shared":Ie,V,T,_?M:void 0,Q].filter(Boolean).join("_");return o.ZP.createElement(o.ZP.Fragment,null,o.ZP.createElement("img",{src:ie,className:(0,i.Z)("JutR25BuG9LYhLOr69Ix",ve&&C,ge&&"qH6Cov7zwmysL5nAnEjg",n,ye,"sticker-media"),alt:"",draggable:!1}),fe&&(H?o.ZP.createElement(I.Z,{key:Ce,renderId:Ce,size:T,className:(0,i.Z)(S,(ve||ge)&&C,P,be),tgsUrl:ce,play:oe,noLoop:!L,forceOnHeavyAnimation:R||Z,forceAlways:R,isLowPriority:k&&!(0,a.Si0)((0,r.Rd)(),W),sharedCanvas:j?.current||void 0,sharedCanvasCoords:we,onLoad:le,onLoop:U,onEnded:U,color:M}):Y?o.ZP.createElement(w.Z,{canPlay:oe&&L,className:(0,i.Z)(S,P,be,"sticker-media"),src:ce,playsInline:!0,muted:!0,loop:!A,isPriority:R,disablePictureInPicture:!0,onReady:le,onBroken:z,onEnded:$,style:ee}):o.ZP.createElement("img",{className:(0,i.Z)(S,P,be,"sticker-media"),src:ce,alt:K,style:ee,draggable:!1})))}))},58987:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(60748),r=n(83716),s=n(46752),a=n(98138),i=n(2155),d=n(32340);const c="aJM6jZTv0FGmbmVoeSGw",u=(0,o.X$)((({className:e,letterClassName:t,topicId:n,iconColor:u,title:l,onClick:f})=>{const h=(0,a.gL)(u);return n===r.OxA?o.ZP.createElement("i",{className:(0,s.Z)(c,e,"icon","icon-hashtag","general-forum-icon"),onClick:f}):o.ZP.createElement("div",{className:(0,s.Z)(c,e),onClick:f},o.ZP.createElement("img",{className:"BYayNMDdPVgrna3NsHfu",src:h,alt:"",draggable:!1}),o.ZP.createElement("div",{className:(0,s.Z)("G4SxYH1X0X2e4J1z7GPV",t,"topic-icon-letter")},(0,d.Z)((0,i.Xv)(l,1))))}))},47348:(e,t,n)=>{n.d(t,{l:()=>C});const o=n.p+"QrPlane.a921709f266564f65b7e.tgs",r=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",s=n.p+"HandFilled.f87939d160f1dc288586.tgs",a=n.p+"HandOutline.f9831751ba60df30c484.tgs",i=n.p+"Speaker.04bb3743412b41ff83c5.tgs",d=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",c=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",u=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",l=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",f=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",h=n.p+"Invite.4502ec3aa4249d6e6723.tgs",m=n.p+"Requests.af9f19772695a8898810.tgs",p=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",g=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",y=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",b=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",v=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",w=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",I=n.p+"Experimental.43d62096368bf5a00ae3.tgs",C={MonkeyIdle:g,MonkeyTracking:b,MonkeyClose:p,MonkeyPeek:y,FoldersAll:n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",FoldersNew:n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",FoldersShare:n.p+"FoldersShare.3356f97ced75bf97121c.tgs",DiscussionGroups:w,Lock:n.p+"Lock.12547a0228d4fa544e53.tgs",CameraFlip:r,HandFilled:s,HandOutline:a,Speaker:i,VoiceAllowTalk:d,VoiceMini:c,VoiceMuted:u,VoiceOutlined:l,JoinRequest:m,Invite:h,QrPlane:o,Congratulations:v,Experimental:I,PartyPopper:f}},15376:(e,t,n)=>{n.d(t,{K2:()=>a,Oh:()=>d,mD:()=>i,v6:()=>c,yW:()=>s});const o=1073741824,r=1048576;function s(e){return e>o/2?`${(e/o).toFixed(1)} GB`:e>r/2?`${(e/r).toFixed(1)} MB`:`${(e/1024).toFixed(1)} KB`}function a(e){const{fileName:t,mimeType:n}=e;return i(t,n)}function i(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function d(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function c(e){return Boolean(e.previewBlobUrl||e.thumbnail)}},74399:(e,t,n)=>{n.d(t,{Eh:()=>P,Fp:()=>f,GC:()=>k,Gw:()=>d,Kf:()=>S,L6:()=>i,PA:()=>L,Rj:()=>c,W7:()=>T,Wr:()=>A,fM:()=>E,jg:()=>N,kc:()=>C,lE:()=>M,vY:()=>l,wB:()=>h});var o=n(83716),r=n(4463),s=n(97184),a=n(43858);const i="(max-height: 640px)",d=parseInt(getComputedStyle(document.documentElement).fontSize,10),c=240,u=300,l={width:640,height:640},f={width:800,height:800},h="4986041492570112461",m={width:100,height:100},p=4.5,g=7,y=29,b=30;let v,w,I;function C(e,t,n,o,r){const s=t&&n?2.25:t||n?1.625:0,i=function(e,t,n){if(!n)return e?b:y;const{width:o}=a.Z.get();return v||(v=Math.min(b,o/d-p)),w||(w=Math.min(y,o/d-g)),I||(I=Math.min(y,o/d-p)),e?v:t?I:w}(e,o,r)-s;return i*d}function S({width:e,height:t,fromOwnMessage:n,asForwarded:o,isWebPageMedia:r,isGif:s,noAvatars:a,isMobile:i}){const c=t/e,l=C(n,o,r,a,i),f=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*d:27*d}(s,c),h=s?Math.max(u,e):e;return N(l,f,h,s?t*(h/e):t)}function E(e,t){const n=window.matchMedia(i),{width:o,height:r}=a.Z.get();let c=t&&n.matches?10:8.25;return e&&!s.$b&&(c=n.matches?10:12.5),{width:o,height:r-c*d}}function P(e,t,n,o,s,a){const{width:i,height:d}=(0,r.HV)(e)||m;return S({width:i,height:d,fromOwnMessage:t,asForwarded:n,isWebPageMedia:o,noAvatars:s,isMobile:a})}function k(e,t,n,o,s,a){const{width:i,height:d}=(0,r.jC)(e)||m;return S({width:i,height:d,fromOwnMessage:t,asForwarded:n,isWebPageMedia:o,isGif:e.isGif,noAvatars:s,isMobile:a})}function T(){return{width:2*d,height:2*d}}function M(e){return e?{width:3*d,height:3*d}:{width:3.375*d,height:3.375*d}}function A(e,t){const{width:n}=e;let{height:r}=e;e.id===h&&(r=n);const s=r&&n&&r/n,a=d*(t?o.w7O:o.K7x),i=s?a*s:a;return s&&i>a?{width:Math.round(a/s),height:a}:{width:a,height:i}}function L({width:e,height:t},n,o=!1){const{width:r,height:s}=E(n,o);return N(r,s,e,t)}function N(e,t,n,o){const r=o/n,s=Math.min(n,e);return Math.round(s*r)>t?{width:Math.round(t/r),height:t}:{width:s,height:Math.round(s*r)}}},18005:(e,t,n)=>{n.d(t,{D:()=>w});var o=n(60748),r=n(4463),s=n(9937),a=n(48035),i=n(32340),d=n(33555),c=n(46752),u=n(8337);const l=(0,o.X$)((({className:e,chatId:t,children:n})=>{const{openChat:r}=(0,d.Sv)(),s=(0,o.I4)((()=>{t&&r({id:t})}),[t,r]);return t?o.ZP.createElement(u.Z,{className:(0,c.Z)("ChatLink",e),onClick:s},n):n}));var f=n(96459);const h=({className:e,groupCall:t,children:n})=>{const{requestMasterAndJoinGroupCall:r}=(0,d.Sv)(),s=(0,o.I4)((()=>{t&&r({id:t.id,accessHash:t.accessHash})}),[t,r]);return t?o.ZP.createElement(u.Z,{className:(0,c.Z)("GroupCallLink",e),onClick:s},n):n},m=({className:e,message:t,children:n})=>{const{focusMessage:r}=(0,d.Sv)(),s=(0,o.I4)((()=>{t&&r({chatId:t.chatId,messageId:t.id})}),[r,t]);return t?o.ZP.createElement(u.Z,{className:(0,c.Z)("MessageLink",e),onClick:s},n):n};var p=n(45370),g=n(58987);const y=({className:e,sender:t,children:n})=>{const{openChat:r}=(0,d.Sv)(),s=(0,o.I4)((()=>{t&&r({id:t.id})}),[t,r]);return t?o.ZP.createElement(u.Z,{className:(0,c.Z)("UserLink",e),onClick:s},n):n},b=32,v=" ";function w(e,t,n,d,c,u,y,w,S={},E,P){if(!t.content.action)return[];const{text:k,translationValues:T,amount:M,currency:A,call:L,score:N,topicEmojiIconId:R,giftCryptoInfo:Z,pluralValue:D}=t.content.action,B=[],x=S.asPlainText||S.isEmbedded,O="Chat.Service.Group.UpdatedPinnedMessage1"!==k||u?k:"Message.PinnedGenericMessage";let _,F=e(O,T?.length?T:void 0,void 0,D);if(O.includes("ScoredInGame")&&(F=F.replace("un1","%action_origin%").replace("un2","%message%")),"ActionGiftOutbound"===O&&(F=F.replace("un2","%gift_payment_amount%").replace(/\*\*/g,"")),"ActionGiftInbound"===O&&(F=F.replace("un1","%action_origin%").replace("un2","%gift_payment_amount%").replace(/\*\*/g,"")),F.includes("%payment_amount%")&&(_=C(F,"%payment_amount%",(0,s.x)(M,A,e.code)),F=_.pop(),B.push(..._)),_=C(F,"%action_origin%",n?I(n,x)||v:d?function(e,t,n){const s=(0,a.Z)((0,r.U)(e,t),b);return n?(0,i.Z)(s):o.ZP.createElement(l,{className:"action-link",chatId:t.id},t&&(0,i.Z)(s))}(e,d,x)||v:"User",""),F=_.pop(),B.push(..._),F.includes("%action_topic%")&&(_=C(F,"%action_topic%",[w?.iconEmojiId?o.ZP.createElement(f.Z,{documentId:w.iconEmojiId}):"",w?`${w.title}`:"a topic"],""),F=_.pop(),B.push(..._)),F.includes("%action_topic_icon%")){const e=R||w?.iconEmojiId;_=C(F,"%action_topic_icon%",e&&"0"!==e?o.ZP.createElement(f.Z,{documentId:e}):w?o.ZP.createElement(g.Z,{topicId:w.id,title:w.title}):"..."),F=_.pop(),B.push(..._)}if(F.includes("%gift_payment_amount%")){const t=(0,s.x)(M,A,e.code);let n=t;Z&&(n=`${Z.amount} ${Z.currency} (~${t})`),_=C(F,"%gift_payment_amount%",n),F=_.pop(),B.push(..._)}return F.includes("%amount%")&&(_=C(F,"%amount%",M),F=_.pop(),B.push(..._)),F.includes("%score%")&&(_=C(F,"%score%",N.toString()),F=_.pop(),B.push(..._)),_=C(F,"%target_user%",c?c.map((e=>I(e,x))).filter(Boolean):"User",""),F=_.pop(),B.push(..._),_=C(F,"%message%",u?function(e,t,n={},s,a){const{asPlainText:i,isEmbedded:d}=n;if(i)return(0,r.MK)(e,t,void 0,b);const c=o.ZP.createElement(p.Z,{lang:e,message:t,truncateLength:b,observeIntersectionForLoading:s,observeIntersectionForPlaying:a,withTranslucentThumbs:!0});return d?c:o.ZP.createElement(m,{className:"action-link",message:t},c)}(e,u,S,E,P):"a message"),F=_.pop(),B.push(..._),_=C(F,"%product%",u?function(e){return e.content&&e.content.invoice?e.content.invoice.title:"a product"}(u):"a product"),F=_.pop(),B.push(..._),_=C(F,"%target_chat%",y?function(e,t){const n="another chat";return t?n:o.ZP.createElement(l,{className:"action-link underlined-link",chatId:e},n)}(y,x):"another chat",""),_.forEach((e=>{B.push(...(0,i.Z)(e))})),S.asPlainText?B.join("").trim():L?function(e,t){return o.ZP.createElement(h,{groupCall:e},t)}(L,B):B}function I(e,t){const n=(0,a.Z)((0,r.Js)(e),b);return t?(0,i.Z)(n):o.ZP.createElement(y,{className:"action-link",sender:e},e&&(0,i.Z)(n))}function C(e,t,n,o=","){const r=e.indexOf(t);if(r<0||!n)return[e];const s=[];return s.push(e.substring(0,r)),Array.isArray(n)?n.forEach(((e,t)=>{s.push(e),t+1<n.length&&s.push(`${o} `)})):s.push(n),s.push(e.substring(r+t.length)),s.flat()}},32340:(e,t,n)=>{n.d(t,{Z:()=>h,h:()=>v});var o=n(60748),r=n(83716),s=n(33681),a=n(46752),i=n(34284),d=n(60782),c=n(97184),u=n(97373),l=n(10088);const f=/(\*\*|__).+?\1/g;function h(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,d.oA)(t.reduce(((e,t)=>{switch(t){case"escape_html":return function(e){const t=document.createElement("div");return e.reduce(((e,n)=>"string"!=typeof n?(e.push(n),e):(t.innerText=n,e.push(t.innerHTML),e)),[])}(e);case"hq_emoji":return s.Z.lastIndex=0,m(e,"big","jsx");case"emoji":return s.Z.lastIndex=0,m(e,"small","jsx");case"emoji_html":return s.Z.lastIndex=0,m(e,"small","html");case"br":return p(e,"jsx");case"br_html":return p(e,"html");case"highlight":return g(e,n.highlight);case"quote":return g(e,n.quote,!0);case"links":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.match(y);if(!n||!n.length)return e.push(t),e;const r=[];let s=n.shift(),a=0;for(;s;){const e=t.indexOf(s,a);r.push(t.substring(a,e)),s.startsWith("@")?r.push(o.ZP.createElement(u.Z,{username:s},s)):(s.endsWith("?")&&(s=s.slice(0,s.length-1)),r.push(o.ZP.createElement(l.Z,{text:s,url:s}))),a=e+s.length,s=n.shift()}return r.push(t.substring(a)),[...e,...r]}),[]);case"simple_markdown":return b(e,"jsx");case"simple_markdown_html":return b(e,"html")}return e}),[e]))}function m(e,t,n){return c.op?e:e.reduce(((e,d)=>{if("string"!=typeof d)return e.push(d),e;const c=(d=(0,i.g6)(d)).split(s.Z),u=d.match(s.Z)||[];return e.push(c[0]),u.reduce(((e,s,d)=>{const u=(0,i.DW)(s);if(u){const d=`${r.v5x?r._nY:"."}/img-apple-${"big"===t?"160":"64"}/${u}.png`,c=(0,a.Z)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=i.Uz.has(d);e.push(o.ZP.createElement("img",{src:d,className:`${c}${t?"":" opacity-transition slow shown"}`,alt:s,"data-path":d,draggable:!1,onLoad:t?void 0:i.mE}))}"html"===n&&e.push(`<img            draggable="false"            class="${c}"            src="${d}"            alt="${s}"          />`)}else e.push(s);const l=2*d+2;return c[l]&&e.push(c[l]),e}),e)}),[])}function p(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(/\r\n|\r|\n/g).reduce(((e,n,r,s)=>{const a=n.trimLeft(),i=n.length-a.length;return e.push(String.fromCharCode(160).repeat(i)+a),r!==s.length-1&&e.push("jsx"===t?o.ZP.createElement("br",null):"<br />"),e}),[]);return[...e,...r]}),[])}function g(e,t,n){return e.reduce(((e,r)=>{if("string"!=typeof r||!t)return e.push(r),e;const s=r.toLowerCase().indexOf(t.toLowerCase());if(s<0)return e.push(r),e;const i=[];return i.push(r.substring(0,s)),i.push(o.ZP.createElement("span",{className:(0,a.Z)("matching-text-highlight",n&&"is-quote")},r.substring(s,s+t.length))),i.push(r.substring(s+t.length)),[...e,...i]}),[])}const y=new RegExp(`${r.FM6}|${r.uWu}`,"ig");function b(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(f),s=n.match(f)||[];return e.push(r[0]),s.reduce(((e,n,s)=>{"jsx"===t?e.push(n.startsWith("**")?o.ZP.createElement("b",null,n.replace(/\*\*/g,"")):o.ZP.createElement("i",null,n.replace(/__/g,""))):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const a=2*s+2;return r[a]&&e.push(r[a]),e}),e)}),[])}function v(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:o}=getComputedStyle(t),r=parseFloat(o.split("px")[0]);return t.clientHeight>=(n+1)*r}},4809:(e,t,n)=>{n.d(t,{z:()=>T,H:()=>k});var o=n(60748),r=n(33555),s=n(6137),a=n(46752),i=n(64319),d=n(59692),c=n(44139),u=n(32340),l=n(97373);const f={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var h=n(77510),m=n(59107),p=n(22418);const g=(0,o.X$)((({text:e,className:t,noCopy:n,onWordWrapToggle:s})=>{const{showNotification:d}=(0,r.Sv)(),c=(0,o.sO)(null),l=(0,p.Z)(),f=(0,m.Z)(),[h,g]=(0,o.eJ)(!0),[y,b]=(0,o.eJ)(!1),v=(0,o.I4)((()=>{const t=(0,u.h)(e,c.current.parentElement);b(t)}),[e]);(0,o.d4)((()=>{h&&v()}),[v,h,e,l]);const w=(0,o.I4)((()=>{(0,i.TE)(e),d({message:f("TextCopied")})}),[f,d,e]),I=(0,o.I4)((()=>{g(!h),s?.(!h)}),[h,s]),C=(0,a.Z)("d09hp4fxFTuFw1emBUDA",!y&&n&&"We_Wcr7YvkkUM8ICjRAs"),S=(0,a.Z)("SwhO2lEtk47g68_ixpDe",t),E=(0,a.Z)("iEZTJnlmMCct8jJztTx8",h&&"B4kEjXkw8Sse9g0Xv_OO");return o.ZP.createElement("div",{className:S,ref:c},o.ZP.createElement("div",{className:C},y&&o.ZP.createElement("div",{className:E,onClick:I,title:"Word Wrap"},o.ZP.createElement("i",{className:"icon icon-word-wrap"})),!n&&o.ZP.createElement("div",{className:"deqdY4TS7mStC8qkslV4",onClick:w,title:f("Copy")},o.ZP.createElement("i",{className:"icon icon-copy"}))))})),y=(0,o.X$)((({text:e,language:t,noCopy:r})=>{const[i,d]=(0,o.eJ)(!0),{result:c}=(0,h.Z)((()=>t?Promise.all([n.e(3966),n.e(4713)]).then(n.bind(n,94713)).then((n=>n.default(e,t))):Promise.resolve(void 0)),[t,e]),u=(0,o.I4)((e=>{d(e)}),[]),l=(0,a.Z)("code-block",!i&&"no-word-wrap");return o.ZP.createElement("div",{className:"CodeBlock"},t&&o.ZP.createElement("p",{className:"code-title"},f[(m=t).toLowerCase()]??m),o.ZP.createElement("pre",{className:l,"data-entity-type":s.Vv.Pre,"data-language":t},c??e,o.ZP.createElement(g,{text:e,className:"code-overlay",onWordWrapToggle:u,noCopy:r})));var m}));var b=n(96459),v=n(10088),w=n(60706),I=n(25190);const C=new Map,S=(0,a.y)("Spoiler"),E=(0,o.X$)((({children:e,containerId:t})=>{const n=(0,o.sO)(null),[r,a]=(0,w.Z)(),i=(0,I.Z)((e=>{t&&(e.preventDefault(),e.stopPropagation(),C.get(t)?.forEach((e=>e())))}));return(0,o.d4)((()=>{if(t)return C.has(t)?C.get(t).push(a):C.set(t,[a]),()=>{C.delete(t)}}),[t]),o.ZP.createElement("span",{className:S("&",!r&&"concealed",!r&&Boolean(t)&&"animated"),onClick:t&&!r?i:void 0,"data-entity-type":s.Vv.Spoiler},o.ZP.createElement("span",{className:S("content"),ref:n},e))})),P=64;function k({text:e,entities:t,highlight:n,emojiSize:r,shouldRenderAsHtml:i,containerId:d,isSimple:f,isProtected:h,noLineBreaks:m,observeIntersectionForLoading:p,observeIntersectionForPlaying:g,withTranslucentThumbs:w,sharedCanvasRef:I,sharedCanvasHqRef:C,cacheBuster:S,forcePlayback:P,focusedQuote:k}){if(!t?.length)return M({content:e,highlight:n,focusedQuote:k,emojiSize:r,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m});const T=[];let D=!1;const B=function(e){const t=new Set,n=[];return e.forEach(((o,r)=>{if(t.has(r))return;const s=A(o,r,e,t);s&&(s.organizedIndexes.forEach((e=>{t.add(e)})),n.push(s))})),n}(t);function x(t,T,A,B){const O=[],{entity:_,nestedEntities:F}=A,{offset:j,length:$,type:U}=_;let V=e.substring(t,j);const H=V.length;V&&(D&&V.length>0&&"\n"===V[0]&&(V=V.substr(1),D=!1),V&&O.push(...M({content:V,highlight:n,focusedQuote:k,emojiSize:r,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m})));const W=t+H,K=W+$;let G=e.substring(j,j+$);const z=[];if(D&&G.length>0&&"\n"===G[0]&&(G=G.substr(1),D=!1),U===s.Vv.Pre&&(D=!0),F.length){let e=W;F.forEach(((t,n)=>{const{renderResult:o,entityEndIndex:r}=x(e,K,t,n===F.length-1);z.push(...o),e=r}))}const q=i?function(e,t,n){const o="string"==typeof t?t:void 0,r=e.type===s.Vv.Pre?t.trimEnd():t,a=n.length?n.join(""):(0,u.Z)(r,["escape_html","emoji_html","br_html"]).join("");if(!o)return a;switch(e.type){case s.Vv.Bold:return`<b>${a}</b>`;case s.Vv.Italic:return`<i>${a}</i>`;case s.Vv.Underline:return`<u>${a}</u>`;case s.Vv.Code:return`<code class="text-entity-code">${a}</code>`;case s.Vv.Pre:return`\`\`\`${(0,u.Z)(e.language||"",["escape_html"])}<br/>${a}<br/>\`\`\`<br/>`;case s.Vv.Strike:return`<del>${a}</del>`;case s.Vv.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${s.Vv.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${a}</a>`;case s.Vv.Url:case s.Vv.TextUrl:return`<a\n        class="text-entity-link"\n        href=${L(o,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${a}</a>`;case s.Vv.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${s.Vv.Spoiler}"\n        >${a}</span>`;case s.Vv.CustomEmoji:return(0,c.z3)(o,e);case s.Vv.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${s.Vv.Blockquote}"\n        >${a}</blockquote>`;default:return a}}(_,G,z):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:r,focusedQuote:i,containerId:d,isSimple:c,noLineBreaks:u,isProtected:f,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumbs:p,emojiSize:g,sharedCanvasRef:w,sharedCanvasHqRef:I,cacheBuster:C,forcePlayback:S}){const P="string"==typeof t&&t,k=n.length?n:t;function T(){return M({content:k,highlight:r,focusedQuote:i,emojiSize:g,isSimple:c,noLineBreaks:u})}if(!P)return T();if(c){const t=T();return e.type===s.Vv.Spoiler?o.ZP.createElement(E,null,t):e.type===s.Vv.CustomEmoji?o.ZP.createElement(b.Z,{key:C?`${C}-${e.offset}`:void 0,documentId:e.documentId,size:g,withSharedAnimation:!0,sharedCanvasRef:w,sharedCanvasHqRef:I,withGridFix:!g,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumb:p,forceAlways:S}):t}switch(e.type){case s.Vv.Bold:return o.ZP.createElement("strong",{"data-entity-type":e.type},T());case s.Vv.Blockquote:return o.ZP.createElement("span",{className:"text-entity-blockquote-wrapper"},o.ZP.createElement("blockquote",{"data-entity-type":e.type},T()));case s.Vv.BotCommand:return o.ZP.createElement("a",{onClick:N,className:"text-entity-link",dir:"auto","data-entity-type":e.type},T());case s.Vv.Hashtag:case s.Vv.Cashtag:return o.ZP.createElement("a",{onClick:R,className:"text-entity-link",dir:"auto","data-entity-type":e.type},T());case s.Vv.Code:return o.ZP.createElement("code",{className:(0,a.Z)("text-entity-code",!f&&"clickable"),onClick:f?void 0:Z,role:"textbox",tabIndex:0,"data-entity-type":e.type},T());case s.Vv.Email:return o.ZP.createElement("a",{href:`mailto:${P}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type},T());case s.Vv.Italic:return o.ZP.createElement("em",{"data-entity-type":e.type},T());case s.Vv.MentionName:return o.ZP.createElement(l.Z,{userId:e.userId},T());case s.Vv.Mention:return o.ZP.createElement(l.Z,{username:P},T());case s.Vv.Phone:return o.ZP.createElement("a",{href:`tel:${P}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type},T());case s.Vv.Pre:return o.ZP.createElement(y,{text:P,language:e.language,noCopy:f});case s.Vv.Strike:return o.ZP.createElement("del",{"data-entity-type":e.type},T());case s.Vv.TextUrl:case s.Vv.Url:return o.ZP.createElement(v.Z,{url:L(P,e),text:P},T());case s.Vv.Underline:return o.ZP.createElement("ins",{"data-entity-type":e.type},T());case s.Vv.Spoiler:return o.ZP.createElement(E,{containerId:d},T());case s.Vv.CustomEmoji:return o.ZP.createElement(b.Z,{key:C?`${C}-${e.offset}`:void 0,documentId:e.documentId,size:g,withSharedAnimation:!0,sharedCanvasRef:w,sharedCanvasHqRef:I,withGridFix:!g,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumb:p,forceAlways:S});default:return T()}}({entity:_,entityContent:G,nestedEntityContent:z,highlight:n,focusedQuote:k,containerId:d,isSimple:f,noLineBreaks:m,isProtected:h,observeIntersectionForLoading:p,observeIntersectionForPlaying:g,withTranslucentThumbs:w,emojiSize:r,sharedCanvasRef:I,sharedCanvasHqRef:C,cacheBuster:S,forcePlayback:P});if(Array.isArray(q)?O.push(...q):O.push(q),B&&K<T){let t=e.substring(K,T);D&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&O.push(...M({content:t,highlight:n,focusedQuote:k,emojiSize:r,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m}))}return{renderResult:O,entityEndIndex:K}}let O=0;return B.forEach(((t,n)=>{const{renderResult:o,entityEndIndex:r}=x(O,e.length,t,n===B.length-1);T.push(...o),O=r})),T}function T(e){const{text:t,entities:n}=e||{};if(!t)return"";const o=k({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(o)?o.join(""):o}function M({content:e,highlight:t,focusedQuote:n,emojiSize:o,shouldRenderAsHtml:r,isSimple:s,noLineBreaks:a}){if(Array.isArray(e)){const i=[];return e.forEach((e=>{i.push(...M({content:e,highlight:t,focusedQuote:n,emojiSize:o,shouldRenderAsHtml:r,isSimple:s,noLineBreaks:a}))})),i}if(r)return(0,u.Z)(e,["escape_html","emoji_html","br_html"]);const i=[o&&o>P?"hq_emoji":"emoji"],d={};return s||a||i.push("br"),t&&(i.push("highlight"),d.highlight=t),n&&(i.push("quote"),d.quote=n),(0,u.Z)(e,i,d)}function A(e,t,n,o){const{offset:r,length:s}=e,a=new Set([t]);if(o.has(t))return;const i=[];return n.filter(((e,n)=>n>t&&e.offset>=r&&e.offset<r+s)).map((e=>A(e,n.indexOf(e),n,o))).filter(Boolean).forEach((e=>{let t=!1;e.organizedIndexes.forEach((e=>{t||a.has(e)||(t=!0),a.add(e)})),t&&i.push(e)})),{entity:e,organizedIndexes:a,nestedEntities:i}}function L(e,t){const{type:n}=t;return n===s.Vv.TextUrl&&t.url?t.url:e}function N(e){(0,r.Sv)().sendBotCommand({command:e.currentTarget.innerText})}function R(e){(0,r.Sv)().setLocalTextSearchQuery({query:e.currentTarget.innerText}),(0,r.Sv)().searchTextMessagesLocal()}function Z(e){(0,i.TE)(e.currentTarget.innerText),(0,r.Sv)().showNotification({message:(0,d.Iu)("TextCopied")})}},60422:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(60748),r=n(33555),s=n(7054),a=n(74288),i=n(69118);let d=new Set;const c=new Set,u=(0,i.P2)((()=>{const e=[...d],t=e.slice(0,100),n=e.slice(101);(0,r.Sv)().loadCustomEmojis({ids:t}),d=new Set(n),d.size&&u()}),200,!1),l=(0,i.P2)((()=>{(0,r.Sv)().updateLastRenderedCustomEmojis({ids:[...c].reverse()}),c.clear()}),200,!1);function f(e){c.add(e),l()}(0,a.bn)(f);var h=n(25190);function m(e){const[t,n]=(0,o.eJ)(e?(0,r.Rd)().customEmojis.byId[e]:void 0),[i,c]=(0,o.eJ)((0,s.W9H)((0,r.Rd)()));var l;(l=e)&&(f(l),(0,r.Rd)().customEmojis.byId[l]||(d.add(l),u()));const m=(0,h.Z)((t=>{if(!e)return;const o=(0,r.Rd)();n((t??o.customEmojis).byId[e]),c((0,s.W9H)(o))}));return(0,o.d4)(m,[e,m]),(0,o.d4)((()=>{if(e)return(0,a.k2)(m,e),()=>{(0,a.sp)(m)}}),[t,e,m]),{customEmoji:t,canPlay:i}}},44139:(e,t,n)=>{n.d(t,{fJ:()=>c,qo:()=>f,yR:()=>u,z3:()=>l});var o=n(33555),r=n(6137),s=n(83716),a=n(46752),i=n(74288),d=n(74399);const c="img[data-document-id]";function u(e){const[t,n,o]=(0,i.dA)(e);return`<img\n    class="${(0,a.Z)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${o?`data-unique-id="${o}"`:""}\n    data-entity-type="${r.Vv.CustomEmoji}"\n    src="${n}"\n  />`}function l(e,t){const n=(0,o.Rd)().customEmojis.byId[t.documentId],[s,d,c]=(0,i.dA)(n);return`<img\n    class="${(0,a.Z)("custom-emoji","emoji","emoji-small",s&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${c?`data-unique-id="${c}"`:""}\n    data-entity-type="${r.Vv.CustomEmoji}"\n    src="${d}"\n  />`}function f(e){if(e)return e>s.L5X?2.25*d.Gw:1===e?7*d.Gw:Math.min(7.5-.75*e,5.625)*d.Gw}},30386:(e,t,n)=>{n.d(t,{b:()=>a,q:()=>s});var o=n(83716),r=n(97184);function s(e,t=!1){r.cj||!document.activeElement||document.activeElement.id!==o.R2F||!t&&e.target!==e.currentTarget||e.preventDefault()}function a(e){s(e,!0)}},97373:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(60748),r=n(33555),s=n(6137),a=n(7054);const i=(0,r.c$)(((e,{userId:t})=>({userOrChat:t?(0,a.dyD)(e,t):void 0})))((({userId:e,username:t,userOrChat:n,children:a})=>{const{openChat:i,openChatByUsername:d,closeStoryViewer:c}=(0,r.Sv)();return o.ZP.createElement("a",{onClick:()=>{n?i({id:n.id}):t&&(c(),d({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?s.Vv.MentionName:s.Vv.Mention},a)}))},231:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(60748),r=n(46752),s=n(80036),a=n(97184),i=n(25190),d=n(68512),c=n(49204);const u=({ref:e,type:t="button",id:n,onClick:u,onContextMenu:l,onMouseDown:f,onMouseUp:h,onMouseEnter:m,onMouseLeave:p,onFocus:g,children:y,size:b="default",color:v="primary",backgroundImage:w,className:I,round:C,pill:S,fluid:E,isText:P,isLoading:k,isShiny:T,withPremiumGradient:M,onTransitionEnd:A,ariaLabel:L,ariaControls:N,hasPopup:R,href:Z,download:D,disabled:B,nonInteractive:x,allowDisabledClick:O,noFastClick:_="danger"===v,ripple:F,faded:j,tabIndex:$,isRtl:U,isRectangular:V,noPreventDefault:H,shouldStopPropagation:W,style:K})=>{let G=(0,o.sO)(null);e&&(G=e);const[z,q]=(0,o.eJ)(!1),Y=B||x,J=(0,r.Z)("Button",I,b,v,C&&"round",S&&"pill",E&&"fluid",Y&&"disabled",x&&"non-interactive",O&&"click-allowed",P&&"text",k&&"loading",F&&"has-ripple",j&&"faded",z&&"clicked",w&&"with-image",T&&"shiny",M&&"premium",V&&"rectangular"),X=(0,i.Z)((e=>{!O&&Y||!u||u(e),W&&e.stopPropagation(),q(!0),setTimeout((()=>{q(!1)}),400)})),Q=(0,i.Z)((e=>{H||e.preventDefault