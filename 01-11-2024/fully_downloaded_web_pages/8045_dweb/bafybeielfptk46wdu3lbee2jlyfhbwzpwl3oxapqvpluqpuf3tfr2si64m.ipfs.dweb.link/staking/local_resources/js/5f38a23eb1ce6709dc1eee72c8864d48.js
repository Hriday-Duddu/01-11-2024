"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1497],{94671:function(e,t,n){n.d(t,{NI:function(){return r},gK:function(){return s},pQ:function(){return o},Fi:function(){return i},iv:function(){return c},Vc:function(){return l},yI:function(){return p}});var r,a=n(70794),u=n(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(r||(r={}));var s=function(e,t){return"-1"!==e&&new a.O(e).minus(new a.O(t)).lt("1.05")},o=65e3,i=55e3,c=function(e){var t=e.approvedAmount,n=e.signedAmount,r=e.amount;return!("-1"===t||"-1"===n||"0"!==t&&Number(t)>=Number(r)||Number(n)>=Number(r))},l=function(e){var t=[];return e.userReservesData.forEach((function(e){Number(e.scaledATokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&t.push(e.reserve.symbol)})),t},p=function(e,t,n,r){var a=e.reserve;if(!a.usageAsCollateralEnabled)return u.z.UNAVAILABLE;var s=u.z.ENABLED,o=e&&"0"!==e.scaledATokenBalance,i="0"!==t;return a.isIsolated?r?s=u.z.UNAVAILABLE:n?o?s=e.usageAsCollateralEnabledOnUser?u.z.ISOLATED_ENABLED:u.z.DISABLED:i&&(s=u.z.UNAVAILABLE_DUE_TO_ISOLATION):s=i?u.z.ISOLATED_DISABLED:u.z.ISOLATED_ENABLED:s=n?u.z.UNAVAILABLE_DUE_TO_ISOLATION:o?e.usageAsCollateralEnabledOnUser?u.z.ENABLED:u.z.DISABLED:u.z.ENABLED,s}},74119:function(e,t,n){n.d(t,{w_:function(){return _},rG:function(){return E},aE:function(){return g},xS:function(){return L},F8:function(){return T},_n:function(){return b},wP:function(){return N},Ik:function(){return I},sm:function(){return k},LN:function(){return x},IG:function(){return U}});var r,a=n(50029),u=n(59499),s=n(87794),o=n.n(s),i=n(75331),c=n(80854),l=n(1279),p=n(35977),d=n(3330),m=n(79643),A=function(e){var t=(0,m.Sv)(fetch);return(0,m.A6)({chainId:e,fetcher:t},m.QA,m.TG)},f=(r={},(0,u.Z)(r,i.a_.mainnet,A(i.a_.mainnet)),(0,u.Z)(r,i.a_.polygon,A(i.a_.polygon)),(0,u.Z)(r,i.a_.avalanche,A(i.a_.avalanche)),(0,u.Z)(r,i.a_.fantom,A(i.a_.fantom)),(0,u.Z)(r,i.a_.arbitrum_one,A(i.a_.arbitrum_one)),(0,u.Z)(r,i.a_.optimism,A(i.a_.optimism)),(0,u.Z)(r,i.a_.base,A(i.a_.base)),(0,u.Z)(r,i.a_.bnb,A(i.a_.bnb)),r),_=function(e){var t=f[e];if(t)return t;throw new Error("Chain not supported")},E=function(e){return i.a_.base===e?p.Uc:d.Uc},v={ESTIMATED_LOSS_GREATER_THAN_MAX_IMPACT:"Price impact too high. Please try a different amount or asset pair.","No routes found with enough liquidity":"No routes found with enough liquidity."},h=[{regex:/^Amount \d+ is too small to proceed$/,message:"Amount is too small. Please try larger amount."}];function g(e){var t;return e in v?v[e]:(null===(t=h.find((function(t){return t.regex.test(e)})))||void 0===t?void 0:t.message)||"There was an issue fetching data from Paraswap"}function L(e,t,n,r,a,u){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)(o().mark((function e(t,n,r,a,u,s){var i,c,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=S(a),e.next=3,i.getTransactionParams(n.underlyingAsset,n.decimals,r.underlyingAsset,r.decimals,u,t,s);case 3:return c=e.sent,p=c.swapCallData,d=c.augustus,e.abrupt("return",{swapCallData:p,augustus:d,inputAmount:(0,l.Fv)(t.srcAmount,n.decimals),outputAmount:(0,l.Fv)(t.destAmount,r.decimals),inputAmountUSD:t.srcUSD,outputAmountUSD:t.destUSD});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r,a){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(o().mark((function e(t,n,r,a,u){var s,i,c,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.hE)(t.amount),u&&"0"!==t.supplyAPY&&(s=s.plus(s.multipliedBy(t.supplyAPY).dividedBy(17280))),i=(0,l.pV)(s,-1*t.decimals),c={partner:"aave"},u&&(c.includeContractMethods=[m.OZ.multiSwap,m.OZ.megaSwap]),p=S(r),e.next=8,p.getRate(i.toFixed(0),t.underlyingAsset,t.decimals,n.underlyingAsset,n.decimals,a,c);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,a,u){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(o().mark((function e(t,n,r,a,u,s){var i,c,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=C(a),e.next=3,i.getTransactionParams(n.underlyingAsset,n.decimals,r.underlyingAsset,r.decimals,u,t,s);case 3:return c=e.sent,p=c.swapCallData,d=c.augustus,e.abrupt("return",{swapCallData:p,augustus:d,inputAmount:(0,l.Fv)(t.srcAmount,n.decimals),outputAmount:(0,l.Fv)(t.destAmount,r.decimals),inputAmountUSD:t.srcUSD,outputAmountUSD:t.destUSD});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,r,a){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(o().mark((function e(t,n,r,a,u){var s,i,c,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.hE)(n.amount),i=(0,l.pV)(s,-1*n.decimals),c={partner:"aave"},u&&(c.includeContractMethods=[m.OZ.buy]),p=C(r),e.next=7,p.getRate(i.toFixed(0),t.underlyingAsset,t.decimals,n.underlyingAsset,n.decimals,a,c);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var t=_(e),n=E(e),r=function(){var e=(0,a.Z)(o().mark((function e(n,r,a,u,s,i,c){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRate({amount:n,srcToken:r,srcDecimals:a,destToken:u,destDecimals:s,userAddress:i,side:m.PC.SELL,options:c});case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,u,s,o){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)(o().mark((function e(r,a,u,s,i,c,l){var p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.buildTx({srcToken:r,srcDecimals:a,srcAmount:c.srcAmount,destToken:u,destDecimals:s,slippage:100*l,priceRoute:c,userAddress:i,partnerAddress:n,takeSurplus:!0},{ignoreChecks:!0});case 3:return p=e.sent,e.abrupt("return",{swapCallData:p.data,augustus:p.to});case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),new Error("Error building transaction parameters");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r,a,u,s,o){return e.apply(this,arguments)}}();return{getRate:r,getTransactionParams:u}},C=function(e){var t=_(e),n=function(){var e=(0,a.Z)(o().mark((function e(n,r,a,u,s,i,c){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRate({amount:n,srcToken:r,srcDecimals:a,destToken:u,destDecimals:s,userAddress:i,side:m.PC.BUY,options:c});case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,u,s,o){return e.apply(this,arguments)}}(),r=function(){var n=(0,a.Z)(o().mark((function n(r,a,u,s,i,c,l){var p,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p=E(e),n.prev=1,n.next=4,t.buildTx({srcToken:r,destToken:u,destAmount:c.destAmount,slippage:100*l,priceRoute:c,userAddress:i,partnerAddress:p,takeSurplus:!0,srcDecimals:a,destDecimals:s},{ignoreChecks:!0});case 4:return d=n.sent,n.abrupt("return",{swapCallData:d.data,augustus:d.to});case 8:throw n.prev=8,n.t0=n.catch(1),console.log(n.t0),new Error("Error building transaction parameters");case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t,r,a,u,s,o){return n.apply(this,arguments)}}();return{getRate:n,getTransactionParams:r}},I=.1,k=function(e,t,n){var r=Number(e)+Number(e)*(null!==n&&void 0!==n?n:I);return(0,c.gU)(r.toString(),t)},x=function(e,t,n){return"0"===e?"0":(0,l.hE)(e).multipliedBy(1+Number(t)/100).toFixed(n)},U=function(e,t,n){return"0"===e?"0":(0,l.hE)(e).multipliedBy(1-Number(t)/100).toFixed(n)}}}]);