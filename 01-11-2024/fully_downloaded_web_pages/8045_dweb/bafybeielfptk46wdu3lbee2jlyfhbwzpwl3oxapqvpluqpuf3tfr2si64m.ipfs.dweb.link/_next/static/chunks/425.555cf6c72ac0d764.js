"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{62753:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(64938)),i=n(85893),a=(0,o.default)((0,i.jsx)("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"LocalGasStation");t.Z=a},81902:function(e,t,n){var r;n.d(t,{R:function(){return r}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(r||(r={}))},29002:function(e,t,n){n.d(t,{o:function(){return d}});var r=n(59499),o=n(4730),i=n(81645),a=n(85893),s=["sx"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.sx,n=(0,o.Z)(e,s);return(0,a.jsxs)(i.Z,l(l({sx:l({fill:"none",stroke:"#A5A8B6"},t),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},n),{},{children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,a.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,a.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},25049:function(e,t,n){n.d(t,{Y:function(){return p}});var r=n(59499),o=n(4730),i=n(49501),a=n(81902),s=n(58527),c=n(85893),l=["capType"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.capType,n=(0,o.Z)(e,l),r=t===a.R.supplyCap?(0,c.jsx)(i.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,c.jsx)(i.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,c.jsx)(s.G,u(u({},n),{},{children:r}))}},53601:function(e,t,n){n.d(t,{l:function(){return T},W:function(){return S}});var r=n(59499),o=n(4730),i=n(49501),a=n(33740),s=n(62097),c=n(30120),l=n(29630),d=n(90149),u=n(81011),p=n(80562),x=n(55343),m=n(46541),f=n(31538),h=n(61702),v=n(75084),b=n(67294),j=n(57333),y=n(78371),g=n(25049),O=n(41024),w=n(72667),k=n(85893),C=["onChange"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=b.forwardRef((function(e,t){var n=e.onChange,r=(0,o.Z)(e,C);return(0,k.jsx)(j.Z,Z(Z({},r),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&n({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),S=function(e){var t=e.value,n=e.usdValue,r=e.symbol,o=e.onChange,b=e.disabled,j=e.disableInput,C=e.onSelect,P=e.assets,S=e.capType,A=e.maxValue,E=e.isMaxSelected,D=e.inputTitle,I=e.balanceText,N=e.loading,R=void 0!==N&&N,M=e.event,_=e.selectOptionHeader,B=e.selectOption,L=e.sx,z=void 0===L?{}:L,U=e.exchangeRateComponent,H=(0,s.Z)(),V=(0,y.Y)((function(e){return e.trackEvent})),F=1===P.length?P[0]:P&&P.find((function(e){return e.symbol===r}));return(0,k.jsxs)(c.Z,Z(Z({},z),{},{children:[(0,k.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,k.jsx)(l.Z,{color:"text.secondary",children:D||(0,k.jsx)(i.cC,{id:"Amount"})}),S&&(0,k.jsx)(g.Y,{capType:S})]}),(0,k.jsxs)(c.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,k.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[R?(0,k.jsx)(c.Z,{sx:{flex:1},children:(0,k.jsx)(d.Z,{color:"inherit",size:"16px"})}):(0,k.jsx)(u.ZP,{sx:{flex:1},placeholder:"0.00",disabled:b||j,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(A)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:T}),""!==t&&!j&&(0,k.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:b,children:(0,k.jsx)(a.Z,{height:16})}),C&&1!==P.length?(0,k.jsx)(x.Z,{children:(0,k.jsxs)(m.Z,{disabled:b,value:F.symbol,onChange:function(e){var t=P.find((function(t){return t.symbol===e.target.value}));C&&C(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===H.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===P.length?P[0]:P&&P.find((function(t){return t.symbol===e}));return(0,k.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,k.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,k.jsx)(l.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[_||void 0,P.map((function(e){return(0,k.jsx)(f.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:B?B(e):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,k.jsx)(h.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,k.jsx)(O.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,k.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,k.jsx)(w.T1,{aToken:F.aToken,symbol:F.iconSymbol||F.symbol,sx:{mr:2,ml:4}}),(0,k.jsx)(l.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:r})]})]}),(0,k.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[R?(0,k.jsx)(c.Z,{sx:{flex:1}}):(0,k.jsx)(O.B,{value:isNaN(Number(n))?0:Number(n),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),F.balance&&o&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[I&&""!==I?I:(0,k.jsx)(i.cC,{id:"Balance"})," ",(0,k.jsx)(O.B,{value:F.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!j&&(0,k.jsx)(v.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){M&&V(M.eventName,Z({},M.eventParams)),o("-1")},disabled:b||E,children:(0,k.jsx)(i.cC,{id:"Max"})})]})]}),U&&(0,k.jsx)(c.Z,{sx:{background:H.palette.background.surface,borderTop:"1px solid ".concat(H.palette.divider),px:3,py:2},children:U})]})]}))}},63491:function(e,t,n){n.d(t,{D:function(){return x}});var r=n(49501),o=n(5506),i=n(52758),a=n(30120),s=n(81645),c=n(29630),l=n(68346),d=n(75084),u=n(8195),p=n(85893),x=function(e){var t=e.txError,n=(0,u.vR)().close;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,p.jsx)(a.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(s.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,p.jsx)(o.Z,{})})}),(0,p.jsx)(c.Z,{sx:{mt:2},variant:"h2",children:(0,p.jsx)(r.cC,{id:"Transaction failed"})}),(0,p.jsx)(c.Z,{children:(0,p.jsx)(r.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,p.jsx)(l.Z,{href:"https://discord.com/invite/aave"}),1:(0,p.jsx)(l.Z,{href:"https://github.com/aave/interface"})}})}),(0,p.jsxs)(d.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,p.jsx)(r.cC,{id:"Copy error text"}),(0,p.jsx)(s.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,p.jsx)(i.Z,{})})]})]}),(0,p.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,p.jsx)(d.Z,{onClick:n,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,p.jsx)(r.cC,{id:"Close"})})})]})}},67916:function(e,t,n){n.d(t,{Q:function(){return c}});var r=n(49501),o=n(29630),i=n(75084),a=n(69331),s=n(85893),c=function(e){var t=e.txError;return(0,s.jsx)(a.v,{severity:"error",sx:{mt:4,mb:0},children:(0,s.jsx)(o.Z,{variant:"description",children:t.error?(0,s.jsxs)(s.Fragment,{children:[t.error," ",(0,s.jsx)(i.Z,{sx:{verticalAlign:"top"},variant:"text",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},children:(0,s.jsx)(o.Z,{variant:"description",children:(0,s.jsx)(r.cC,{id:"copy the error"})})})]}):(0,s.jsx)(r.cC,{id:"There was some error. Please try changing the parameters or <0><1>copy the error</1></0>",components:{0:(0,s.jsx)(i.Z,{sx:{verticalAlign:"top"},onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())}}),1:(0,s.jsx)(o.Z,{variant:"description"})}})})})}},93608:function(e,t,n){n.d(t,{R:function(){return h}});var r=n(49501),o=n(75331),i=n(62097),a=n(30120),s=n(29630),c=n(75084),l=n(67294),d=n(29002),u=n(41024),p=n(72667),x=n(77537),m=n(55200),f=n(85893),h=function(e){var t=e.txHash,n=e.action,h=e.amount,v=e.symbol,b=e.collateral,j=e.rate,y=e.addToken,g=e.customAction,O=e.customText,w=(0,x.Z)().addERC20Token,k=(0,l.useState)(""),C=k[0],P=k[1],Z=(0,i.Z)();return(0,f.jsx)(m.R,{txHash:t,children:(0,f.jsxs)(a.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[n&&h&&v&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(r.cC,{id:"You {action} <0/> {symbol}",values:{action:n,symbol:v},components:{0:(0,f.jsx)(u.B,{value:Number(h),compact:!0,variant:"secondary14"})}})}),g&&(0,f.jsxs)(s.Z,{children:[O,g]}),!n&&!h&&v&&(0,f.jsxs)(s.Z,{children:["Your ",v," ",b?"now":"is not"," used as collateral"]}),j&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(r.cC,{id:"You switched to {0} rate",values:{0:j===o.tk.Variable?"variable":"stable"}})}),y&&v&&(0,f.jsxs)(a.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,f.jsx)(p.T1,{symbol:y.symbol,aToken:!(!y||!y.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,f.jsx)(s.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,f.jsx)(r.cC,{id:"Add {0} to wallet to track your balance.",values:{0:y&&y.aToken?"aToken ":"token "}})}),(0,f.jsxs)(c.Z,{onClick:function(){w({address:y.address,decimals:y.decimals,symbol:y.aToken?"":y.symbol,image:/_/.test(y.symbol)?void 0:C})},variant:"dark"===Z.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[y.symbol&&!/_/.test(y.symbol)&&(0,f.jsx)(p.Js,{symbol:y.symbol,onImageGenerated:P,aToken:y.aToken}),(0,f.jsx)(d.o,{sx:{width:"20px",height:"20px"}}),(0,f.jsx)(s.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,f.jsx)(r.cC,{id:"Add to wallet"})})]})]})]})})}},67489:function(e,t,n){n.d(t,{B:function(){return H}});var r=n(59499),o=n(4730),i=n(49501),a=n(58057),s=n(81645),c=n(30120),l=n(75084),d=n(90149),u=n(29630),p=n(8195),x=n(77537),m=n(39771),f=n(36864),h=n(68861),v=n(58527),b=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=(0,f.Z)({},e);return(0,b.jsx)(v.G,y(y({},t),{},{children:(0,b.jsx)(i.cC,{id:"To continue, you need to grant Aave smart contracts permission to move your funds from your wallet. Depending on the asset and wallet you use, it is done by signing the permission message (gas free), or by submitting an approval transaction (requires gas). <0>Learn more</0>",components:{0:(0,b.jsx)(h.rU,{href:"https://eips.ethereum.org/EIPS/eip-2612",underline:"always"})}})}))},O=n(56365),w=n(68346),k=n(17674),C=n(64343),P=n(22659),Z=n(73812),T=n(31538),S=n(61702),A=n(29894),E=n(67294),D=n(32113),I=function(e){var t=e.currentMethod,n=e.setMethod,r=E.useState(null),o=(0,k.Z)(r,2),a=o[0],l=o[1],d=Boolean(a),p=function(){l(null)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(c.Z,{onClick:function(e){l(e.currentTarget)},sx:{display:"flex",alignItems:"center",cursor:"pointer"},"data-cy":"approveButtonChange",children:[(0,b.jsx)(u.Z,{variant:"subheader2",color:"info.main",children:(0,b.jsx)(i.cC,{id:"{currentMethod}",values:{currentMethod:t}})}),(0,b.jsx)(s.Z,{sx:{fontSize:16,ml:1,color:"info.main"},children:(0,b.jsx)(P.Z,{})})]}),(0,b.jsxs)(Z.Z,{anchorEl:a,open:d,onClose:p,MenuListProps:{"aria-labelledby":"basic-button"},keepMounted:!0,"data-cy":"approveMenu_".concat(t),children:[(0,b.jsxs)(T.Z,{"data-cy":"approveOption_".concat(D.n.PERMIT),selected:t===D.n.PERMIT,value:D.n.PERMIT,onClick:function(){t===D.n.APPROVE&&n(D.n.PERMIT),p()},children:[(0,b.jsx)(S.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,b.jsx)(i.cC,{id:"{0}",values:{0:D.n.PERMIT}})}),(0,b.jsx)(A.Z,{children:(0,b.jsx)(s.Z,{children:t===D.n.PERMIT&&(0,b.jsx)(C.Z,{})})})]}),(0,b.jsxs)(T.Z,{"data-cy":"approveOption_".concat(D.n.APPROVE),selected:t===D.n.APPROVE,value:D.n.APPROVE,onClick:function(){t===D.n.PERMIT&&n(D.n.APPROVE),p()},children:[(0,b.jsx)(S.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,b.jsx)(i.cC,{id:"{0}",values:{0:D.n.APPROVE}})}),(0,b.jsx)(A.Z,{children:(0,b.jsx)(s.Z,{children:t===D.n.APPROVE&&(0,b.jsx)(C.Z,{})})})]})]})]})},N=n(89291),R=n(46930),M=n(78371),_=function(){return(0,b.jsx)(s.Z,{sx:{ml:"2px",fontSize:"11px"},children:(0,b.jsx)(O.Z,{})})},B=function(e){var t=e.approvalHash,n=e.tryPermit,r=(0,M.Y)(),o=r.walletApprovalMethodPreference,a=r.setWalletApprovalMethodPreference,s=n&&o,l=(0,R.f)().currentNetworkConfig,d=t===N.Z;return t||d||!n?t&&!s?(0,b.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",pb:1},children:t&&(0,b.jsxs)(w.Z,{variant:"helperText",href:l.explorerLinkBuilder({tx:t}),sx:{display:"inline-flex",alignItems:"center"},underline:"hover",target:"_blank",rel:"noreferrer noopener",children:[(0,b.jsx)(i.cC,{id:"Review approval tx details"}),(0,b.jsx)(_,{})]})}):(0,b.jsx)(b.Fragment,{}):(0,b.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center",mb:2},children:[(0,b.jsxs)(u.Z,{variant:"subheader2",color:"text.secondary",children:[(0,b.jsx)(i.cC,{id:"Approve with"}),"\xa0"]}),(0,b.jsx)(I,{currentMethod:o,setMethod:function(e){return a(e)}})]})},L=["actionInProgressText","actionText","amount","approvalTxState","handleApproval","handleAction","isWrongNetwork","mainTxState","preparingTransactions","requiresAmount","requiresApproval","sx","symbol","blocked","fetchingData","errorParams","tryPermit","event"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.actionInProgressText,n=e.actionText,r=e.amount,f=e.approvalTxState,h=e.handleApproval,v=e.handleAction,j=e.isWrongNetwork,y=e.mainTxState,O=e.preparingTransactions,w=e.requiresAmount,k=e.requiresApproval,C=e.sx,P=e.symbol,Z=e.blocked,T=e.fetchingData,S=void 0!==T&&T,A=e.errorParams,E=e.tryPermit,D=(e.event,(0,o.Z)(e,L)),I=(0,p.vR)().txError,N=(0,x.Z)().readOnlyModeAddress,R=k&&(null===I||void 0===I?void 0:I.txAction)===m.aD.APPROVAL&&(null===I||void 0===I?void 0:I.actionBlocked),M=w&&w&&0===Number(r);var _=Z?{disabled:!0,content:n}:(null===I||void 0===I?void 0:I.txAction)!==m.aD.GAS_ESTIMATION&&(null===I||void 0===I?void 0:I.txAction)!==m.aD.MAIN_ACTION||null===I||void 0===I||!I.actionBlocked?j?{disabled:!0,content:(0,b.jsx)(i.cC,{id:"Wrong Network"})}:S?{disabled:!0,content:(0,b.jsx)(i.cC,{id:"Fetching data..."})}:M?{disabled:!0,content:(0,b.jsx)(i.cC,{id:"Enter an amount"})}:O?{disabled:!0,loading:!0}:null!==y&&void 0!==y&&y.loading?{loading:!0,disabled:!0,content:t}:!k||null!==f&&void 0!==f&&f.success?{content:n,handleClick:v}:{disabled:!0,content:n}:A||{loading:!1,disabled:!0,content:n},z=_.content,H=_.disabled,V=_.loading,F=_.handleClick,W=!k||j||M||O||R?null:null!==f&&void 0!==f&&f.loading?{loading:!0,disabled:!0,content:(0,b.jsx)(i.cC,{id:"Approving {symbol}...",values:{symbol:P}})}:null!==f&&void 0!==f&&f.success?{disabled:!0,content:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.cC,{id:"Approve Confirmed"}),(0,b.jsx)(s.Z,{sx:{fontSize:20,ml:2},children:(0,b.jsx)(a.Z,{})})]})}:{content:(0,b.jsx)(g,{variant:"buttonL",iconSize:20,iconMargin:2,color:"white",text:(0,b.jsx)(i.cC,{id:"Approve {symbol} to continue",values:{symbol:P}})}),handleClick:h};return(0,b.jsxs)(c.Z,U(U({sx:U({display:"flex",flexDirection:"column",mt:12},C)},D),{},{children:[W&&!N&&(0,b.jsx)(c.Z,{sx:{display:"flex",justifyContent:"end",alignItems:"center"},children:(0,b.jsx)(B,{approvalHash:null===f||void 0===f?void 0:f.txHash,tryPermit:E})}),W&&!N&&(0,b.jsxs)(l.Z,{variant:"contained",disabled:W.disabled||Z,onClick:function(){return W.handleClick&&W.handleClick()},size:"large",sx:{minHeight:"44px"},"data-cy":"approvalButton",children:[W.loading&&(0,b.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),W.content]}),(0,b.jsxs)(l.Z,{variant:"contained",disabled:H||Z||void 0!==N,onClick:F,size:"large",sx:U({minHeight:"44px"},W?{mt:2}:{}),"data-cy":"actionButton",children:[V&&(0,b.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),z]}),N&&(0,b.jsx)(u.Z,{variant:"helperText",color:"warning.main",sx:{textAlign:"center",mt:2},children:(0,b.jsx)(i.cC,{id:"Read-only mode. Connect to a wallet to perform transactions."})})]}))}},8740:function(e,t,n){n.r(t),n.d(t,{UnStakeModal:function(){return _}});var r=n(67294),o=n(8195),i=n(31959),a=n(49501),s=n(75331),c=n(1279),l=n(29630),d=n(56371),u=n(77912),p=n(60265),x=n(77537),m=n(78371),f=n(84568),h=n(63206),v=n(53601),b=n(63491),j=n(67916),y=n(93608),g=n(78944),O=n(35643),w=n(10343),k=n(59499),C=n(50029),P=n(4730),Z=n(87794),T=n.n(Z),S=n(89291),A=n(67489),E=n(85893),D=["amountToUnStake","isWrongNetwork","sx","symbol","blocked","selectedToken"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var N,R=function(e){var t=e.amountToUnStake,n=e.isWrongNetwork,r=e.sx,o=e.symbol,i=e.blocked,c=e.selectedToken,l=(0,P.Z)(e,D),d=(0,m.Y)((function(e){return e.redeem})),u=(0,S.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,C.Z)(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(c)(t.toString()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:!t||0===parseFloat(t)||i,deps:[t],protocolAction:s.UQ.unstake,eventTxInfo:{amount:t,assetName:c}}),p=u.action,x=u.loadingTxns,f=u.mainTxState,h=u.requiresApproval;return(0,E.jsx)(A.B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({requiresApproval:h,blocked:i,preparingTransactions:x,handleAction:p,requiresAmount:!0,amount:t,actionText:(0,E.jsx)(a.cC,{id:"Unstake {symbol}",values:{symbol:o}}),actionInProgressText:(0,E.jsx)(a.cC,{id:"Unstaking {symbol}",values:{symbol:o}}),mainTxState:f,isWrongNetwork:n,sx:r},l))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE"}(N||(N={}));var M=function(e){var t=e.stakeAssetName,n=e.icon,i=(0,x.Z)(),k=i.chainId,C=i.readOnlyModeAddress,P=(0,o.vR)(),Z=P.gasLimit,T=P.mainTxState,S=P.txError,A=(0,m.Y)((function(e){return e.currentMarketData})),D=(0,m.Y)((function(e){return e.currentNetworkConfig})),I=(0,m.Y)((function(e){return e.currentChainId})),M=(0,p.f)(A,t).data,_=(0,u.I)(A,t).data,B=null===_||void 0===_?void 0:_[0],L=null===M||void 0===M?void 0:M[0],z=(0,r.useState)(""),U=z[0],H=z[1],V=(0,r.useRef)(),F=null===L||void 0===L?void 0:L.userCooldownAmount;null!==B&&void 0!==B&&B.inPostSlashingPeriod&&(F=null===L||void 0===L?void 0:L.stakeTokenUserBalance);var W=(0,c.Fv)(F||"0",18),Y="-1"===U,G=Y?W:U,q=Number(G)*Number(null===B||void 0===B?void 0:B.stakeTokenPriceUSDFormatted),Q=void 0;(0,c.hE)(G).gt(W)&&(Q=N.NOT_ENOUGH_BALANCE);var K=(0,f.Q)(t),X=D.isFork&&D.underlyingChainId===f.X.chainId?I:f.X.chainId,J=k!==X,$=(0,h.Mo)(X);return S&&S.blocking?(0,E.jsx)(b.D,{txError:S}):T.success?(0,E.jsx)(y.R,{action:(0,E.jsx)(a.cC,{id:"Unstaked"}),amount:V.current,symbol:K}):(console.log(n),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.E,{title:"Unstake",symbol:K}),J&&!C&&(0,E.jsx)(w.I,{networkName:$.name,chainId:X}),(0,E.jsx)(v.W,{value:G,onChange:function(e){var t="-1"===e;V.current=t?W:e,H(e)},usdValue:q.toString(),symbol:K,assets:[{balance:W,symbol:n}],isMaxSelected:Y,maxValue:W,balanceText:(0,E.jsx)(a.cC,{id:"Staking balance"})}),void 0!==Q&&(0,E.jsx)(l.Z,{variant:"helperText",color:"red",children:Q===N.NOT_ENOUGH_BALANCE?(0,E.jsx)(a.cC,{id:"Not enough staked balance"}):null}),(0,E.jsx)(O.g,{gasLimit:(0,d.parseUnits)(Z||"0","wei"),chainId:s.a_.mainnet}),S&&(0,E.jsx)(j.Q,{txError:S}),(0,E.jsx)(R,{sx:{mt:"48px"},amountToUnStake:G,isWrongNetwork:J,symbol:K,blocked:void 0!==Q,selectedToken:t})]}))},_=function(){var e=(0,o.vR)(),t=e.type,n=e.close,r=e.args;return(0,E.jsx)(i.P,{open:t===o.w8.Unstake,setOpen:n,children:(null===r||void 0===r?void 0:r.icon)&&(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,E.jsx)(M,{icon:r.icon,stakeAssetName:r.stakeAssetName})})}},10343:function(e,t,n){n.d(t,{I:function(){return m}});var r=n(59499),o=n(49501),i=n(29630),a=n(75084),s=n(77537),c=n(78371),l=n(57609),d=n(69331),u=n(85893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.networkName,n=e.chainId,r=e.event,p=e.funnel,m=(0,s.Z)(),f=m.switchNetwork,h=m.switchNetworkError,v=(0,c.Y)((function(e){return e.trackEvent}));return(0,u.jsx)(d.v,{severity:"error",icon:!1,children:h?(0,u.jsx)(i.Z,{children:(0,u.jsx)(o.cC,{id:"Seems like we can't switch the network automatically. Please check if you can change it from the wallet."})}):(0,u.jsxs)(i.Z,{variant:"description",children:[(0,u.jsx)(o.cC,{id:"Please switch to {networkName}.",values:{networkName:t}})," ",(0,u.jsx)(a.Z,{variant:"text",sx:{ml:"2px",verticalAlign:"top"},onClick:function(){v(l.vh.SWITCH_NETWORK,x(x({funnel:p},null===r||void 0===r?void 0:r.eventParams),{},{network:t})),f(n)},disableRipple:!0,children:(0,u.jsx)(i.Z,{variant:"description",children:(0,u.jsx)(o.cC,{id:"Switch Network"})})})]})})}},82482:function(e,t,n){n.d(t,{P:function(){return b}});var r=n(80854),o=n(1279),i=n(81206),a=n(82403),s=n(70794),c=n(78371),l=n(63206),d=n(52369),u=n(59499),p=n(87669),x=n(31001),m=n(8430);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e,t,n){var r=(0,m.z)().poolTokensBalanceService;return(0,p.h)({queries:e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:x.B.poolTokens(t,e),queryFn:function(){return r.getPoolTokensBalances(e,t)},enabled:!!t,refetchInterval:x.g},n)}))})},v=function(e){var t=(0,c.Y)((function(e){return e.account})),n=h(e,t),u=(0,d.T)(e),p=n.some((function(e){return e.isLoading}))||u.some((function(e){return e.isLoading}));return{walletBalances:u.map((function(t,c){var d;return function(e){var t=e.reservesHumanized,n=e.balances,c=e.marketData,d=(null===t||void 0===t?void 0:t.reservesData)||[],u=(null===t||void 0===t?void 0:t.baseCurrencyData)||{marketReferenceCurrencyDecimals:0,marketReferenceCurrencyPriceInUsd:"0",networkBaseTokenPriceInUsd:"0",networkBaseTokenPriceDecimals:0},p=!0;return{walletBalances:(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=d.find((function(e){var n;return t.address===r.hP.toLowerCase()?e.symbol.toLowerCase()===(null===(n=l.m5[c.chainId].wrappedBaseAssetSymbol)||void 0===n?void 0:n.toLowerCase()):e.underlyingAsset.toLowerCase()===t.address}));return"0"!==t.amount&&(p=!1),n&&(e[t.address]={amount:(0,o.Fv)(t.amount,n.decimals),amountUSD:(0,i.Z)({amount:new s.O(t.amount),currencyDecimals:n.decimals,priceInMarketReferenceCurrency:n.priceInMarketReferenceCurrency,marketReferenceCurrencyDecimals:u.marketReferenceCurrencyDecimals,normalizedMarketReferencePriceInUsd:(0,o.Fv)(u.marketReferenceCurrencyPriceInUsd,a.$3)})}),e}),{}),hasEmptyWallet:p}}({reservesHumanized:t.data,balances:null===(d=n[c])||void 0===d?void 0:d.data,marketData:e[c]})})),isLoading:p}},b=function(e){var t=v([e]),n=t.walletBalances,r=t.isLoading;return{walletBalances:n[0].walletBalances,hasEmptyWallet:n[0].hasEmptyWallet,loading:r}}},64343:function(e,t,n){var r=n(67294);const o=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));t.Z=o}}]);