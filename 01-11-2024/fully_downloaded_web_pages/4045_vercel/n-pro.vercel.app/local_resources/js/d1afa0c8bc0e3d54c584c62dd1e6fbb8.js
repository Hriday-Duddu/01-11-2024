(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(e,t,n){"use strict";var r,i;e.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(i=n.g.process)||void 0===i?void 0:i.env)?n.g.process:n(7663)},6363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(3847)}])},4927:function(e,t,n){"use strict";n.d(t,{H:function(){return gc},Z:function(){return mc}});var r=n(4051),i=n.n(r),s=n(5893);const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){return function(e){const t=o(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(p,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new d(r,o,n)}}const p=/\{\$([^}]+)}/g;function g(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(m(n)&&m(s)){if(!g(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m(e){return null!==e&&"object"===typeof e}function v(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function y(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class b{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function w(){}function T(e){return e&&e._delegate?e._delegate:e}function S(e,t){return new Promise(((n,r)=>{e.onsuccess=e=>{n(e.target.result)},e.onerror=e=>{var n;r(`${t}: ${null===(n=e.target.error)||void 0===n?void 0:n.message}`)}}))}class E{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new I(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new R(this._db.createObjectStore(e,t))}close(){this._db.close()}}class I{constructor(e){this._transaction=e,this.complete=new Promise(((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}}))}objectStore(e){return new R(this._transaction.objectStore(e))}}class R{constructor(e){this._store=e}index(e){return new k(this._store.index(e))}createIndex(e,t,n){return new k(this._store.createIndex(e,t,n))}get(e){return S(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return S(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return S(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return S(this._store.clear(),"Error clearing IndexedDB object store")}}class k{constructor(e){this._index=e}get(e){return S(this._index.get(e),"Error reading from IndexedDB")}}class A{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const N="[DEFAULT]";class C{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new u;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:N})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===N?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:N:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const L=[];var D;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(D||(D={}));const P={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},M=D.INFO,U={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},x=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=U[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class V{constructor(e){this.name=e,this._logLevel=M,this._logHandler=x,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}}class F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const B="@firebase/app",j="0.7.21",z=new V("@firebase/app"),H="[DEFAULT]",$={[B]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},W=new Map,G=new Map;function K(e,t){try{e.container.addComponent(t)}catch(n){z.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function q(e){const t=e.name;if(G.has(t))return z.debug(`There were multiple attempts to register component ${t}.`),!1;G.set(t,e);for(const n of W.values())K(n,e);return!0}function X(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const J=new f("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Y{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new A("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw J.create("app-deleted",{appName:this._name})}}const Z="9.6.11";function Q(e="[DEFAULT]"){const t=W.get(e);if(!t)throw J.create("no-app",{appName:e});return t}function ee(e,t,n){var r;let i=null!==(r=$[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void z.warn(e.join(" "))}q(new A(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const te="firebase-heartbeat-store";let ne=null;function re(){var e,t,n;return ne||(ne=(e="firebase-heartbeat-database",t=1,n=(e,t)=>{0===t&&e.createObjectStore(te)},new Promise(((r,i)=>{try{const s=indexedDB.open(e,t);s.onsuccess=e=>{r(new E(e.target.result))},s.onerror=e=>{var t;i(`Error opening indexedDB: ${null===(t=e.target.error)||void 0===t?void 0:t.message}`)},s.onupgradeneeded=e=>{n(new E(s.result),e.oldVersion,e.newVersion,new I(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}}))).catch((e=>{throw J.create("storage-open",{originalErrorMessage:e.message})}))),ne}async function ie(e,t){try{const n=(await re()).transaction(te,"readwrite"),r=n.objectStore(te);return await r.put(t,se(e)),n.complete}catch(n){throw J.create("storage-set",{originalErrorMessage:n.message})}}function se(e){return`${e.name}!${e.options.appId}`}class oe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ce(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ae();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ae(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=c(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ae(){return(new Date).toISOString().substring(0,10)}class ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return"object"===typeof indexedDB&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{return(await re()).transaction(te).objectStore(te).get(se(e))}catch(t){throw J.create("storage-get",{originalErrorMessage:t.message})}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return c(JSON.stringify({version:2,heartbeats:e})).length}var ue;ue="",q(new A("platform-logger",(e=>new F(e)),"PRIVATE")),q(new A("heartbeat",(e=>new oe(e)),"PRIVATE")),ee(B,j,ue),ee(B,j,"esm2017"),ee("fire-js","");function he(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function de(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fe=de,pe=new f("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new V("@firebase/auth");function me(e,...t){ge.logLevel<=D.ERROR&&ge.error(`Auth (9.6.11): ${e}`,...t)}function ve(e,...t){throw be(e,...t)}function ye(e,...t){return be(e,...t)}function _e(e,t,n){const r=Object.assign(Object.assign({},fe()),{[t]:n});return new f("auth","Firebase",r).create(t,{appName:e.name})}function be(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return pe.create(e,...t)}function we(e,t,...n){if(!e)throw be(t,...n)}function Te(e){const t="INTERNAL ASSERTION FAILED: "+e;throw me(t),new Error(t)}function Se(e,t){e||Te(t)}const Ee=new Map;function Ie(e){Se(e instanceof Function,"Expected a class definition");let t=Ee.get(e);return t?(Se(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ee.set(e,t),t)}function Re(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ke(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ne(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ke()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ce{constructor(e,t){this.shortDelay=e,this.longDelay=t,Se(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oe(e,t){Se(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Le{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const De={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pe=new Ce(3e4,6e4);function Me(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ue(e,t,n,r,i={}){return xe(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=v(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Le.fetch()(Fe(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function xe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},De),t);try{const t=new Be(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw je(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw je(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw je(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _e(e,a,o);ve(e,a)}}catch(i){if(i instanceof d)throw i;ve(e,"network-request-failed")}}async function Ve(e,t,n,r,i={}){const s=await Ue(e,t,n,r,i);return"mfaPendingCredential"in s&&ve(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Fe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Oe(e.config,i):`${e.config.apiScheme}://${i}`}class Be{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ye(this.auth,"network-request-failed"))),Pe.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function je(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ye(e,t,r);return i.customData._tokenResponse=n,i}function ze(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function He(e){return 1e3*Number(e)}function $e(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return me("JWT malformed, contained fewer than 3 sections"),null;try{const e=l(n);return e?JSON.parse(e):(me("Failed to decode base64 JWT payload"),null)}catch(i){return me("Caught error parsing JWT payload as JSON",i),null}}async function We(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof d&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class Ge{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Ke{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ze(this.lastLoginAt),this.creationTime=ze(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qe(e){var t;const n=e.auth,r=await e.getIdToken(),i=await We(e,async function(e,t){return Ue(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));we(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=he(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ke(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we("undefined"!==typeof e.idToken,"internal-error"),we("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=$e(e);return we(t,"internal-error"),we("undefined"!==typeof t.exp,"internal-error"),we("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return we(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xe(e,{},(async()=>{const n=v({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Fe(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xe;return n&&(we("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(we("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(we("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return Te("not implemented")}}function Je(e,t){we("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ye{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=he(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ke(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await We(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=T(e),r=await n.getIdToken(t),i=$e(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ze(He(i.auth_time)),issuedAtTime:ze(He(i.iat)),expirationTime:ze(He(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=T(e);await qe(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ye(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await qe(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await We(this,async function(e,t){return Ue(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:T}=t;we(y&&T,e,"internal-error");const S=Xe.fromJSON(this.name,T);we("string"===typeof y,e,"internal-error"),Je(u,e.name),Je(h,e.name),we("boolean"===typeof _,e,"internal-error"),we("boolean"===typeof b,e,"internal-error"),Je(d,e.name),Je(f,e.name),Je(p,e.name),Je(g,e.name),Je(m,e.name),Je(v,e.name);const E=new Ye({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new Xe;r.updateFromServerResponse(t);const i=new Ye({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await qe(i),i}}class Ze{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ze.type="NONE";const Qe=Ze;function et(e,t,n){return`firebase:${e}:${t}:${n}`}class tt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=et(this.userKey,r.apiKey,i),this.fullPersistenceKey=et("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ye._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tt(Ie(Qe),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ie(Qe);const s=et(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ye._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new tt(i,e,n)):new tt(i,e,n)}}function nt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ot(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ct(t))return"Blackberry";if(lt(t))return"Webos";if(it(t))return"Safari";if((t.includes("chrome/")||st(t))&&!t.includes("edge/"))return"Chrome";if(at(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function rt(e=h()){return/firefox\//i.test(e)}function it(e=h()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function st(e=h()){return/crios\//i.test(e)}function ot(e=h()){return/iemobile/i.test(e)}function at(e=h()){return/android/i.test(e)}function ct(e=h()){return/blackberry/i.test(e)}function lt(e=h()){return/webos/i.test(e)}function ut(e=h()){return/iphone|ipad|ipod/i.test(e)}function ht(){return function(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function dt(e=h()){return ut(e)||at(e)||lt(e)||ct(e)||/windows phone/i.test(e)||ot(e)}function ft(e,t=[]){let n;switch(e){case"Browser":n=nt(h());break;case"Worker":n=`${nt(h())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.11/${t.length?t.join(","):"FirebaseCore-web"}`}class pt{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mt(this),this.idTokenSubscription=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ie(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await tt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qe(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?T(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ie(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new f("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ie(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await tt.create(this,[Ie(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return we(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function gt(e){return T(e)}class mt{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new b(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class vt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Te("not implemented")}_getIdTokenResponse(e){return Te("not implemented")}_linkToIdToken(e,t){return Te("not implemented")}_getReauthenticationResolver(e){return Te("not implemented")}}async function yt(e,t){return Ue(e,"POST","/v1/accounts:update",t)}class _t extends vt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _t(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _t(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Ve(e,"POST","/v1/accounts:signInWithPassword",Me(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ve(e,"POST","/v1/accounts:signInWithEmailLink",Me(e,t))}(e,{email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return yt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ve(e,"POST","/v1/accounts:signInWithEmailLink",Me(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bt(e,t){return Ve(e,"POST","/v1/accounts:signInWithIdp",Me(e,t))}class wt extends vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ve("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=he(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new wt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return bt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=v(t)}return e}}const Tt={USER_NOT_FOUND:"user-not-found"};class St extends vt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new St({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new St({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ve(e,"POST","/v1/accounts:signInWithPhoneNumber",Me(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ve(e,"POST","/v1/accounts:signInWithPhoneNumber",Me(e,t));if(n.temporaryProof)throw je(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ve(e,"POST","/v1/accounts:signInWithPhoneNumber",Me(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Tt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new St({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Et{constructor(e){var t,n,r,i,s,o;const a=y(_(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);we(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=y(_(e)).link,n=t?y(_(t)).deep_link_id:null,r=y(_(e)).deep_link_id;return(r?y(_(r)).link:null)||r||n||t||e}(e);try{return new Et(t)}catch(n){return null}}}class It{constructor(){this.providerId=It.PROVIDER_ID}static credential(e,t){return _t._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Et.parseLink(t);return we(n,"argument-error"),_t._fromEmailAndCode(e,n.code,n.tenantId)}}It.PROVIDER_ID="password",It.EMAIL_PASSWORD_SIGN_IN_METHOD="password",It.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kt extends Rt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class At extends kt{constructor(){super("facebook.com")}static credential(e){return wt._fromParams({providerId:At.PROVIDER_ID,signInMethod:At.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return At.credentialFromTaggedObject(e)}static credentialFromError(e){return At.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return At.credential(e.oauthAccessToken)}catch(t){return null}}}At.FACEBOOK_SIGN_IN_METHOD="facebook.com",At.PROVIDER_ID="facebook.com";class Nt extends kt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wt._fromParams({providerId:Nt.PROVIDER_ID,signInMethod:Nt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nt.credentialFromTaggedObject(e)}static credentialFromError(e){return Nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Nt.credential(t,n)}catch(r){return null}}}Nt.GOOGLE_SIGN_IN_METHOD="google.com",Nt.PROVIDER_ID="google.com";class Ct extends kt{constructor(){super("github.com")}static credential(e){return wt._fromParams({providerId:Ct.PROVIDER_ID,signInMethod:Ct.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ct.credentialFromTaggedObject(e)}static credentialFromError(e){return Ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ct.credential(e.oauthAccessToken)}catch(t){return null}}}Ct.GITHUB_SIGN_IN_METHOD="github.com",Ct.PROVIDER_ID="github.com";class Ot extends kt{constructor(){super("twitter.com")}static credential(e,t){return wt._fromParams({providerId:Ot.PROVIDER_ID,signInMethod:Ot.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ot.credentialFromTaggedObject(e)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ot.credential(t,n)}catch(r){return null}}}async function Lt(e,t){return Ve(e,"POST","/v1/accounts:signUp",Me(e,t))}Ot.TWITTER_SIGN_IN_METHOD="twitter.com",Ot.PROVIDER_ID="twitter.com";class Dt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Ye._fromIdTokenResponse(e,n,r),s=Pt(n);return new Dt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pt(n);return new Dt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mt extends d{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Mt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Mt(e,t,n,r)}}function Ut(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Mt._fromErrorAndOperation(e,n,t,r);throw n}))}async function xt(e,t,n=!1){const r=await We(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Dt._forOperation(e,"link",r)}async function Vt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await We(e,Ut(r,i,t,e),n);we(s.idToken,r,"internal-error");const o=$e(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(e.uid===a,r,"user-mismatch"),Dt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&ve(r,"user-mismatch"),s}}async function Ft(e,t,n=!1){const r="signIn",i=await Ut(e,r,t),s=await Dt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Bt(e,t){return Ft(gt(e),t)}async function jt(e,t,n){const r=gt(e),i=await Lt(r,{returnSecureToken:!0,email:t,password:n}),s=await Dt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function zt(e,t,n){return Bt(T(e),It.credential(t,n))}function Ht(e){return T(e).signOut()}new WeakMap;const $t="__sak";class Wt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($t,"1"),this.storage.removeItem($t),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gt extends Wt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=h();return it(e)||ut(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ht()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gt.type="LOCAL";const Kt=Gt;class qt extends Wt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qt.type="SESSION";const Xt=qt;class Jt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Jt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Yt(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jt.receivers=[];class Zt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Yt("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Qt(){return window}function en(){return"undefined"!==typeof Qt().WorkerGlobalScope&&"function"===typeof Qt().importScripts}const tn="firebaseLocalStorageDb",nn="firebaseLocalStorage",rn="fbase_key";class sn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function on(e,t){return e.transaction([nn],t?"readwrite":"readonly").objectStore(nn)}function an(){const e=indexedDB.open(tn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(nn,{keyPath:rn})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(nn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tn);return new sn(e).toPromise()}(),t(await an()))}))}))}async function cn(e,t,n){const r=on(e,!0).put({[rn]:t,value:n});return new sn(r).toPromise()}function ln(e,t){const n=on(e,!0).delete(t);return new sn(n).toPromise()}class un{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await an()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return en()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jt._getInstance(en()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Zt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await an();return await cn(e,$t,"1"),await ln(e,$t),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=on(e,!1).get(t),r=await new sn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ln(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=on(e,!1).getAll();return new sn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}un.type="LOCAL";const hn=un;function dn(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ye("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function fn(e){return`__${e}${Math.floor(1e6*Math.random())}`}fn("rcb"),new Ce(3e4,6e4);const pn="recaptcha";async function gn(e,t,n){var r;const i=await n.verify();try{let s;if(we("string"===typeof i,e,"argument-error"),we(n.type===pn,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){we("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ue(e,"POST","/v2/accounts/mfaEnrollment:start",Me(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{we("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;we(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ue(e,"POST","/v2/accounts/mfaSignIn:start",Me(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ue(e,"POST","/v1/accounts:sendVerificationCode",Me(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class mn{constructor(e){this.providerId=mn.PROVIDER_ID,this.auth=gt(e)}verifyPhoneNumber(e,t){return gn(this.auth,e,T(t))}static credential(e,t){return St._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mn.credentialFromTaggedObject(t)}static credentialFromError(e){return mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?St._fromTokenResponse(t,n):null}}function vn(e,t){return t?Ie(t):(we(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mn.PROVIDER_ID="phone",mn.PHONE_SIGN_IN_METHOD="phone";class yn extends vt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _n(e){return Ft(e.auth,new yn(e),e.bypassAuthState)}function bn(e){const{auth:t,user:n}=e;return we(n,t,"internal-error"),Vt(n,new yn(e),e.bypassAuthState)}async function wn(e){const{auth:t,user:n}=e;return we(n,t,"internal-error"),xt(n,new yn(e),e.bypassAuthState)}class Tn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _n;case"linkViaPopup":case"linkViaRedirect":return wn;case"reauthViaPopup":case"reauthViaRedirect":return bn;default:ve(this.auth,"internal-error")}}resolve(e){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sn=new Ce(2e3,1e4);class En extends Tn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,En.currentPopupAction&&En.currentPopupAction.cancel(),En.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Se(1===this.filter.length,"Popup operations only handle one event");const e=Yt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ye(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,En.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Sn.get())};e()}}En.currentPopupAction=null;const In=new Map;class Rn extends Tn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=In.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=An(t),r=kn(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}In.set(this.auth._key(),e)}return this.bypassAuthState||In.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function kn(e){return Ie(e._redirectPersistence)}function An(e){return et("pendingRedirect",e.config.apiKey,e.name)}async function Nn(e,t,n=!1){const r=gt(e),i=vn(r,t),s=new Rn(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Cn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ln(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ln(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ye(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(On(e))}saveEventToCache(e){this.cachedEventUids.add(On(e)),this.lastProcessedEventTime=Date.now()}}function On(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ln({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}const Dn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pn=/^https?/;async function Mn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Ue(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(Un(r))return}catch(n){}ve(e,"unauthorized-domain")}function Un(e){const t=Re(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Pn.test(n))return!1;if(Dn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xn=new Ce(3e4,6e4);function Vn(){const e=Qt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Fn=null;function Bn(e){return Fn=Fn||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Vn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vn(),n(ye(e,"network-request-failed"))},timeout:xn.get()})}if(null===(i=null===(r=Qt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Qt().gapi)||void 0===s?void 0:s.load)){const t=fn("iframefcb");return Qt()[t]=()=>{gapi.load?o():n(ye(e,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Fn=null,e}))}(e),Fn}const jn=new Ce(5e3,15e3),zn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $n(e){const t=e.config;we(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Oe(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Z},i=Hn.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${v(r).slice(1)}`}const Wn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Kn(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Wn),{width:r.toString(),height:i.toString(),top:s,left:o}),l=h().toLowerCase();n&&(a=st(l)?"_blank":n),rt(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=h()){var t;return ut(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Gn(null);const d=window.open(t||"",a,u);we(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Gn(d)}const qn="__/auth/handler",Xn="emulator/auth/handler";function Jn(e,t,n,r,i,s){we(e.config.authDomain,e,"auth-domain-config-required"),we(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Z,eventId:i};if(t instanceof Rt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof kt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${qn}`;return Oe(e,Xn)}(e)}?${v(a).slice(1)}`}const Yn="webStorageSupport";const Zn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xt,this._completeRedirectFn=Nn}async _openPopup(e,t,n,r){var i;Se(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Kn(e,Jn(e,t,n,Re(),r),Yt())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Jn(e,t,n,Re(),r),Qt().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Se(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Bn(e),n=Qt().gapi;return we(n,e,"internal-error"),t.open({where:document.body,url:$n(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ye(e,"network-request-failed"),s=Qt().setTimeout((()=>{r(i)}),jn.get());function o(){Qt().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Cn(e);return t.register("authEvent",(t=>{we(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yn,{type:Yn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ve(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dt()||it()||ut()}};var Qn,er="@firebase/auth",tr="0.19.12";class nr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Qn="Browser",q(new A("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=n.options;return((e,n)=>{we(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),we(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:s,clientPlatform:Qn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ft(Qn)},o=new pt(e,n,r);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ie);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(o,t),o})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),q(new A("auth-internal",(e=>(e=>new nr(e))(gt(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ee(er,tr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qn)),ee(er,tr,"esm2017");var rr=n(1163),ir=n(7294);ee("firebase","9.6.11","app");var sr,or="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ar={},cr=cr||{},lr=or||self;function ur(){}function hr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fr="closure_uid_"+(1e9*Math.random()>>>0),pr=0;function gr(e,t,n){return e.call.apply(e.bind,arguments)}function mr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vr(e,t,n){return(vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gr:mr).apply(null,arguments)}function yr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _r(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function br(){this.s=this.s,this.o=this.o}var wr={};br.prototype.s=!1,br.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fr)&&e[fr]||(e[fr]=++pr)}(this);delete wr[e]}},br.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Sr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Er(e){return Array.prototype.concat.apply([],arguments)}function Ir(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rr(e){return/^[\s\xa0]*$/.test(e)}var kr,Ar=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Nr(e,t){return-1!=e.indexOf(t)}function Cr(e,t){return e<t?-1:e>t?1:0}e:{var Or=lr.navigator;if(Or){var Lr=Or.userAgent;if(Lr){kr=Lr;break e}}kr=""}function Dr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Pr(e){const t={};for(const n in e)t[n]=e[n];return t}var Mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ur(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Mr.length;t++)n=Mr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xr(e){return xr[" "](e),e}xr[" "]=ur;var Vr,Fr=Nr(kr,"Opera"),Br=Nr(kr,"Trident")||Nr(kr,"MSIE"),jr=Nr(kr,"Edge"),zr=jr||Br,Hr=Nr(kr,"Gecko")&&!(Nr(kr.toLowerCase(),"webkit")&&!Nr(kr,"Edge"))&&!(Nr(kr,"Trident")||Nr(kr,"MSIE"))&&!Nr(kr,"Edge"),$r=Nr(kr.toLowerCase(),"webkit")&&!Nr(kr,"Edge");function Wr(){var e=lr.document;return e?e.documentMode:void 0}e:{var Gr="",Kr=function(){var e=kr;return Hr?/rv:([^\);]+)(\)|;)/.exec(e):jr?/Edge\/([\d\.]+)/.exec(e):Br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$r?/WebKit\/(\S+)/.exec(e):Fr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Kr&&(Gr=Kr?Kr[1]:""),Br){var qr=Wr();if(null!=qr&&qr>parseFloat(Gr)){Vr=String(qr);break e}}Vr=Gr}var Xr,Jr={};function Yr(){return function(e){var t=Jr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=Ar(String(Vr)).split("."),n=Ar("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Cr(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Cr(0==i[2].length,0==s[2].length)||Cr(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(lr.document&&Br){var Zr=Wr();Xr=Zr||(parseInt(Vr,10)||void 0)}else Xr=void 0;var Qr=Xr,ei=function(){if(!lr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{lr.addEventListener("test",ur,t),lr.removeEventListener("test",ur,t)}catch(n){}return e}();function ti(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ni(e,t){if(ti.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hr){e:{try{xr(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ri[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ni.Z.h.call(this)}}ti.prototype.h=function(){this.defaultPrevented=!0},_r(ni,ti);var ri={2:"touch",3:"pen",4:"mouse"};ni.prototype.h=function(){ni.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ii="closure_listenable_"+(1e6*Math.random()|0),si=0;function oi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++si,this.ca=this.fa=!1}function ai(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ci(e){this.src=e,this.g={},this.h=0}function li(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Tr(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ai(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ui(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ci.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=ui(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new oi(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var hi="closure_lm_"+(1e6*Math.random()|0),di={};function fi(e,t,n,r,i){if(r&&r.once)return gi(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fi(e,t[s],n,r,i);return null}return n=Ti(n),e&&e[ii]?e.N(t,n,dr(r)?!!r.capture:!!r,i):pi(e,t,n,!1,r,i)}function pi(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=dr(i)?!!i.capture:!!i,a=bi(e);if(a||(e[hi]=a=new ci(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=_i;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ei||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gi(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)gi(e,t[s],n,r,i);return null}return n=Ti(n),e&&e[ii]?e.O(t,n,dr(r)?!!r.capture:!!r,i):pi(e,t,n,!0,r,i)}function mi(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mi(e,t[s],n,r,i);else r=dr(r)?!!r.capture:!!r,n=Ti(n),e&&e[ii]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ui(s=e.g[t],n,r,i))&&(ai(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=bi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ui(t,n,r,i)),(n=-1<e?t[e]:null)&&vi(n))}function vi(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ii])li(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bi(t))?(li(n,e),0==n.h&&(n.src=null,t[hi]=null)):ai(e)}}}function yi(e){return e in di?di[e]:di[e]="on"+e}function _i(e,t){if(e.ca)e=!0;else{t=new ni(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&vi(e),e=n.call(r,t)}return e}function bi(e){return(e=e[hi])instanceof ci?e:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(e){return"function"===typeof e?e:(e[wi]||(e[wi]=function(t){return e.handleEvent(t)}),e[wi])}function Si(){br.call(this),this.i=new ci(this),this.P=this,this.I=null}function Ei(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ti(t,e);else if(t instanceof ti)t.target=t.target||e;else{var i=t;Ur(t=new ti(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ii(o,r,!0,t)&&i}if(i=Ii(o=t.g=e,r,!0,t)&&i,i=Ii(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ii(o=t.g=n[s],r,!1,t)&&i}function Ii(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&li(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}_r(Si,br),Si.prototype[ii]=!0,Si.prototype.removeEventListener=function(e,t,n,r){mi(this,e,t,n,r)},Si.prototype.M=function(){if(Si.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ai(n[r]);delete t.g[e],t.h--}}this.I=null},Si.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Si.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ri=lr.JSON.stringify;function ki(){var e=Pi;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ai,Ni=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ci),(e=>e.reset()));class Ci{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oi(e){lr.setTimeout((()=>{throw e}),0)}function Li(e,t){Ai||function(){var e=lr.Promise.resolve(void 0);Ai=function(){e.then(Mi)}}(),Di||(Ai(),Di=!0),Pi.add(e,t)}var Di=!1,Pi=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ni.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Mi(){for(var e;e=ki();){try{e.h.call(e.g)}catch(n){Oi(n)}var t=Ni;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Di=!1}function Ui(e,t){Si.call(this),this.h=e||1,this.g=t||lr,this.j=vr(this.kb,this),this.l=Date.now()}function xi(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Vi(e,t,n){if("function"===typeof e)n&&(e=vr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vr(e.handleEvent,e)}return 2147483647<Number(t)?-1:lr.setTimeout(e,t||0)}function Fi(e){e.g=Vi((()=>{e.g=null,e.i&&(e.i=!1,Fi(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_r(Ui,Si),(sr=Ui.prototype).da=!1,sr.S=null,sr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ei(this,"tick"),this.da&&(xi(this),this.start()))}},sr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sr.M=function(){Ui.Z.M.call(this),xi(this),delete this.g};class Bi extends br{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fi(this)}M(){super.M(),this.g&&(lr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(e){br.call(this),this.h=e,this.g={}}_r(ji,br);var zi=[];function Hi(e,t,n,r){Array.isArray(n)||(n&&(zi[0]=n.toString()),n=zi);for(var i=0;i<n.length;i++){var s=fi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $i(e){Dr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vi(e)}),e),e.g={}}function Wi(){this.g=!0}function Gi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ri(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}ji.prototype.M=function(){ji.Z.M.call(this),$i(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wi.prototype.Aa=function(){this.g=!1},Wi.prototype.info=function(){};var Ki={},qi=null;function Xi(){return qi=qi||new Si}function Ji(e){ti.call(this,Ki.Ma,e)}function Yi(e){const t=Xi();Ei(t,new Ji(t,e))}function Zi(e,t){ti.call(this,Ki.STAT_EVENT,e),this.stat=t}function Qi(e){const t=Xi();Ei(t,new Zi(t,e))}function es(e,t){ti.call(this,Ki.Na,e),this.size=t}function ts(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return lr.setTimeout((function(){e()}),t)}Ki.Ma="serverreachability",_r(Ji,ti),Ki.STAT_EVENT="statevent",_r(Zi,ti),Ki.Na="timingevent",_r(es,ti);var ns={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function is(){}function ss(e){return e.h||(e.h=e.i())}function os(){}is.prototype.h=null;var as,cs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ls(){ti.call(this,"d")}function us(){ti.call(this,"c")}function hs(){}function ds(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ji(this),this.P=ps,e=zr?125:void 0,this.W=new Ui(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}_r(ls,ti),_r(us,ti),_r(hs,is),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},as=new hs;var ps=45e3,gs={},ms={};function vs(e,t,n){e.K=1,e.v=Bs(Ps(t)),e.s=n,e.U=!0,ys(e,null)}function ys(e,t){e.F=Date.now(),Ts(e),e.A=Ps(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Qs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new fs,e.g=ta(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Bi(vr(e.Ia,e,e.g),e.O)),Hi(e.V,e.g,"readystatechange",e.gb),t=e.H?Pr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Yi(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function _s(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function bs(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=ws(e,n),r==ms){4==t&&(e.o=4,Qi(14),i=!1),Gi(e.j,e.m,null,"[Incomplete Response]");break}if(r==gs){e.o=4,Qi(15),Gi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gi(e.j,e.m,r,null),ks(e,r)}_s(e)&&r!=ms&&r!=gs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ko(t),t.L=!0,Qi(11))):(Gi(e.j,e.m,n,"[Invalid Chunked Response]"),Rs(e),Is(e))}function ws(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ms:(n=Number(t.substring(n,r)),isNaN(n)?gs:(r+=1)+n>t.length?ms:(t=t.substr(r,n),e.C=r+n,t))}function Ts(e){e.Y=Date.now()+e.P,Ss(e,e.P)}function Ss(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ts(vr(e.eb,e),t)}function Es(e){e.B&&(lr.clearTimeout(e.B),e.B=null)}function Is(e){0==e.l.G||e.I||Jo(e.l,e)}function Rs(e){Es(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,xi(e.W),$i(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ks(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||oo(n.i,e)))if(n.I=e.N,!e.J&&oo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xo(n),Vo(n)}Go(n),Qi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ts(vr(n.ab,n),6e3));if(1>=so(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else Zo(n,11)}else if((e.J||n.g==e)&&Xo(n),!Rr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Nr(e,"spdy")||Nr(e,"quic")||Nr(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ao(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Fs(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=ea(r,r.H?r.la:null,r.W),o.J){co(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Es(a),Ts(a)),r.g=o}else Wo(r);0<n.l.length&&jo(n)}else"stop"!=l[0]&&"close"!=l[0]||Zo(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Zo(n,7):xo(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Yi(4)}catch(l){}}function As(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hr(e)||"string"===typeof e)Sr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(hr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(hr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ns(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ns)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Cs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Os(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Os(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Os(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(sr=ds.prototype).setTimeout=function(e){this.P=e},sr.gb=function(e){e=e.target;const t=this.L;t&&3==Lo(e)?t.l():this.Ia(e)},sr.Ia=function(e){try{if(e==this.g)e:{const u=Lo(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||zr||this.g&&(this.h.h||this.g.ga()||Do(this.g)))){this.I||4!=u||7==t||Yi(8==t||0>=h?3:2),Es(this);var n=this.g.ba();this.N=n;t:if(_s(this)){var r=Do(this.g);e="";var i=r.length,s=4==Lo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rs(this),Is(this);var o="";break t}this.h.i=new lr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Qi(12),Rs(this),Is(this);break e}Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,n)}this.U?(bs(this,u,o),zr&&this.i&&3==u&&(Hi(this.V,this.W,"tick",this.fb),this.W.start())):(Gi(this.j,this.m,o,null),ks(this,o)),4==u&&Rs(this),this.i&&!this.I&&(4==u?Jo(this.l,this):(this.i=!1,Ts(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qi(12)):(this.o=0,Qi(13)),Rs(this),Is(this)}}}catch(u){}},sr.fb=function(){if(this.g){var e=Lo(this.g),t=this.g.ga();this.C<t.length&&(Es(this),bs(this,e,t),this.i&&4!=e&&Ts(this))}},sr.cancel=function(){this.I=!0,Rs(this)},sr.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Yi(3),Qi(17)),Rs(this),this.o=2,Is(this)):Ss(this,this.Y-e)},(sr=Ns.prototype).R=function(){Cs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},sr.T=function(){return Cs(this),this.g.concat()},sr.get=function(e,t){return Os(this.h,e)?this.h[e]:t},sr.set=function(e,t){Os(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},sr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ls=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ds){this.g=void 0!==t?t:e.g,Ms(this,e.j),this.s=e.s,Us(this,e.i),xs(this,e.m),this.l=e.l,t=e.h;var n=new Xs;n.i=t.i,t.g&&(n.g=new Ns(t.g),n.h=t.h),Vs(this,n),this.o=e.o}else e&&(n=String(e).match(Ls))?(this.g=!!t,Ms(this,n[1]||"",!0),this.s=js(n[2]||""),Us(this,n[3]||"",!0),xs(this,n[4]),this.l=js(n[5]||"",!0),Vs(this,n[6]||"",!0),this.o=js(n[7]||"")):(this.g=!!t,this.h=new Xs(null,this.g))}function Ps(e){return new Ds(e)}function Ms(e,t,n){e.j=n?js(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Us(e,t,n){e.i=n?js(t,!0):t}function xs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vs(e,t,n){t instanceof Xs?(e.h=t,function(e,t){t&&!e.j&&(Js(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ys(this,t),Qs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zs(t,Ks)),e.h=new Xs(t,e.g))}function Fs(e,t,n){e.h.set(t,n)}function Bs(e){return Fs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function js(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ds.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zs(t,$s,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zs(t,$s,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zs(n,"/"==n.charAt(0)?Gs:Ws,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zs(n,qs)),e.join("")};var $s=/[#\/\?@]/g,Ws=/[#\?:]/g,Gs=/[#\?]/g,Ks=/[#\?@]/g,qs=/#/g;function Xs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Js(e){e.g||(e.g=new Ns,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ys(e,t){Js(e),t=eo(e,t),Os(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Os((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Cs(e)))}function Zs(e,t){return Js(e),t=eo(e,t),Os(e.g.h,t)}function Qs(e,t,n){Ys(e,t),0<n.length&&(e.i=null,e.g.set(eo(e,t),Ir(n)),e.h+=n.length)}function eo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sr=Xs.prototype).add=function(e,t){Js(this),this.i=null,e=eo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sr.forEach=function(e,t){Js(this),this.g.forEach((function(n,r){Sr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},sr.T=function(){Js(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},sr.R=function(e){Js(this);var t=[];if("string"===typeof e)Zs(this,e)&&(t=Er(t,this.g.get(eo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Er(t,e[n])}return t},sr.set=function(e,t){return Js(this),this.i=null,Zs(this,e=eo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},sr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};function to(e){this.l=e||ro,lr.PerformanceNavigationTiming?e=0<(e=lr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(lr.g&&lr.g.Ea&&lr.g.Ea()&&lr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var no,ro=10;function io(e){return!!e.h||!!e.g&&e.g.size>=e.j}function so(e){return e.h?1:e.g?e.g.size:0}function oo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ao(e,t){e.g?e.g.add(t):e.h=t}function co(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Ir(e.i)}function uo(){}function ho(){this.g=new uo}function fo(e,t,n){const r=n||"";try{As(e,(function(e,n){let i=e;dr(e)&&(i=Ri(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function po(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function go(e){this.l=e.$b||null,this.j=e.ib||!1}function mo(e,t){Si.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}to.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},uo.prototype.stringify=function(e){return lr.JSON.stringify(e,void 0)},uo.prototype.parse=function(e){return lr.JSON.parse(e,void 0)},_r(go,is),go.prototype.g=function(){return new mo(this.l,this.j)},go.prototype.i=(no={},function(){return no}),_r(mo,Si);var vo=0;function yo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _o(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bo(e)}function bo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sr=mo.prototype).open=function(e,t){if(this.readyState!=vo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bo(this)},sr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||lr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},sr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_o(this)),this.readyState=vo},sr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof lr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},sr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_o(this):bo(this),3==this.readyState&&yo(this)}},sr.Ua=function(e){this.g&&(this.response=this.responseText=e,_o(this))},sr.Ta=function(e){this.g&&(this.response=e,_o(this))},sr.ha=function(){this.g&&_o(this)},sr.setRequestHeader=function(e,t){this.v.append(e,t)},sr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wo=lr.JSON.parse;function To(e){Si.call(this),this.headers=new Ns,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=So,this.K=this.L=!1}_r(To,Si);var So="",Eo=/^https?$/i,Io=["POST","PUT"];function Ro(e){return"content-type"==e.toLowerCase()}function ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ao(e),Co(e)}function Ao(e){e.D||(e.D=!0,Ei(e,"complete"),Ei(e,"error"))}function No(e){if(e.h&&"undefined"!=typeof cr&&(!e.C[1]||4!=Lo(e)||2!=e.ba()))if(e.v&&4==Lo(e))Vi(e.Fa,0,e);else if(Ei(e,"readystatechange"),4==Lo(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(Ls)[1]||null;if(!i&&lr.self&&lr.self.location){var s=lr.self.location.protocol;i=s.substr(0,s.length-1)}r=!Eo.test(i?i.toLowerCase():"")}n=r}if(n)Ei(e,"complete"),Ei(e,"success");else{e.m=6;try{var o=2<Lo(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Ao(e)}}finally{Co(e)}}}function Co(e,t){if(e.g){Oo(e);const r=e.g,i=e.C[0]?ur:null;e.g=null,e.C=null,t||Ei(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Oo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(lr.clearTimeout(e.A),e.A=null)}function Lo(e){return e.g?e.g.readyState:0}function Do(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case So:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Po(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Dr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Fs(e,t,n))}function Mo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uo(e){this.za=0,this.l=[],this.h=new Wi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mo("baseRetryDelayMs",5e3,e),this.$a=Mo("retryDelaySeedMs",1e4,e),this.Ya=Mo("forwardChannelMaxRetries",2,e),this.ra=Mo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new to(e&&e.concurrentRequestLimit),this.Ca=new ho,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xo(e){if(Fo(e),3==e.G){var t=e.V++,n=Ps(e.F);Fs(n,"SID",e.J),Fs(n,"RID",t),Fs(n,"TYPE","terminate"),Ho(e,n),(t=new ds(e,e.h,t,void 0)).K=2,t.v=Bs(Ps(n)),n=!1,lr.navigator&&lr.navigator.sendBeacon&&(n=lr.navigator.sendBeacon(t.v.toString(),"")),!n&&lr.Image&&((new Image).src=t.v,n=!0),n||(t.g=ta(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ts(t)}Qo(e)}function Vo(e){e.g&&(Ko(e),e.g.cancel(),e.g=null)}function Fo(e){Vo(e),e.u&&(lr.clearTimeout(e.u),e.u=null),Xo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&lr.clearTimeout(e.m),e.m=null)}function Bo(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&jo(e)}function jo(e){io(e.i)||e.m||(e.m=!0,Li(e.Ha,e),e.C=0)}function zo(e,t){var n;n=t?t.m:e.V++;const r=Ps(e.F);Fs(r,"SID",e.J),Fs(r,"RID",n),Fs(r,"AID",e.U),Ho(e,r),e.o&&e.s&&Po(r,e.o,e.s),n=new ds(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$o(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ao(e.i,n),vs(n,r,t)}function Ho(e,t){e.j&&As({},(function(e,n){Fs(t,n,e)}))}function $o(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vr(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{fo(a,e,"req"+n+"_")}catch(va){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Wo(e){e.g||e.u||(e.Y=1,Li(e.Ga,e),e.A=0)}function Go(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ts(vr(e.Ga,e),Yo(e,e.A)),e.A++,!0)}function Ko(e){null!=e.B&&(lr.clearTimeout(e.B),e.B=null)}function qo(e){e.g=new ds(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ps(e.oa);Fs(t,"RID","rpc"),Fs(t,"SID",e.J),Fs(t,"CI",e.N?"0":"1"),Fs(t,"AID",e.U),Ho(e,t),Fs(t,"TYPE","xmlhttp"),e.o&&e.s&&Po(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Bs(Ps(t)),n.s=null,n.U=!0,ys(n,e)}function Xo(e){null!=e.v&&(lr.clearTimeout(e.v),e.v=null)}function Jo(e,t){var n=null;if(e.g==t){Xo(e),Ko(e),e.g=null;var r=2}else{if(!oo(e.i,t))return;n=t.D,co(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ei(r=Xi(),new es(r,n,t,i)),jo(e)}else Wo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(so(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ts(vr(e.Ha,e,t),Yo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Go(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zo(e,5);break;case 4:Zo(e,10);break;case 3:Zo(e,6);break;default:Zo(e,2)}}function Yo(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=vr(e.jb,e);n||(n=new Ds("//www.google.com/images/cleardot.gif"),lr.location&&"http"==lr.location.protocol||Ms(n,"https"),Bs(n)),function(e,t){const n=new Wi;if(lr.Image){const r=new Image;r.onload=yr(po,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yr(po,n,r,"TestLoadImage: error",!1,t),r.onabort=yr(po,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yr(po,n,r,"TestLoadImage: timeout",!1,t),lr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qi(2);e.G=0,e.j&&e.j.va(t),Qo(e),Fo(e)}function Qo(e){e.G=0,e.I=-1,e.j&&(0==lo(e.i).length&&0==e.l.length||(e.i.i.length=0,Ir(e.l),e.l.length=0),e.j.ua())}function ea(e,t,n){let r=function(e){return e instanceof Ds?Ps(e):new Ds(e,void 0)}(n);if(""!=r.i)t&&Us(r,t+"."+r.i),xs(r,r.m);else{const e=lr.location;r=function(e,t,n,r){var i=new Ds(null,void 0);return e&&Ms(i,e),t&&Us(i,t),n&&xs(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Dr(e.aa,(function(e,t){Fs(r,t,e)})),t=e.D,n=e.sa,t&&n&&Fs(r,t,n),Fs(r,"VER",e.ma),Ho(e,r),r}function ta(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new To(new go({ib:!0})):new To(e.qa)).L=e.H,t}function na(){}function ra(){if(Br&&!(10<=Number(Qr)))throw Error("Environmental error: no available transport.")}function ia(e,t){Si.call(this),this.g=new Uo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new aa(this)}function sa(e){ls.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function oa(){us.call(this),this.status=1}function aa(e){this.g=e}(sr=To.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():as.g(),this.C=this.u?ss(this.u):ss(as),this.g.onreadystatechange=vr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void ko(this,s)}e=n||"";const i=new Ns(this.headers);r&&As(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Ro;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=lr.FormData&&e instanceof lr.FormData,!(0<=Tr(Io,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oo(this),0<this.B&&((this.K=function(e){return Br&&Yr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vr(this.pa,this)):this.A=Vi(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ko(this,s)}},sr.pa=function(){"undefined"!=typeof cr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))},sr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ei(this,"complete"),Ei(this,"abort"),Co(this))},sr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Co(this,!0)),To.Z.M.call(this)},sr.Fa=function(){this.s||(this.F||this.v||this.l?No(this):this.cb())},sr.cb=function(){No(this)},sr.ba=function(){try{return 2<Lo(this)?this.g.status:-1}catch(no){return-1}},sr.ga=function(){try{return this.g?this.g.responseText:""}catch(no){return""}},sr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wo(t)}},sr.Da=function(){return this.m},sr.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(sr=Uo.prototype).ma=8,sr.G=1,sr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},sr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ds(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Pr(s),Ur(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=$o(this,i,t),Fs(n=Ps(this.F),"RID",e),Fs(n,"CVER",22),this.D&&Fs(n,"X-HTTP-Session-Id",this.D),Ho(this,n),this.o&&s&&Po(n,this.o,s),ao(this.i,i),this.Ra&&Fs(n,"TYPE","init"),this.ja?(Fs(n,"$req",t),Fs(n,"SID","null"),i.$=!0,vs(i,n,null)):vs(i,n,t),this.G=2}}else 3==this.G&&(e?zo(this,e):0==this.l.length||io(this.i)||zo(this))},sr.Ga=function(){if(this.u=null,qo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ts(vr(this.bb,this),e)}},sr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qi(10),Vo(this),qo(this))},sr.ab=function(){null!=this.v&&(this.v=null,Vo(this),Go(this),Qi(19))},sr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Qi(2)):(this.h.info("Failed to ping google.com"),Qi(1))},(sr=na.prototype).xa=function(){},sr.wa=function(){},sr.va=function(){},sr.ua=function(){},sr.Oa=function(){},ra.prototype.g=function(e,t){return new ia(e,t)},_r(ia,Si),ia.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Li(vr(e.hb,e,t))),Qi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ea(e,null,e.W),jo(e)},ia.prototype.close=function(){xo(this.g)},ia.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Bo(this.g,t)}else this.v?((t={}).__data__=Ri(e),Bo(this.g,t)):Bo(this.g,e)},ia.prototype.M=function(){this.g.j=null,delete this.j,xo(this.g),delete this.g,ia.Z.M.call(this)},_r(sa,ls),_r(oa,us),_r(aa,na),aa.prototype.xa=function(){Ei(this.g,"a")},aa.prototype.wa=function(e){Ei(this.g,new sa(e))},aa.prototype.va=function(e){Ei(this.g,new oa(e))},aa.prototype.ua=function(){Ei(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,ia.prototype.send=ia.prototype.u,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,rs.COMPLETE="complete",os.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Si.prototype.listen=Si.prototype.N,To.prototype.listenOnce=To.prototype.O,To.prototype.getLastError=To.prototype.La,To.prototype.getLastErrorCode=To.prototype.Da,To.prototype.getStatus=To.prototype.ba,To.prototype.getResponseJson=To.prototype.Qa,To.prototype.getResponseText=To.prototype.ga,To.prototype.send=To.prototype.ea;ar.createWebChannelTransport=function(){return new ra},ar.getStatEventTarget=function(){return Xi()},ar.ErrorCode=ns,ar.EventType=rs,ar.Event=Ki,ar.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ar.FetchXmlHttpFactory=go,ar.WebChannel=os,ar.XhrIo=To,n(3454);const ca="@firebase/firestore";class la{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}la.UNAUTHENTICATED=new la(null),la.GOOGLE_CREDENTIALS=new la("google-credentials-uid"),la.FIRST_PARTY=new la("first-party-uid"),la.MOCK_USER=new la("mock-user");let ua="9.6.11";const ha=new V("@firebase/firestore");function da(e,...t){if(ha.logLevel<=D.DEBUG){const n=t.map(pa);ha.debug(`Firestore (${ua}): ${e}`,...n)}}function fa(e,...t){if(ha.logLevel<=D.ERROR){const n=t.map(pa);ha.error(`Firestore (${ua}): ${e}`,...n)}}function pa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ga(e="Unexpected state"){const t=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+e;throw fa(t),new Error(t)}function ma(e,t){e||ga()}const va={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ya extends d{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _a{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ba{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(la.UNAUTHENTICATED)))}shutdown(){}}class Ta{constructor(e){this.t=e,this.currentUser=la.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _a,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{da("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(da("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _a)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(da("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ma("string"==typeof t.accessToken),new ba(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ma(null===e||"string"==typeof e),new la(e)}}class Sa{constructor(e,t,n){this.type="FirstParty",this.user=la.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ea{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Sa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(la.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ra{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&da("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,da("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{da("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):da("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ma("string"==typeof e.token),this.p=e.token,new Ia(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ka{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Aa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ka.A=-1;class Na{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Aa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Ca(e,t){return e<t?-1:e>t?1:0}class Oa{constructor(e,t,n){void 0===t?t=0:t>e.length&&ga(),void 0===n?n=e.length-t:n>e.length-t&&ga(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class La extends Oa{construct(e,t,n){return new La(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ya(va.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new La(t)}static emptyPath(){return new La([])}}class Da{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Da(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Da(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ca(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Da.EMPTY_BYTE_STRING=new Da("");function Pa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ma(e){return"string"==typeof e?Da.fromBase64String(e):Da.fromUint8Array(e)}class Ua{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class xa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}function Va(e){return 0===e&&1/e==-1/0}class Fa{constructor(e){this.path=e}static fromPath(e){return new Fa(La.fromString(e))}static fromName(e){return new Fa(La.fromString(e).popFirst(5))}static empty(){return new Fa(La.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===La.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return La.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fa(new La(e.slice()))}}function Ba(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ja{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ja.UNKNOWN_ID=-1;var za,Ha;(Ha=za||(za={}))[Ha.OK=0]="OK",Ha[Ha.CANCELLED=1]="CANCELLED",Ha[Ha.UNKNOWN=2]="UNKNOWN",Ha[Ha.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ha[Ha.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ha[Ha.NOT_FOUND=5]="NOT_FOUND",Ha[Ha.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ha[Ha.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ha[Ha.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ha[Ha.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ha[Ha.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ha[Ha.ABORTED=10]="ABORTED",Ha[Ha.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ha[Ha.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ha[Ha.INTERNAL=13]="INTERNAL",Ha[Ha.UNAVAILABLE=14]="UNAVAILABLE",Ha[Ha.DATA_LOSS=15]="DATA_LOSS";class $a{constructor(e,t){this.comparator=e,this.root=t||Ga.EMPTY}insert(e,t){return new $a(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ga.BLACK,null,null))}remove(e){return new $a(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ga.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}}class Wa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ga{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ga.RED,this.left=null!=r?r:Ga.EMPTY,this.right=null!=i?i:Ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ga(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ga.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ga.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ga();if(this.right.isRed())throw ga();const e=this.left.check();if(e!==this.right.check())throw ga();return e+(this.isRed()?0:1)}}Ga.EMPTY=null,Ga.RED=!0,Ga.BLACK=!1,Ga.EMPTY=new class{constructor(){this.size=0}get key(){throw ga()}get value(){throw ga()}get color(){throw ga()}get left(){throw ga()}get right(){throw ga()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ga(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ka{constructor(e){this.comparator=e,this.data=new $a(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qa(this.data.getIterator())}getIteratorFrom(e){return new qa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ka))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ka(this.comparator);return t.data=e,t}}class qa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}new $a(Fa.comparator);new $a(Fa.comparator);new $a(Fa.comparator),new Ka(Fa.comparator);new Ka(Ca);const Xa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ja=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"];function Ya(e){return"IndexedDbTransactionError"===e.name}class Za{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Pa(e.integerValue));else if("doubleValue"in e){const n=Pa(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Va(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ma(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?Ba(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ga()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const r of Object.keys(n))this.re(r,t),this.te(n[r],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const r of n)this.te(r,t)}ae(e,t){this.ne(t,37),Fa.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}Za.fe=new Za;new Uint8Array(0);class Qa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qa(e,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(41943040,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);function ec(){return"undefined"!=typeof document?document:null}class tc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=t,this.fo=n,this._o=r,this.wo=i,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),n=Math.max(0,Date.now()-this.po),r=Math.max(0,t-n);r>0&&da("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,(()=>(this.po=Date.now(),e()))),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class nc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new nc(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ya(va.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rc(e,t){if(fa("AsyncQueue",`${t}: ${e}`),Ya(e))return new ya(va.UNAVAILABLE,`${t}: ${e}`);throw e}class ic{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=la.UNAUTHENTICATED,this.clientId=Na.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{da("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(da("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ya(va.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}const sc=new Map;class oc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ya(va.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ya(va.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ya(va.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oc({}),this._settingsFrozen=!1,e instanceof xa?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ya(va.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(e.options.projectId)}(e))}get app(){if(!this._app)throw new ya(va.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ya(va.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wa;switch(e.type){case"gapi":const t=e.client;return ma(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ea(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ya(va.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sc.get(e);t&&(da("ComponentProvider","Removing Datastore"),sc.delete(e),t.terminate())}(this),Promise.resolve()}}class cc{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new tc(this,"async_queue_retry"),this.qa=()=>{const e=ec();e&&da("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const e=ec();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=ec();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise((()=>{}));const t=new _a;return this.Ga((()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ma.push(e),this.Qa())))}async Qa(){if(0!==this.Ma.length){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(_r){if(!Ya(_r))throw _r;da("AsyncQueue","Operation failed with retryable error: "+_r)}this.Ma.length>0&&this.Do.To((()=>this.Qa()))}}Ga(e){const t=this.ka.then((()=>(this.Ba=!0,e().catch((e=>{this.$a=e,this.Ba=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ba=!1,e))))));return this.ka=t,t}enqueueAfterDelay(e,t,n){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=nc.createAndSchedule(this,e,t,n,(e=>this.ja(e)));return this.Fa.push(r),r}Ka(){this.$a&&ga()}verifyOperationInProgress(){}async Wa(){let e;do{e=this.ka,await e}while(e!==this.ka)}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then((()=>{this.Fa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()}))}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}class lc extends ac{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new cc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||uc(this),this._firestoreClient.terminate()}}function uc(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Ua(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ic(e._authCredentials,e._appCheckCredentials,e._queue,r)}!function(e,t=!0){ua="9.6.11",q(new A("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new lc(r,new Ta(e.getProvider("auth-internal")),new Ra(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),ee(ca,"3.4.8",e),ee(ca,"3.4.8","esm2017")}();Array.from(W.values()).length?Q():function(e,t={}){if("object"!==typeof t){t={name:t}}const n=Object.assign({name:H,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw J.create("bad-app-name",{appName:String(r)});const i=W.get(r);if(i){if(g(e,i.options)&&g(n,i.config))return i;throw J.create("duplicate-app",{appName:r})}const s=new O(r);for(const a of G.values())s.addComponent(a);const o=new Y(e,n,s);W.set(r,o)}({apiKey:"AIzaSyC_F_993PE05FEljwjRRT5YjwRAv2mYC70",authDomain:"n-pro-21803.firebaseapp.com",projectId:"n-pro-21803",storageBucket:"n-pro-21803.appspot.com",messagingSenderId:"157207119088",appId:"1:157207119088:web:e7c0e22691d52fe5452e35"}),function(e=Q()){X(e,"firestore").getImmediate()}();var hc=function(e=Q()){const t=X(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=X(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(g(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ve(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Zn,persistence:[hn,Kt,Xt]})}();function dc(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function fc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){dc(s,r,i,o,a,"next",e)}function a(e){dc(s,r,i,o,a,"throw",e)}o(void 0)}))}}var pc=(0,ir.createContext)({user:null,signUp:fc(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),signIn:fc(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),logout:fc(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),error:null,loading:!1}),gc=function(e){var t=e.children,n=(0,rr.useRouter)(),r=(0,ir.useState)(null),o=r[0],a=r[1],c=(0,ir.useState)(null),l=c[0],u=(c[1],(0,ir.useState)(!0)),h=u[0],d=u[1],f=(0,ir.useState)(!1),p=f[0],g=f[1];(0,ir.useEffect)((function(){return function(e,t,n,r){return T(e).onAuthStateChanged(t,n,r)}(hc,(function(e){e?(a(e),g(!1)):(a(null),g(!0),n.push("/login")),d(!1)}))}),[hc]);var m=function(){var e=fc(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,jt(hc,t,r).then((function(e){a(e.user),n.push("/"),g(!1)})).catch((function(e){return alert(e.message)})).finally((function(){return g(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=fc(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,zt(hc,t,r).then((function(e){a(e.user),n.push("/"),g(!1)})).catch((function(e){return alert(e.message)})).finally((function(){return g(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=fc(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Ht(hc).then((function(){a(null)})).catch((function(e){return alert(e.message)})).finally((function(){return g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=(0,ir.useMemo)((function(){return{user:o,signUp:m,signIn:v,error:l,loading:p,logout:y}}),[o,p,l]);return(0,s.jsx)(pc.Provider,{value:_,children:!h&&t})};function mc(){return(0,ir.useContext)(pc)}},3847:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=(n(6774),n(4927)),s=n(2804);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return(0,r.jsx)(s.Wh,{children:(0,r.jsx)(i.H,{children:(0,r.jsx)(t,a({},n))})})}},6774:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,r),o=!1}finally{o&&delete n[e]}return s.exports}r.ab="//";var i=r(162);e.exports=i}()},1163:function(e,t,n){e.exports=n(880)},2804:function(e,t,n){"use strict";n.d(t,{FV:function(){return ua},Wh:function(){return ca},cn:function(){return la}});var r=n(7294),i=n(3935);var s=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var o=function(e){return!!e&&"function"===typeof e.then};var a=function(e,t){if(null!=e)return e;throw s(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{getValue(){throw s("BaseLoadable")}toPromise(){throw s("BaseLoadable")}valueMaybe(){throw s("BaseLoadable")}valueOrThrow(){throw s(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw s("BaseLoadable")}promiseOrThrow(){throw s(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw s("BaseLoadable")}errorOrThrow(){throw s(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw s("BaseLoadable")}}class u extends l{constructor(e){super(),c(this,"state","hasValue"),c(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return o(t)?g(t):y(t)?t:f(t)}catch(t){return o(t)?g(t.next((()=>this.map(e)))):p(t)}}}class h extends l{constructor(e){super(),c(this,"state","hasError"),c(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class d extends l{constructor(e){super(),c(this,"state","loading"),c(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return g(this.contents.then((t=>{const n=e(t);if(y(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(o(t))return t.then((()=>this.map(e).contents));throw t})))}}function f(e){return Object.freeze(new u(e))}function p(e){return Object.freeze(new h(e))}function g(e){return Object.freeze(new d(e))}function m(){return Object.freeze(new d(new Promise((()=>{}))))}function v(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?f(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?p(a(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):g(Promise.all(e.map((e=>e.contents))))}((Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>y(e)?e:o(e)?g(e):f(e))));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function y(e){return e instanceof l}const _={of:e=>o(e)?g(e):y(e)?e:f(e),error:e=>p(e),loading:()=>m(),all:v,isLoadable:y};var b={loadableWithValue:f,loadableWithError:p,loadableWithPromise:g,loadableLoading:m,loadableAll:v,isLoadable:y,RecoilLoadable:_},w=b.loadableWithValue,T=b.loadableWithError,S=b.loadableWithPromise,E=b.loadableLoading,I=b.loadableAll,R=b.isLoadable,k=b.RecoilLoadable,A=Object.freeze({__proto__:null,loadableWithValue:w,loadableWithError:T,loadableWithPromise:S,loadableLoading:E,loadableAll:I,isLoadable:R,RecoilLoadable:k});const N=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function C(e){var t;return null!==(t=N.get(e))&&void 0!==t&&t}C.setPass=e=>{N.set(e,!0)},C.setFail=e=>{N.set(e,!1)},C.clear=()=>{N.clear()};var O,L,D,P=C;const M=null!==(O=r.createMutableSource)&&void 0!==O?O:r.unstable_createMutableSource,U=null!==(L=r.useMutableSource)&&void 0!==L?L:r.unstable_useMutableSource,x=null!==(D=r.useSyncExternalStore)&&void 0!==D?D:r.unstable_useSyncExternalStore;var V={createMutableSource:M,useMutableSource:U,useSyncExternalStore:x,reactMode:function(){return P("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:P("recoil_sync_external_store")&&null!=x?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:P("recoil_mutable_source")&&null!=U&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?P("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:P("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class F{constructor(e){c(this,"key",void 0),this.key=e}}class B extends F{}class j extends F{}var z={AbstractRecoilValue:F,RecoilState:B,RecoilValueReadOnly:j,isRecoilValue:function(e){return e instanceof B||e instanceof j}},H=z.AbstractRecoilValue,$=z.RecoilState,W=z.RecoilValueReadOnly,G=z.isRecoilValue,K=Object.freeze({__proto__:null,AbstractRecoilValue:H,RecoilState:$,RecoilValueReadOnly:W,isRecoilValue:G});var q=function(e,...t){0};var X=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};var J=function(e,t,{error:n}={}){return null};const{isFastRefreshEnabled:Y}=V;class Z{}const Q=new Z;class ee extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const te=new Map,ne=new Map;class re extends Error{}const ie=new Map;function se(e){return ie.get(e)}var oe={nodes:te,recoilValues:ne,registerNode:function(e){if(te.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}te.set(e.key,e);const t=null==e.set?new K.RecoilValueReadOnly(e.key):new K.RecoilState(e.key);return ne.set(e.key,t),t},getNode:function(e){const t=te.get(e);if(null==t)throw new re(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return te.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!P("recoil_memory_managament_2020"))return;const n=te.get(e);var r;null!==n&&void 0!==n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(te.delete(e),null===(r=se(e))||void 0===r||r(),ie.delete(e))},setConfigDeletionHandler:function(e,t){P("recoil_memory_managament_2020")&&(void 0===t?ie.delete(e):ie.set(e,t))},getConfigDeletionHandler:se,recoilValuesForKeys:function(e){return X(e,(e=>a(ne.get(e))))},NodeMissingError:re,DefaultValue:Z,DEFAULT_VALUE:Q,RecoilValueNotReady:ee};var ae={enqueueExecution:function(e,t){t()}};var ce,le,ue=(ce=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,s=r/2,o=r/4,a={},c=function(e){return function(){return e}},l=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,s=e.length;i<s;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},u=function(e,t){return t>>>e&i},h=function(e){return 1<<e},d=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},f=function(e,t,n,r){var i=r;if(!e){var s=r.length;i=new Array(s);for(var o=0;o<s;++o)i[o]=r[o]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,s=0,o=n;if(e)i=s=t;else for(o=new Array(r);i<t;)o[s++]=n[i++];for(++i;i<=r;)o[s++]=n[i++];return e&&(o.length=r),o},g={__hamt_isEmpty:!0},m=function(e){return e===g||e&&e.__hamt_isEmpty},v=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:E}},_=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:I}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:R}},w=function e(t,n,r,i,s,o){if(r===s)return y(t,r,[o,i]);var a=u(n,r),c=u(n,s);return _(t,h(a)|h(c),a===c?[e(t,n+5,r,i,s,o)]:a<c?[i,o]:[o,i])},T=function(e,t){return e===t.edit},S=function(e,t,n,r,i,s,o){if(t(s,this.key)){var c=r(this.value);return c===this.value?this:c===a?(--o.value,g):T(e,this)?(this.value=c,this):v(e,i,s,c)}var l=r();return l===a?this:(++o.value,w(e,n,this.hash,this,i,v(e,i,s,l)))},E=function(e,t,n,r,i,s,o){if(i===this.hash){var c=function(e,t,n,r,i,s,o,c){for(var l=i.length,u=0;u<l;++u){var h=i[u];if(n(o,h.key)){var d=h.value,g=s(d);return g===d?i:g===a?(--c.value,p(e,u,i)):f(e,u,v(t,r,o,g),i)}}var m=s();return m===a?i:(++c.value,f(e,l,v(t,r,o,m),i))}(T(e,this),e,t,this.hash,this.children,r,s,o);return c===this.children?this:c.length>1?y(e,this.hash,c):c[0]}var l=r();return l===a?this:(++o.value,w(e,n,this.hash,this,i,v(e,i,s,l)))},I=function(e,t,n,r,i,o,a){var c=this.mask,l=this.children,v=u(n,i),y=h(v),w=d(c,y),S=c&y,E=S?l[w]:g,I=E._modify(e,t,n+5,r,i,o,a);if(E===I)return this;var R,k=T(e,this),A=c,N=void 0;if(S&&m(I)){if(!(A&=~y))return g;if(l.length<=2&&((R=l[1^w])===g||1===R.type||2===R.type))return l[1^w];N=p(k,w,l)}else if(S||m(I))N=f(k,w,I,l);else{if(l.length>=s)return function(e,t,n,r,i){for(var s=[],o=r,a=0,c=0;o;++c)1&o&&(s[c]=i[a++]),o>>>=1;return s[t]=n,b(e,a+1,s)}(e,v,I,c,l);A|=y,N=function(e,t,n,r){var i=r.length;if(e){for(var s=i;s>=t;)r[s--]=r[s];return r[t]=n,r}for(var o=0,a=0,c=new Array(i+1);o<t;)c[a++]=r[o++];for(c[t]=n;o<i;)c[++a]=r[o++];return c}(k,w,I,l)}return k?(this.mask=A,this.children=N,this):_(e,A,N)},R=function(e,t,n,r,i,s,a){var c=this.size,l=this.children,h=u(n,i),d=l[h],p=(d||g)._modify(e,t,n+5,r,i,s,a);if(d===p)return this;var v=T(e,this),y=void 0;if(m(d)&&!m(p))++c,y=f(v,h,p,l);else if(!m(d)&&m(p)){if(--c<=o)return function(e,t,n,r){for(var i=new Array(t-1),s=0,o=0,a=0,c=r.length;a<c;++a)if(a!==n){var l=r[a];l&&!m(l)&&(i[s++]=l,o|=1<<a)}return _(e,o,i)}(e,c,h,l);y=f(v,h,g,l)}else y=f(v,h,p,l);return v?(this.size=c,this.children=y,this):b(e,c,y)};function k(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}g._modify=function(e,t,n,r,i,s,o){var c=r();return c===a?g:(++o.value,v(e,i,s,c))},k.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new k(this._editable,this._edit,this._config,e,t)};var A=n.tryGetHash=function(e,t,n,r){for(var i=r._root,s=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var a=i.children,c=0,l=a.length;c<l;++c){var f=a[c];if(o(n,f.key))return f.value}return e;case 3:var p=u(s,t),g=h(p);if(i.mask&g){i=i.children[d(i.mask,g)],s+=5;break}return e;case 4:if(i=i.children[u(s,t)]){s+=5;break}return e;default:return e}};k.prototype.tryGetHash=function(e,t,n){return A(e,t,n,this)};var N=n.tryGet=function(e,t,n){return A(e,n._config.hash(t),t,n)};k.prototype.tryGet=function(e,t){return N(e,t,this)};var C=n.getHash=function(e,t,n){return A(void 0,e,t,n)};k.prototype.getHash=function(e,t){return C(e,t,this)},n.get=function(e,t){return A(void 0,t._config.hash(e),e,t)},k.prototype.get=function(e,t){return N(t,e,this)};var O=n.has=function(e,t,n){return A(a,e,t,n)!==a};k.prototype.hasHash=function(e,t){return O(e,t,this)};var L=n.has=function(e,t){return O(t._config.hash(e),e,t)};k.prototype.has=function(e){return L(e,this)};var D=function(e,t){return e===t};n.make=function(e){return new k(0,0,{keyEq:e&&e.keyEq||D,hash:e&&e.hash||l},g,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!m(e._root)};k.prototype.isEmpty=function(){return P(this)};var M=n.modifyHash=function(e,t,n,r){var i={value:r._size},s=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(s,i.value)};k.prototype.modifyHash=function(e,t,n){return M(n,e,t,this)};var U=n.modify=function(e,t,n){return M(e,n._config.hash(t),t,n)};k.prototype.modify=function(e,t){return U(t,e,this)};var x=n.setHash=function(e,t,n,r){return M(c(n),e,t,r)};k.prototype.setHash=function(e,t,n){return x(e,t,n,this)};var V=n.set=function(e,t,n){return x(n._config.hash(e),e,t,n)};k.prototype.set=function(e,t){return V(e,t,this)};var F=c(a),B=n.removeHash=function(e,t,n){return M(F,e,t,n)};k.prototype.removeHash=k.prototype.deleteHash=function(e,t){return B(e,t,this)};var j=n.remove=function(e,t){return B(t._config.hash(e),e,t)};k.prototype.remove=k.prototype.delete=function(e){return j(e,this)};var z=n.beginMutation=function(e){return new k(e._editable+1,e._edit+1,e._config,e._root,e._size)};k.prototype.beginMutation=function(){return z(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};k.prototype.endMutation=function(){return H(this)};var $=n.mutate=function(e,t){var n=z(t);return e(n),H(n)};k.prototype.mutate=function(e){return $(e,this)};var W=function(e){return e&&G(e[0],e[1],e[2],e[3],e[4])},G=function(e,t,n,r,i){for(;n<e;){var s=t[n++];if(s&&!m(s))return K(s,r,[e,t,n,r,i])}return W(i)},K=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return G(r.length,r,0,t,n);default:return W(n)}},q={done:!0};function X(e){this.v=e}X.prototype.next=function(){if(!this.v)return q;var e=this.v;return this.v=W(e.rest),e},X.prototype[Symbol.iterator]=function(){return this};var J=function(e,t){return new X(K(e._root,t))},Y=function(e){return[e.key,e.value]},Z=n.entries=function(e){return J(e,Y)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return Z(this)};var Q=function(e){return e.key},ee=n.keys=function(e){return J(e,Q)};k.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=k.prototype.values=function(e){return J(e,te)};k.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],s=void 0;s=i.pop();)for(var o=0,a=s.length;o<a;){var c=s[o++];c&&c.type&&(1===c.type?t=e(t,c.value,c.key):i.push(c.children))}return t};k.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};k.prototype.forEach=function(e){return ie(e,this)};var se=n.count=function(e){return e._size};k.prototype.count=function(){return se(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},ce(le={exports:{}},le.exports),le.exports);class he{constructor(e){c(this,"_map",void 0),this._map=new Map(null===e||void 0===e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return fe(this)}toMap(){return new Map(this._map)}}class de{constructor(e){if(c(this,"_hamt",ue.empty.beginMutation()),e instanceof de){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return fe(this)}toMap(){return new Map(this._hamt)}}function fe(e){return P("recoil_hamt_2020")?new de(e):new he(e)}var pe=fe,ge=Object.freeze({__proto__:null,persistentMap:pe});var me=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n};var ve=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function ye(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(e);if(o&&r&&o!==r.nodeDeps.get(e))return;i.set(e,t);const c=null==o?t:me(t,o);for(const l of c){s.has(l)||s.set(l,new Set);a(s.get(l)).add(e)}if(o){const n=me(o,t);for(const t of n){if(!s.has(t))return;const n=a(s.get(t));n.delete(e),0===n.size&&s.delete(t)}}}var _e={cloneGraph:function(e){return{nodeDeps:ve(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:ve(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var i,s,o,a;const c=n.getState();r!==c.currentTree.version&&r!==(null===(i=c.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(s=c.previousTree)||void 0===s?void 0:s.version)&&J("Tried to save dependencies to a discarded tree");const l=n.getGraph(r);if(ye(e,t,l),r===(null===(o=c.previousTree)||void 0===o?void 0:o.version)){ye(e,t,n.getGraph(c.currentTree.version),l)}if(r===(null===(a=c.previousTree)||void 0===a?void 0:a.version)||r===c.currentTree.version){var u;const r=null===(u=c.nextTree)||void 0===u?void 0:u.version;if(void 0!==r){ye(e,t,n.getGraph(r),l)}}}};let be=0;let we=0;let Te=0;var Se={getNextTreeStateVersion:()=>be++,getNextStoreID:()=>we++,getNextComponentID:()=>Te++};const{persistentMap:Ee}=ge,{graph:Ie}=_e,{getNextTreeStateVersion:Re}=Se;function ke(){const e=Re();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Ee(),nonvalidatedAtoms:Ee()}}var Ae={makeEmptyTreeState:ke,makeEmptyStoreState:function(){const e=ke();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Ie()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Re};class Ne{}var Ce={RetentionZone:Ne,retentionZone:function(){return new Ne}};var Oe={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var Le=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var De=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Pe,getNodeMaybe:Me,recoilValuesForKeys:Ue}=oe,{RetentionZone:xe}=Ce,{setByAddingToSet:Ve}=Oe,Fe=Object.freeze(new Set);class Be extends Error{}function je(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Pe(n),o=function(e,t,n){if(!P("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof xe)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!P("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function i(e){const n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof xe)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,s.retainedBy),a=s.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{a(),o()}))}function ze(e,t,n){return Pe(n).peek(e,t)}function He(e,t,n){const r=new Set,i=Array.from(n),s=e.getGraph(t.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const e=null!==(o=s.nodeToNodeSubscriptions.get(a))&&void 0!==o?o:Fe;for(const t of e)r.has(t)||i.push(t)}return r}var $e={getNodeLoadable:function(e,t,n){return je(e,t,n,"get"),Pe(n).get(e,t)},peekNodeLoadable:ze,setNodeValue:function(e,t,n,r){const i=Pe(n);if(null==i.set)throw new Be(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return je(e,t,n,"set"),s(e,t,r)},initializeNode:function(e,t,n){je(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=Me(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Ve(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const r=e.getState(),i=e.getGraph(t.version),s=Pe(n).nodeType;return De({type:s},{loadable:()=>ze(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==s&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return Ue(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var i,s;return{nodes:Ue(Le(He(e,t,new Set([n])),(e=>e!==n))),components:X(null!==(i=null===(s=r.nodeToComponentSubscriptions.get(n))||void 0===s?void 0:s.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}})},getDownstreamNodes:He};let We=null;var Ge={setInvalidateMemoizedSnapshot:function(e){We=e},invalidateMemoizedSnapshot:function(){var e;null===(e=We)||void 0===e||e()}};const{getDownstreamNodes:Ke,getNodeLoadable:qe,setNodeValue:Xe}=$e,{getNextComponentID:Je}=Se,{getNode:Ye,getNodeMaybe:Ze}=oe,{DefaultValue:Qe,RecoilValueNotReady:et}=oe,{reactMode:tt}=V,{AbstractRecoilValue:nt,RecoilState:rt,RecoilValueReadOnly:it,isRecoilValue:st}=K,{invalidateMemoizedSnapshot:ot}=Ge;function at(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,s=function(e,t,{key:n},r){if("function"===typeof r){const i=qe(e,t,n);if("loading"===i.state)throw new et(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),o=Xe(e,t,r.key,s);for(const[e,n]of o.entries())ct(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;ct(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,s=Ze(e);null===s||void 0===s||null===(r=s.invalidate)||void 0===r||r.call(s,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else J(`Unknown action ${n.type}`)}function ct(e,t,n){"hasValue"===n.state&&n.contents instanceof Qe?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function lt(e,t){e.replaceState((n=>{const r=dt(n);for(const i of t)at(e,r,i);return ft(e,r),ot(),r}))}function ut(e,t){if(ht.length){const n=ht[ht.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else lt(e,[t])}const ht=[];function dt(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ft(e,t){const n=Ke(e,t,t.dirtyAtoms);for(const s of n){var r,i;null===(r=Ze(s))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function pt(e,t,n){ut(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var gt={RecoilValueReadOnly:it,AbstractRecoilValue:nt,RecoilState:rt,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const s=e.getState();n.version!==s.currentTree.version&&n.version!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&n.version!==(null===(i=s.previousTree)||void 0===i?void 0:i.version)&&J("Tried to read from a discarded tree");const o=qe(e,n,t);return"loading"===o.state&&o.contents.catch((()=>{})),o},setRecoilValue:pt,setRecoilValueLoadable:function(e,t,n){if(n instanceof Qe)return pt(e,t,n);ut(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ut(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ut(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Je(),s=e.getState();s.nodeToComponentSubscriptions.has(t)||s.nodeToComponentSubscriptions.set(t,new Map),a(s.nodeToComponentSubscriptions.get(t)).set(i,[null!==r&&void 0!==r?r:"<not captured>",n]);const o=tt();if(o.early&&("LEGACY"===o.mode||"MUTABLE_SOURCE"===o.mode)){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)?(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)):J(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:st,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof Qe?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return ht.push(e),()=>{for(const[t,n]of e)lt(t,n);ht.pop()!==e&&J("Incorrect order of batch popping")}},writeLoadableToTreeState:ct,invalidateDownstreams:ft,copyTreeState:dt,refreshRecoilValue:function(e,t){var n;const{currentTree:r}=e.getState(),i=Ye(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var mt=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const s=i.value;if(t.call(n,s[1],s[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:vt}=$e,{deleteNodeConfigIfPossible:yt,getNode:_t}=oe,{RetentionZone:bt}=Ce,wt=new Set;function Tt(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return void J("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const i=new Set;for(const o of t)if(o instanceof bt)for(const e of Et(n,o))i.add(e);else i.add(o);const s=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),s=new Set,o=new Set;return c(t),s;function c(t){const l=new Set,u=function(e,t,n,r,i){const s=e.getGraph(t.version),o=[],c=new Set;for(;n.size>0;)l(a(n.values().next().value));return o;function l(e){if(r.has(e)||i.has(e))return void n.delete(e);if(c.has(e))return;const t=s.nodeToNodeSubscriptions.get(e);if(t)for(const n of t)l(n);c.add(e),n.delete(e),o.push(e)}}(e,r,t,s,o);for(const e of u){var h;if("recoilRoot"===_t(e).retainedBy){o.add(e);continue}if((null!==(h=n.retention.referenceCounts.get(e))&&void 0!==h?h:0)>0){o.add(e);continue}if(It(e).some((e=>n.retention.referenceCounts.get(e)))){o.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&mt(t,(e=>o.has(e)))?o.add(e):(s.add(e),l.add(e))}const d=new Set;for(const e of l)for(const t of null!==(f=i.nodeDeps.get(e))&&void 0!==f?f:wt){var f;s.has(t)||d.add(t)}d.size&&c(d)}}(e,i);for(const o of s)St(e,r,o)}function St(e,t,n){if(!P("recoil_memory_managament_2020"))return;vt(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=It(n);for(const c of i){var s;null===(s=r.retention.nodesRetainedByZone.get(c))||void 0===s||s.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(t.version);if(o){const e=o.nodeDeps.get(n);if(void 0!==e){o.nodeDeps.delete(n);for(const t of e){var a;null===(a=o.nodeToNodeSubscriptions.get(t))||void 0===a||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}yt(n)}function Et(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:wt}function It(e){const t=_t(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof bt?[t]:t}function Rt(e,t){if(!P("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Tt(e,new Set([t]))}(e,t)}var kt={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!P("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,s=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===s?Rt(e,t):i.set(t,s)},updateRetainCountToZero:Rt,releaseScheduledRetainablesNow:function(e){if(!P("recoil_memory_managament_2020"))return;const t=e.getState();Tt(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:At}=i;var Nt={unstable_batchedUpdates:At};const{unstable_batchedUpdates:Ct}=Nt;var Ot={unstable_batchedUpdates:Ct};const{batchStart:Lt}=gt,{unstable_batchedUpdates:Dt}=Ot;let Pt=Dt;var Mt={getBatcher:()=>Pt,setBatcher:e=>{Pt=e},batchUpdates:e=>{Pt((()=>{let t=()=>{};try{t=Lt(),e()}finally{t()}}))}};var Ut=function*(e){for(const t of e)for(const e of t)yield e};const xt="undefined"===typeof Window||"undefined"===typeof window,Vt="undefined"!==typeof navigator&&"ReactNative"===navigator.product;var Ft={isSSR:xt,isReactNative:Vt,isWindow:e=>!xt&&(e===window||e instanceof Window)};var Bt={memoizeWithArgsHash:function(e,t){let n;return(...r)=>{n||(n={});const i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}},memoizeOneWithArgsHash:function(e,t){let n,r;return(...i)=>{const s=t(...i);return n===s||(n=s,r=e(...i)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;return[(...i)=>{const s=t(...i);return n===s||(n=s,r=e(...i)),r},()=>{n=null}]}};const{batchUpdates:jt}=Mt,{initializeNode:zt,peekNodeInfo:Ht}=$e,{graph:$t}=_e,{getNextStoreID:Wt}=Se,{DEFAULT_VALUE:Gt,recoilValues:Kt,recoilValuesForKeys:qt}=oe,{AbstractRecoilValue:Xt,getRecoilValueAsLoadable:Jt,setRecoilValue:Yt,setUnvalidatedRecoilValue:Zt}=gt,{updateRetainCount:Qt}=kt,{setInvalidateMemoizedSnapshot:en}=Ge,{getNextTreeStateVersion:tn,makeEmptyStoreState:nn}=Ae,{isSSR:rn}=Ft,{memoizeOneWithArgsHashAndInvalidation:sn}=Bt;class on{constructor(e){c(this,"_store",void 0),c(this,"_refCount",1),c(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Jt(this._store,e)))),c(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),c(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return qt(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?Kt.values():!0===e.isInitialized?qt(Ut([t,n])):Le(Kt.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),c(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),Ht(this._store,this._store.getState().currentTree,e)))),c(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new un(this,jt);return e(t),t})),c(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new un(this,jt);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:Wt(),getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return a(n.get(t));const r=$t();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw s("Cannot subscribe to Snapshots")}};for(const t of this._store.getState().knownAtoms)zt(this._store,t,"get"),Qt(this._store,t,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&J("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){rn||window.setTimeout((()=>this._release()),0)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!P("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){P("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function an(e,t,n=!1){const r=e.getState(),i=n?tn():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(X(r.nodeCleanupFunctions.entries(),(([e])=>[e,()=>{}])))}}const[cn,ln]=sn(((e,t)=>{var n;const r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:a(r.previousTree);return new on(an(e,i))}),((e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)}));en(ln);class un extends on{constructor(e,t){super(an(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),c(this,"_batch",void 0),c(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Qt(n,e.key,1),Yt(this.getStore_INTERNAL(),e,t)}))})),c(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Qt(t,e.key,1),Yt(this.getStore_INTERNAL(),e,Gt)}))})),c(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();jt((()=>{for(const[n,r]of e.entries())Qt(t,n,1),Zt(t,new Xt(n),r)}))})),this._batch=t}}var hn={Snapshot:on,MutableSnapshot:un,freshSnapshot:function(e){const t=new on(nn());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){const n=cn(e,t);return n.isRetained()?n:(ln(),cn(e,t))}},dn=hn.Snapshot,fn=hn.MutableSnapshot,pn=hn.freshSnapshot,gn=hn.cloneSnapshot,mn=Object.freeze({__proto__:null,Snapshot:dn,MutableSnapshot:fn,freshSnapshot:pn,cloneSnapshot:gn});var vn=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};const{useRef:yn}=r;var _n=function(e){const t=yn(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:bn,makeEmptyStoreState:wn}=Ae,{cleanUpNode:Tn,getDownstreamNodes:Sn,initializeNode:En,setNodeValue:In,setUnvalidatedAtomValue_DEPRECATED:Rn}=$e,{graph:kn}=_e,{cloneGraph:An}=_e,{getNextStoreID:Nn}=Se,{createMutableSource:Cn,reactMode:On}=V,{applyAtomValueWrites:Ln}=gt,{releaseScheduledRetainablesNow:Dn}=kt,{freshSnapshot:Pn}=mn,{useCallback:Mn,useContext:Un,useEffect:xn,useMemo:Vn,useRef:Fn,useState:Bn}=r;function jn(){throw s("This component must be used inside a <RecoilRoot> component.")}const zn=Object.freeze({storeID:Nn(),getState:jn,replaceState:jn,getGraph:jn,subscribeToTransactions:jn,addTransactionMetadata:jn});let Hn=!1;function $n(e){if(Hn)throw s("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){P("recoil_memory_managament_2020")&&P("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Dn(e);const n=t.currentTree.version,r=bn();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,An(a(t.graphsByVersion.get(n))))}}const Wn=r.createContext({current:zn}),Gn=()=>Un(Wn),Kn=r.createContext(null);function qn(e,t,n){const r=Sn(e,n,n.dirtyAtoms);for(const i of r){const e=t.nodeToComponentSubscriptions.get(i);if(e)for(const[t,[r,i]]of e)i(n)}}function Xn(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,r]of i)r(e);for(const[n,r]of t.transactionSubscriptions)r(e);(!On().early||t.suspendedComponentResolvers.size>0)&&(qn(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Jn({setNotifyBatcherOfChange:e}){const t=Gn(),[,n]=Bn([]);return e((()=>n({}))),xn((()=>(e((()=>n({}))),()=>{e((()=>{}))})),[e]),xn((()=>{ae.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Xn(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):J("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,P("recoil_memory_managament_2020")&&null==n&&Dn(e)}finally{t.commitDepth--}}(t.current)}))})),null}let Yn=0;function Zn({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:i}){let s;const o=e=>{const t=s.current.graphsByVersion;if(t.has(e))return a(t.get(e));const n=kn();return t.set(e,n),n},c=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=f.current.getState(),n=Yn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=f.current.getState();n.has(t)||n.set(t,new Map);const r=Yn++;return a(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},l=e=>{$n(f.current);for(const t of Object.keys(e))a(f.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{$n(f.current);const t=a(s.current.nextTree);let n;try{Hn=!0,n=e(t)}finally{Hn=!1}n!==t&&(s.current.nextTree=n,On().early&&qn(f.current,s.current,n),a(h.current)())},h=Fn(null),d=Mn((e=>{h.current=e}),[h]),f=_n((()=>null!==n&&void 0!==n?n:{storeID:Nn(),getState:()=>s.current,replaceState:u,getGraph:o,subscribeToTransactions:c,addTransactionMetadata:l}));null!=n&&(f.current=n),s=_n((()=>null!=e?function(e,t){const n=wn();return t({set:(t,r)=>{const i=n.currentTree,s=In(e,i,t.key,r),o=new Set(s.keys()),a=i.nonvalidatedAtoms.clone();for(const e of o)a.delete(e);n.currentTree={...i,dirtyAtoms:vn(i.dirtyAtoms,o),atomValues:Ln(i.atomValues,s),nonvalidatedAtoms:a}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Rn(n.currentTree,t,e)}))}}),n}(f.current,e):null!=t?function(e){const t=Pn().map(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(t):wn()));const p=Vn((()=>null===Cn||void 0===Cn?void 0:Cn(s,(()=>s.current.currentTree.version))),[s]);return xn((()=>{const e=f.current;for(const t of new Set(e.getState().knownAtoms))En(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)Tn(e,t)}}),[f]),r.createElement(Wn.Provider,{value:f},r.createElement(Kn.Provider,{value:p},r.createElement(Jn,{setNotifyBatcherOfChange:d}),i))}var Qn={RecoilRoot:function(e){const{override:t,...n}=e,i=Gn();return!1===t&&i.current!==zn?e.children:r.createElement(Zn,n)},useStoreRef:Gn,useRecoilMutableSource:function(){const e=Un(Kn);return null==e&&q("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return Gn().current.storeID},notifyComponents_FOR_TESTING:qn,sendEndOfBatchNotifications_FOR_TESTING:Xn};var er=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:tr,useRef:nr}=r;var rr=function(e){const t=nr();return tr((()=>{t.current=e})),t.current};const{useStoreRef:ir}=Qn,{SUSPENSE_TIMEOUT_MS:sr}=kt,{updateRetainCount:or}=kt,{RetentionZone:ar}=Ce,{useEffect:cr,useRef:lr}=r,{isSSR:ur}=Ft;var hr=function(e){if(P("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof ar?e:e.key)),n=ir();cr((()=>{if(!P("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!ur)window.clearTimeout(r.current),r.current=null;else for(const n of t)or(e,n,1);return()=>{for(const n of t)or(e,n,-1)}}),[n,...t]);const r=lr(),i=rr(t);if(!ur&&(void 0===i||!er(i,t))){const e=n.current;for(const n of t)or(e,n,1);if(i)for(const t of i)or(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)or(e,n,-1)}),sr)}}(e)};var dr=function(){return"<component name not available>"};const{batchUpdates:fr}=Mt,{DEFAULT_VALUE:pr}=oe,{reactMode:gr,useMutableSource:mr,useSyncExternalStore:vr}=V,{useRecoilMutableSource:yr,useStoreRef:_r}=Qn,{isRecoilValue:br}=K,{AbstractRecoilValue:wr,getRecoilValueAsLoadable:Tr,setRecoilValue:Sr,setUnvalidatedRecoilValue:Er,subscribeToRecoilValue:Ir}=gt,{useCallback:Rr,useEffect:kr,useMemo:Ar,useRef:Nr,useState:Cr}=r,{setByAddingToSet:Or}=Oe;function Lr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}))}throw"hasError"===e.state?e.contents:s(`Invalid value of loadable atom "${t.key}"`)}function Dr(e){const t=_r(),n=dr(),r=Rr((()=>{var n;const r=t.current,i=r.getState(),s=gr().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:Tr(r,e,s),key:e.key}}),[t,e]),i=Rr((e=>{let t;return()=>{var n,r;const i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),s=Ar((()=>i(r)),[r,i]),o=Rr((r=>{const i=t.current;return Ir(i,e,r,n).release}),[t,e,n]);return vr(o,s,s).loadable}function Pr(e){const t=_r(),n=Rr((()=>{var n;const r=t.current,i=r.getState(),s=gr().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Tr(r,e,s)}),[t,e]),r=Rr((()=>n()),[n]),i=dr(),o=Rr(((r,s)=>{const o=t.current;return Ir(o,e,(()=>{if(!P("recoil_suppress_rerender_in_callback"))return s();const e=n();l.current.is(e)||s(),l.current=e}),i).release}),[t,e,i,n]),a=yr();if(null==a)throw s("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const c=mr(a,r,o),l=Nr(c);return kr((()=>{l.current=c})),c}function Mr(e){const t=_r(),n=dr(),r=Rr((()=>{var n;const r=t.current,i=r.getState(),s=gr().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Tr(r,e,s)}),[t,e]),i=Rr((()=>({loadable:r(),key:e.key})),[r,e.key]),s=Rr((e=>{const t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);kr((()=>{const r=Ir(t.current,e,(e=>{a(s)}),n);return a(s),r.release}),[n,e,t,s]);const[o,a]=Cr(i);return o.key!==e.key?i().loadable:o.loadable}function Ur(e){const t=_r(),[,n]=Cr([]),r=dr(),i=Rr((()=>{var n;const r=t.current,i=r.getState(),s=gr().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Tr(r,e,s)}),[t,e]),s=i(),o=Nr(s);return kr((()=>{o.current=s})),kr((()=>{const s=t.current,a=s.getState(),c=Ir(s,e,(e=>{var t;if(!P("recoil_suppress_rerender_in_callback"))return n([]);const r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(a.nextTree)s.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{o.current=null,n([])}));else{var l;if(!P("recoil_suppress_rerender_in_callback"))return n([]);const e=i();null!==(l=o.current)&&void 0!==l&&l.is(e)||n(e),o.current=e}return c.release}),[r,i,e,t]),s}function xr(e){return P("recoil_memory_managament_2020")&&hr(e),{TRANSITION_SUPPORT:Mr,SYNC_EXTERNAL_STORE:Dr,MUTABLE_SOURCE:Pr,LEGACY:Ur}[gr().mode](e)}function Vr(e){const t=_r();return Lr(xr(e),e,t)}function Fr(e){const t=_r();return Rr((n=>{Sr(t.current,e,n)}),[t,e])}function Br(e){return P("recoil_memory_managament_2020")&&hr(e),Mr(e)}function jr(e){const t=_r();return Lr(Br(e),e,t)}var zr={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=dr(),t=_r(),[,n]=Cr([]),r=Nr(new Set);r.current=new Set;const i=Nr(new Set),s=Nr(new Map),o=Rr((e=>{const t=s.current.get(e);t&&(t.release(),s.current.delete(e))}),[s]),a=Rr(((e,t)=>{s.current.has(t)&&n([])}),[]);return kr((()=>{const n=t.current;me(r.current,i.current).forEach((t=>{if(s.current.has(t))return void q(`Double subscription to RecoilValue "${t}"`);const r=Ir(n,new wr(t),(e=>a(e,t)),e);s.current.set(t,r);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a(n.getState(),t)})):a(n.getState(),t)})),me(i.current,r.current).forEach((e=>{o(e)})),i.current=r.current})),kr((()=>{const n=s.current;return me(r.current,new Set(n.keys())).forEach((r=>{const i=Ir(t.current,new wr(r),(e=>a(e,r)),e);n.set(r,i)})),()=>n.forEach(((e,t)=>o(t)))}),[e,t,o,a]),Ar((()=>{function e(e){return n=>{Sr(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=Or(r.current,e.key));const i=t.current.getState();return Tr(t.current,e,gr().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(e){return Lr(n(e),e,t)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>Sr(t.current,e,pr)}}}),[r,t])},useRecoilState:function(e){return[Vr(e),Fr(e)]},useRecoilStateLoadable:function(e){return[xr(e),Fr(e)]},useRecoilValue:Vr,useRecoilValueLoadable:xr,useResetRecoilState:function(e){const t=_r();return Rr((()=>{Sr(t.current,e,pr)}),[t,e])},useSetRecoilState:Fr,useSetUnvalidatedAtomValues:function(){const e=_r();return(t,n={})=>{fr((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Er(e.current,new wr(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Br,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:jr,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[jr(e),Fr(e)]}};var Hr=function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n};var $r=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var Wr=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t};const{batchUpdates:Gr}=Mt,{DEFAULT_VALUE:Kr,getNode:qr,nodes:Xr}=oe,{useStoreRef:Jr}=Qn,{AbstractRecoilValue:Yr,setRecoilValueLoadable:Zr}=gt,{SUSPENSE_TIMEOUT_MS:Qr}=kt,{cloneSnapshot:ei}=mn,{useCallback:ti,useEffect:ni,useRef:ri,useState:ii}=r,{isSSR:si}=Ft;function oi(e){const t=Jr();ni((()=>t.current.subscribeToTransactions(e).release),[e,t])}function ai(e){const t=e.atomValues.toMap(),n=ve(Hr(t,((e,t)=>{const n=qr(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return Wr(e.nonvalidatedAtoms.toMap(),n)}function ci(e,t){var n;const r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,s=t.getStore_INTERNAL().getState().currentTree;Gr((()=>{const n=new Set;for(const e of[i.atomValues.keys(),s.atomValues.keys()])for(const t of e){var r,o;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(o=s.atomValues.get(t))||void 0===o?void 0:o.contents)&&qr(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{Zr(e,new Yr(t),s.atomValues.has(t)?a(s.atomValues.get(t)):Kr)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var li={useRecoilSnapshot:function(){const e=Jr(),[t,n]=ii((()=>ei(e.current))),r=rr(t),i=ri(),s=ri();if(oi(ti((e=>n(ei(e))),[])),ni((()=>{const e=t.retain();var n;i.current&&!si&&(window.clearTimeout(i.current),i.current=null,null===(n=s.current)||void 0===n||n.call(s),s.current=null);return e}),[t]),r!==t&&!si){var o;if(i.current)window.clearTimeout(i.current),i.current=null,null===(o=s.current)||void 0===o||o.call(s),s.current=null;s.current=t.retain(),i.current=window.setTimeout((()=>{var e;i.current=null,null===(e=s.current)||void 0===e||e.call(s),s.current=null}),Qr)}return t},gotoSnapshot:ci,useGotoRecoilSnapshot:function(){const e=Jr();return ti((t=>ci(e.current,t)),[e])},useRecoilTransactionObserver:function(e){oi(ti((t=>{const n=ei(t,"latest"),r=ei(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){oi(ti((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(J("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const i=ai(r),s=ai(n),o=ve(Xr,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),a=$r(r.dirtyAtoms,(e=>i.has(e)||s.has(e)));e({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:oi};const{peekNodeInfo:ui}=$e,{useStoreRef:hi}=Qn;var di=function(){const e=hi();return({key:t})=>ui(e.current,e.current.getState().currentTree,t)};const{reactMode:fi}=V,{RecoilRoot:pi,useStoreRef:gi}=Qn,{useMemo:mi}=r;var vi=function(){"MUTABLE_SOURCE"===fi().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=gi().current;return mi((()=>function({children:t}){return r.createElement(pi,{store_INTERNAL:e},t)}),[e])};const{loadableWithValue:yi}=A,{initializeNode:_i}=$e,{DEFAULT_VALUE:bi,getNode:wi}=oe,{copyTreeState:Ti,getRecoilValueAsLoadable:Si,invalidateDownstreams:Ei,writeLoadableToTreeState:Ii}=gt;function Ri(e){return"atom"===wi(e.key).nodeType}class ki{constructor(e,t){c(this,"_store",void 0),c(this,"_treeState",void 0),c(this,"_changes",void 0),c(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Ri(e))throw s("Reading selectors within atomicUpdate is not supported");const t=Si(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:s(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),c(this,"set",((e,t)=>{if(!Ri(e))throw s("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else _i(this._store,e.key,"set"),this._changes.set(e.key,t)})),c(this,"reset",(e=>{this.set(e,bi)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Ti(this._treeState);for(const[t,n]of this._changes)Ii(e,t,yi(n));return Ei(this._store,e),e}}var Ai=function(e){return t=>{e.replaceState((n=>{const r=new ki(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Ni=Ai,Ci=Object.freeze({__proto__:null,atomicUpdater:Ni});var Oi=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Li}=Ci,{batchUpdates:Di}=Mt,{DEFAULT_VALUE:Pi}=oe,{useStoreRef:Mi}=Qn,{refreshRecoilValue:Ui,setRecoilValue:xi}=gt,{cloneSnapshot:Vi}=mn,{gotoSnapshot:Fi}=li,{useCallback:Bi}=r;class ji{}const zi=new ji;function Hi(e,t,n,r){let i,a=zi;var c;(Di((()=>{const o="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw s(o);const c=De({...null!==r&&void 0!==r?r:{},set:(t,n)=>xi(e,t,n),reset:t=>xi(e,t,Pi),refresh:t=>Ui(e,t),gotoSnapshot:t=>Fi(e,t),transact_UNSTABLE:t=>Li(e)(t)},{snapshot:()=>{const t=Vi(e);return i=t.retain(),t}}),l=t(c);if("function"!==typeof l)throw s(o);a=l(...n)})),a instanceof ji&&Oi(!1),o(a))?a.finally((()=>{var e;null===(e=i)||void 0===e||e()})):null===(c=i)||void 0===c||c();return a}var $i={recoilCallback:Hi,useRecoilCallback:function(e,t){const n=Mi();return Bi(((...t)=>Hi(n.current,e,t)),null!=t?[...t,n]:void 0)}};const{useStoreRef:Wi}=Qn,{refreshRecoilValue:Gi}=gt,{useCallback:Ki}=r;var qi=function(e){const t=Wi();return Ki((()=>{const n=t.current;Gi(n,e)}),[e,t])};const{atomicUpdater:Xi}=Ci,{useStoreRef:Ji}=Qn,{useMemo:Yi}=r;var Zi=function(e,t){const n=Ji();return Yi((()=>(...t)=>{Xi(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)};var Qi=class{constructor(e){c(this,"value",void 0),this.value=e}},es=Object.freeze({__proto__:null,WrappedValue:Qi});const{isFastRefreshEnabled:ts}=V;class ns extends Error{}var rs=class{constructor(e){var t,n,r;c(this,"_name",void 0),c(this,"_numLeafs",void 0),c(this,"_root",void 0),c(this,"_onHit",void 0),c(this,"_onSet",void 0),c(this,"_mapNodeValue",void 0),this._name=null===e||void 0===e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null===e||void 0===e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null===e||void 0===e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null===e||void 0===e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){const r=()=>{var r,i,s,o;let a,c;for(const[t,p]of e){var l,u,h;const e=this._root;if("leaf"===(null===e||void 0===e?void 0:e.type))throw this.invalidCacheError();const r=a;if(a=r?r.branches.get(c):e,a=null!==(l=a)&&void 0!==l?l:{type:"branch",nodeKey:t,parent:r,branches:new Map,branchKey:c},"branch"!==a.type||a.nodeKey!==t)throw this.invalidCacheError();null===r||void 0===r||r.branches.set(c,a),null===n||void 0===n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,a),c=this._mapNodeValue(p),this._root=null!==(h=this._root)&&void 0!==h?h:a}const d=a?null===(r=a)||void 0===r?void 0:r.branches.get(c):this._root;if(null!=d&&("leaf"!==d.type||d.branchKey!==c))throw this.invalidCacheError();const f={type:"leaf",value:t,parent:a,branchKey:c};null===(i=a)||void 0===i||i.branches.set(c,f),this._root=null!==(s=this._root)&&void 0!==s?s:f,this._numLeafs++,this._onSet(f),null===n||void 0===n||null===(o=n.onNodeVisit)||void 0===o||o.call(n,f)};try{r()}catch(i){if(!(i instanceof ns))throw i;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=ts()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw J(e+(null!=this._name?` - ${this._name}`:"")),new ns}},is=Object.freeze({__proto__:null,TreeCache:rs});var ss=class{constructor(e){var t;c(this,"_maxSize",void 0),c(this,"_size",void 0),c(this,"_head",void 0),c(this,"_tail",void 0),c(this,"_map",void 0),c(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=a(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},os=Object.freeze({__proto__:null,LRUCache:ss});const{LRUCache:as}=os,{TreeCache:cs}=is;var ls=function({name:e,maxSize:t,mapNodeValue:n=(e=>e)}){const r=new as({maxSize:t}),i=new cs({name:e,mapNodeValue:n,onHit:e=>{r.set(e,!0)},onSet:e=>{const n=r.tail();r.set(e,!0),n&&i.size()>t&&i.delete(n.key)}});return i};function us(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw s("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(o(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>us(e,t,n.toString())))}]`;if("function"===typeof e.toJSON)return us(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"===typeof n?n:us(n,t)]=i;return us(r,t,n)}return e instanceof Set?us(Array.from(e).sort(((e,n)=>us(e,t).localeCompare(us(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?us(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${us(n,t)}:${us(e[n],t,n)}`)).join(",")}}`}var hs=function(e,t={allowFunctions:!1}){return us(e,t)};const{TreeCache:ds}=is,fs={equality:"reference",eviction:"keep-all",maxSize:1/0};var ps=function({equality:e=fs.equality,eviction:t=fs.eviction,maxSize:n=fs.maxSize}=fs,r){const i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>hs(e)}throw s(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n,r){switch(e){case"keep-all":return new ds({name:r,mapNodeValue:n});case"lru":return ls({name:r,maxSize:a(t),mapNodeValue:n});case"most-recent":return ls({name:r,maxSize:1,mapNodeValue:n})}throw s(`Unrecognized eviction policy ${e}`)}(t,n,i,r)};const{isReactNative:gs,isWindow:ms}=Ft;var vs={startPerfBlock:function(e){return()=>null}};const{isLoadable:ys,loadableWithError:_s,loadableWithPromise:bs,loadableWithValue:ws}=A,{WrappedValue:Ts}=es,{getNodeLoadable:Ss,peekNodeLoadable:Es,setNodeValue:Is}=$e,{saveDepsToStore:Rs}=_e,{DEFAULT_VALUE:ks,RecoilValueNotReady:As,getConfigDeletionHandler:Ns,getNode:Cs,registerNode:Os}=oe,{isRecoilValue:Ls}=K,{markRecoilValueModified:Ds}=gt,{retainedByOptionWithDefault:Ps}=kt,{recoilCallback:Ms}=$i,{startPerfBlock:Us}=vs;class xs{}const Vs=new xs,Fs=[],Bs=new Map,js=(()=>{let e=0;return()=>e++})();function zs(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,c=null!=e.set?e.set:void 0;const l=new Set,u=ps(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),h=Ps(e.retainedBy_UNSTABLE),d=new Map;let f=0;function p(){return!P("recoil_memory_managament_2020")||f>0}function g(e){return e.getState().knownSelectors.add(n),f++,()=>{f--}}function m(){return void 0!==Ns(n)&&!p()}function v(e,t,n,r,i){C(t,r,i),y(e,n)}function y(e,t){N(e,t)&&A(e),_(t,!0)}function _(e,n){const r=Bs.get(e);if(null!=r){for(const e of r)Ds(e,a(t));n&&Bs.delete(e)}}function b(e,t){let n=Bs.get(t);null==n&&Bs.set(t,n=new Set),n.add(e)}function w(e,t,n,r,i,s){return t.then((r=>{if(!p())throw A(e),Vs;null!=s.loadingDepKey&&s.loadingDepPromise===t?n.atomValues.set(s.loadingDepKey,ws(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const o=E(e,n);if(o&&"loading"!==o.state){if((N(e,i)||null==k(e))&&y(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!N(e,i)){const t=R(e,n);if(null!=t)return t.loadingLoadable.contents}const[a,c]=S(e,n,i);if("loading"!==a.state&&v(e,n,i,a,c),"hasError"===a.state)throw a.contents;return a.contents})).catch((t=>{if(t instanceof xs)throw Vs;if(!p())throw A(e),Vs;const s=_s(t);throw v(e,n,i,s,r),t}))}function T(e,t,r,i){var s,o,a,c,u,h,d;(N(e,i)||t.version===(null===(s=e.getState())||void 0===s||null===(o=s.currentTree)||void 0===o?void 0:o.version)||t.version===(null===(a=e.getState())||void 0===a||null===(c=a.nextTree)||void 0===c?void 0:c.version))&&Rs(n,r,e,null!==(u=null===(h=e.getState())||void 0===h||null===(d=h.nextTree)||void 0===d?void 0:d.version)&&void 0!==u?u:e.getState().currentTree.version);for(const n of r)l.add(n)}function S(e,i,c){const l=Us(n);let u=!0,h=!0;const d=()=>{l(),h=!1};let f,g,m=!1;const y={loadingDepKey:null,loadingDepPromise:null},b=new Map;function S({key:t}){const n=Ss(e,i,t);switch(b.set(t,n),u||(T(e,i,new Set(b.keys()),c),function(e,t){N(e,t)&&(a(k(e)).stateVersions.clear(),_(t,!1))}(e,c)),n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw y.loadingDepKey=t,y.loadingDepPromise=n.contents,n.contents}throw s("Invalid Loadable state")}const E=n=>(...r)=>{if(h)throw s("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&Oi(!1),Ms(e,n,r,{node:t})};try{f=r({get:S,getCallback:E}),f=Ls(f)?S(f):f,ys(f)&&("hasError"===f.state&&(m=!0),f=f.contents),o(f)?f=function(e,t,n,r,i,s){return t.then((t=>{if(!p())throw A(e),Vs;const s=ws(t);return v(e,n,i,s,r),t})).catch((t=>{if(!p())throw A(e),Vs;if(o(t))return w(e,t,n,r,i,s);const a=_s(t);throw v(e,n,i,a,r),t}))}(e,f,i,b,c,y).finally(d):d(),f=f instanceof Ts?f.value:f}catch(I){f=I,o(f)?f=w(e,f,i,b,c,y).finally(d):(m=!0,d())}return g=m?_s(f):o(f)?bs(f):ws(f),u=!1,function(e,t,n){if(N(e,t)){const t=k(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,c,b),T(e,i,new Set(b.keys()),c),[g,b]}function E(e,t){let r=t.atomValues.get(n);if(null!=r)return r;const i=new Set;try{r=u.get((n=>("string"!==typeof n&&Oi(!1),Ss(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&i.add(e.nodeKey)}})}catch(a){throw s(`Problem with cache lookup for selector "${n}": ${a.message}`)}var o;r&&(t.atomValues.set(n,r),T(e,t,i,null===(o=k(e))||void 0===o?void 0:o.executionID));return r}function I(e,t){const n=E(e,t);if(null!=n)return A(e),n;const r=R(e,t);var i;if(null!=r)return"loading"===(null===(i=r.loadingLoadable)||void 0===i?void 0:i.state)&&b(e,r.executionID),r.loadingLoadable;const s=js(),[o,a]=S(e,t,s);return"loading"===o.state?(!function(e,t,n,r,i){d.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,s,o,a,t),b(e,s)):(A(e),C(t,o,a)),o}function R(e,t){const n=Ut([d.has(e)?[a(d.get(e))]:[],X(Le(d,(([t])=>t!==e)),(([,e])=>e))]);function r(n){for(const[r,i]of n)if(!Ss(e,t,r).is(i))return!0;return!1}for(const i of n){if(i.stateVersions.get(t.version)||!r(i.depValuesDiscoveredSoFarDuringAsyncWork))return i.stateVersions.set(t.version,!0),i;i.stateVersions.set(t.version,!1)}}function k(e){return d.get(e)}function A(e){d.delete(e)}function N(e,t){var n;return t===(null===(n=k(e))||void 0===n?void 0:n.executionID)}function C(e,t,r){e.atomValues.set(n,t);try{u.set(function(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}(r),t)}catch(i){throw s(`Problem with setting cache for selector "${n}": ${i.message}`)}}function O(e,t){const r=t.atomValues.get(n);return null!=r?r:u.get((n=>{var r;return"string"!==typeof n&&Oi(!1),null===(r=Es(e,t,n))||void 0===r?void 0:r.contents}))}function L(e,t){return function(e){if(Fs.includes(n)){const e=`Recoil selector has circular dependencies: ${Fs.slice(Fs.indexOf(n)).join(" \u2192 ")}`;return _s(s(e))}Fs.push(n);try{return e()}finally{Fs.pop()}}((()=>I(e,t)))}function D(e){e.atomValues.delete(n)}function M(e,n){null==t&&Oi(!1);for(const t of l){var r;const i=Cs(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}l.clear(),D(n),u.clear(),Ds(e,t)}if(null!=c){return t=Os({key:n,nodeType:"selector",peek:O,get:L,set:(e,t,n)=>{let r=!1;const i=new Map;function a({key:n}){if(r)throw s("Recoil: Async selector sets are not currently supported.");const i=Ss(e,t,n);if("hasValue"===i.state)return i.contents;throw"loading"===i.state?new As(n):i.contents}function l(n,o){if(r)throw s("Recoil: Async selector sets are not currently supported.");const c="function"===typeof o?o(a(n)):o;Is(e,t,n.key,c).forEach(((e,t)=>i.set(t,e)))}const u=c({set:l,get:a,reset:function(e){l(e,ks)}},n);if(void 0!==u)throw o(u)?s("Recoil: Async selector sets are not currently supported."):s("Recoil: selector set should be a void function.");return r=!0,i},init:g,invalidate:D,clearCache:M,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:h})}return t=Os({key:n,nodeType:"selector",peek:O,get:L,init:g,invalidate:D,clearCache:M,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:h})}zs.value=e=>new Ts(e);var Hs=zs;const{isLoadable:$s,loadableWithError:Ws,loadableWithPromise:Gs,loadableWithValue:Ks}=A,{WrappedValue:qs}=es,{peekNodeInfo:Xs}=$e,{DEFAULT_VALUE:Js,DefaultValue:Ys,getConfigDeletionHandler:Zs,registerNode:Qs,setConfigDeletionHandler:eo}=oe,{isRecoilValue:to}=K,{getRecoilValueAsLoadable:no,markRecoilValueModified:ro,setRecoilValue:io,setRecoilValueLoadable:so}=gt,{retainedByOptionWithDefault:oo}=kt;function ao(e){const{key:t,persistence_UNSTABLE:n}=e,r=oo(e.retainedBy_UNSTABLE);let i=0;function c(e){return Gs(e.then((e=>(u=Ks(e),e))).catch((e=>{throw u=Ws(e),e})))}let l,u=o(e.default)?c(e.default):$s(e.default)?"loading"===e.default.state?c(e.default.contents):e.default:Ks(e.default instanceof qs?e.default.value:e.default);d(u.contents);const h=new Map;function d(e){return e}function f(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:l)&&void 0!==r?r:u}const p=Qs({key:t,nodeType:"atom",peek:f,get:function(e,r){if(r.atomValues.has(t))return a(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=l)return l;if(null==n)return q(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),u;const e=r.nonvalidatedAtoms.get(t),i=n.validator(e,Js),s=i instanceof Ys?u:Ks(i);return l=s,l}return u},set:function(e,n,r){if(n.atomValues.has(t)){const e=a(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ys)return new Map;return l=void 0,(new Map).set(t,Ks(r))},init:function(n,r,a){var c;if(i++,n.getState().knownAtoms.add(t),"loading"===u.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||ro(n,p)};u.contents.finally(e)}const l=null!==(c=e.effects)&&void 0!==c?c:e.effects_UNSTABLE;if(null!=l){let e=!0,i=Js,c=!1,v=null;function y(s){if(e&&s.key===t){const e=i;return e instanceof Ys?f(n,r):o(e)?Gs(e.then((e=>e instanceof Ys?u.toPromise():e))):Ks(e)}return no(n,s)}function _(e){return y(e).toPromise()}function b(r){var s;const o=Xs(n,null!==(s=n.getState().nextTree)&&void 0!==s?s:n.getState().currentTree,r.key);return!e||r.key!==t||i instanceof Ys?o:{...o,isSet:!0,loadable:y(r)}}const w=t=>r=>{if(e){const e=y(p),n="hasValue"===e.state?e.contents:Js;i="function"===typeof r?r(n):r,o(i)&&(i=i.then((e=>(v={effect:t,value:e},e))))}else{if(o(r))throw s("Setting atoms to async values is not implemented.");"function"!==typeof r&&(v={effect:t,value:r}),io(n,p,"function"===typeof r?e=>{const n=r(e);return v={effect:t,value:n},n}:r)}},T=e=>()=>w(e)(Js),S=e=>r=>{var i;const{release:s}=n.subscribeToTransactions((n=>{var i;let{currentTree:s,previousTree:o}=n.getState();o||(J("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),o=s);const a=null!==(i=s.atomValues.get(t))&&void 0!==i?i:u;if("hasValue"===a.state){var c,l,h,d;const n=a.contents,i=null!==(c=o.atomValues.get(t))&&void 0!==c?c:u,f="hasValue"===i.state?i.contents:Js;(null===(l=v)||void 0===l?void 0:l.effect)!==e||(null===(h=v)||void 0===h?void 0:h.value)!==n?r(n,f,!s.atomValues.has(t)):(null===(d=v)||void 0===d?void 0:d.effect)===e&&(v=null)}}),t);h.set(n,[...null!==(i=h.get(n))&&void 0!==i?i:[],s])};for(const t of l)try{const e=t({node:p,storeID:n.storeID,trigger:a,setSelf:w(t),resetSelf:T(t),onSet:S(t),getPromise:_,getLoadable:y,getInfo_UNSTABLE:b});var d;if(null!=e)h.set(n,[...null!==(d=h.get(n))&&void 0!==d?d:[],e])}catch(m){i=m,c=!0}if(e=!1,!(i instanceof Ys)){var g;const e=i,s=c?Ws(i):o(e)?Gs(function(e,n){const r=n.then((n=>{var i,s;return(null===(s=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===s?void 0:s.contents)===r&&io(e,p,n),n})).catch((n=>{var i,s;throw(null===(s=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===s?void 0:s.contents)===r&&so(e,p,Ws(n)),n}));return r}(n,e)):Ks(e);r.atomValues.set(t,s),null===(g=n.getState().nextTree)||void 0===g||g.atomValues.set(t,s)}}return()=>{var e;i--,null===(e=h.get(n))||void 0===e||e.forEach((e=>e())),h.delete(n)}},invalidate:function(){l=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Zs(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return p}function co(e){const{...t}=e,n="default"in e?e.default:new Promise((()=>{}));return to(n)?function(e){const t=co({...e,default:Js,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof Ys?t:a(e.persistence_UNSTABLE).validator(t,Js)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Hs({key:`${e.key}__withFallback`,get:({get:n})=>{const r=n(t);return r instanceof Ys?e.default:r},set:({set:e},n)=>e(t,n),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return eo(n.key,Zs(e.key)),n}({...t,default:n}):ao({...t,default:n})}co.value=e=>new qs(e);var lo=co;var uo=class{constructor(e){var t;c(this,"_map",void 0),c(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null===e||void 0===e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},ho=Object.freeze({__proto__:null,MapCache:uo});const{LRUCache:fo}=os,{MapCache:po}=ho,go={equality:"reference",eviction:"none",maxSize:1/0};var mo=function({equality:e=go.equality,eviction:t=go.eviction,maxSize:n=go.maxSize}=go){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>hs(e)}throw s(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new po({mapKey:n});case"lru":return new fo({mapKey:n,maxSize:a(t)});case"most-recent":return new fo({mapKey:n,maxSize:1})}throw s(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:vo}=oe;var yo=function(e){var t,n;const r=mo({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,i;const s=r.get(t);if(null!=s)return s;const{cachePolicyForParams_UNSTABLE:o,...a}=e,c="default"in e?e.default:new Promise((()=>{})),l=lo({...a,key:`${e.key}__${null!==(n=hs(t))&&void 0!==n?n:"void"}`,default:"function"===typeof c?c(t):c,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return r.set(t,l),vo(l.key,(()=>{r.delete(t)})),l}};const{setConfigDeletionHandler:_o}=oe;let bo=0;var wo=function(e){var t,n;const r=mo({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i;try{i=r.get(t)}catch(h){throw s(`Problem with cache lookup for selector ${e.key}: ${h.message}`)}if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=hs(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${bo++}`,a=n=>e.get(t)(n),c=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let u;if(null!=e.set){const n=e.set;u=Hs({key:o,get:a,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else u=Hs({key:o,get:a,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,u),_o(u.key,(()=>{r.delete(t)})),u}};const To=wo({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var So=function(e){return To(e)};const Eo=wo({key:"__error",get:e=>()=>{throw s(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Io=function(e){return Eo(e)};var Ro=function(e){return e};const{loadableWithError:ko,loadableWithPromise:Ao,loadableWithValue:No}=A;function Co(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[s,o]of t.entries())try{n[s]=e(o)}catch(i){r[s]=i}return[n,r]}function Oo(e){return null!=e&&!o(e)}function Lo(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Do(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function Po(e,t,n){return Do(e,n.map(((e,n)=>null==e?No(t[n]):o(e)?Ao(e):ko(e))))}var Mo={waitForNone:wo({key:"__waitForNone",get:e=>({get:t})=>{const n=Lo(e),[r,i]=Co(t,n);return Po(e,r,i)},dangerouslyAllowMutability:!0}),waitForAny:wo({key:"__waitForAny",get:e=>({get:t})=>{const n=Lo(e),[r,i]=Co(t,n);return i.some((e=>!o(e)))?Po(e,r,i):new Promise((t=>{for(const[n,s]of i.entries())o(s)&&s.then((s=>{r[n]=s,i[n]=void 0,t(Po(e,r,i))})).catch((s=>{i[n]=s,t(Po(e,r,i))}))}))},dangerouslyAllowMutability:!0}),waitForAll:wo({key:"__waitForAll",get:e=>({get:t})=>{const n=Lo(e),[r,i]=Co(t,n);if(i.every((e=>null==e)))return Do(e,r);const s=i.find(Oo);if(null!=s)throw s;return Promise.all(i).then((t=>{return Do(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),waitForAllSettled:wo({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Lo(e),[r,i]=Co(t,n);return i.every((e=>!o(e)))?Po(e,r,i):Promise.all(i.map(((e,t)=>o(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>Po(e,r,i)))},dangerouslyAllowMutability:!0}),noWait:wo({key:"__noWait",get:e=>({get:t})=>{try{return Hs.value(No(t(e)))}catch(n){return Hs.value(o(n)?Ao(n):ko(n))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:Uo}=A,{DefaultValue:xo}=oe,{RecoilRoot:Vo,useRecoilStoreID:Fo}=Qn,{isRecoilValue:Bo}=K,{retentionZone:jo}=Ce,{freshSnapshot:zo}=mn,{useRecoilState:Ho,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$o,useRecoilStateLoadable:Wo,useRecoilValue:Go,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ko,useRecoilValueLoadable:qo,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Xo,useResetRecoilState:Jo,useSetRecoilState:Yo}=zr,{useGotoRecoilSnapshot:Zo,useRecoilSnapshot:Qo,useRecoilTransactionObserver:ea}=li,{useRecoilCallback:ta}=$i,{noWait:na,waitForAll:ra,waitForAllSettled:ia,waitForAny:sa,waitForNone:oa}=Mo;var aa={DefaultValue:xo,isRecoilValue:Bo,RecoilLoadable:Uo,RecoilRoot:Vo,useRecoilStoreID:Fo,useRecoilBridgeAcrossReactRoots_UNSTABLE:vi,atom:lo,selector:Hs,atomFamily:yo,selectorFamily:wo,constSelector:So,errorSelector:Io,readOnlySelector:Ro,noWait:na,waitForNone:oa,waitForAny:sa,waitForAll:ra,waitForAllSettled:ia,useRecoilValue:Go,useRecoilValueLoadable:qo,useRecoilState:Ho,useRecoilStateLoadable:Wo,useSetRecoilState:Yo,useResetRecoilState:Jo,useGetRecoilValueInfo_UNSTABLE:di,useRecoilRefresher_UNSTABLE:qi,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Xo,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ko,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$o,useRecoilCallback:ta,useRecoilTransaction_UNSTABLE:Zi,useGotoRecoilSnapshot:Zo,useRecoilSnapshot:Qo,useRecoilTransactionObserver_UNSTABLE:ea,snapshot_UNSTABLE:zo,useRetain:hr,retentionZone:jo},ca=aa.RecoilRoot,la=aa.atom,ua=aa.useRecoilState}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(6363),t(880)}));var n=e.O();_N_E=n}]);