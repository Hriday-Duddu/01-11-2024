(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4345],{84110:function(e){e.exports=function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,r,o){return n.fromToBase(e,t,r,o)}r.en.relativeTime=o,n.fromToBase=function(t,n,s,i,a){for(var l,c,d,u=s.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,x=0;x<h;x+=1){var f=p[x];f.d&&(l=i?r(t).diff(s,f.d,!0):s.diff(t,f.d,!0));var v=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,v<=f.r||!f.r){v<=1&&x>0&&(f=p[x-1]);var g=u[f.l];a&&(v=a(""+v)),c="string"==typeof g?g.replace("%d",v):g(v,n,f.l,d);break}}if(n)return c;var m=d?u.future:u.past;return"function"==typeof m?m(c):m.replace("%s",c)},n.to=function(e,t){return s(e,t,this,!0)},n.from=function(e,t){return s(e,t,this)};var i=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(i(this),e)},n.fromNow=function(e){return this.from(i(this),e)}}}()},25224:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Fe}});var n=r(49501),o=r(62097),s=r(61225),i=r(29630),a=r(79072),l=r(5152),c=r(67294),d=r(34637),u=r(59379),p=r(70675),h=r(75331),x=r(56365),f=r(75084),v=r(30120),g=r(81645),m=r(28533),j=r(68861),b=r(78371),y=r(57609),w=r(74815),P=r(85893);function Z(e){var t=e.text,r=e.href,n=(0,b.Y)((function(e){return e.trackEvent}));return(0,P.jsx)(f.Z,{variant:"surface",size:"small",sx:{minWidth:"unset"},component:j.rU,href:r,target:"_blank",rel:"noopener",onClick:function(){return n(y.vh.EXTERNAL_LINK,{Link:t})},children:(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center"},children:[t,(0,P.jsx)(g.Z,{sx:{ml:1,fontSize:14},children:(0,P.jsx)(x.Z,{})})]})})}var C,k=function(){var e=(0,o.Z)(),t=(0,s.Z)(e.breakpoints.up("lg")),r=(0,s.Z)(e.breakpoints.down("xsm")),a=(0,b.Y)((function(e){return e.trackEvent}));return(0,P.jsx)(w.f,{titleComponent:(0,P.jsxs)(v.Z,{mb:4,children:[(0,P.jsx)(m.Z,{wrapperSx:{mb:4},chainId:h.a_.mainnet}),(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,P.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,P.jsx)(i.Z,{variant:r?"h2":t?"display1":"h1",sx:{ml:2,mr:3},children:(0,P.jsx)(n.cC,{id:"Aave Governance"})})]}),(0,P.jsxs)(i.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,P.jsx)(n.cC,{id:"Aave is a fully decentralized, community governed protocol by the AAVE token-holders. AAVE token-holders collectively discuss, propose, and vote on upgrades to the protocol. AAVE token-holders (Ethereum network only) can either vote themselves on new proposals or delagate to an address of choice. To learn more check out the Governance"})," ",(0,P.jsx)(j.rU,{onClick:function(){return a(y.vh.EXTERNAL_LINK,{Link:"FAQ Docs Governance"})},href:"https://docs.aave.com/faq/governance",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,P.jsx)(n.cC,{id:"documentation"})}),"."]})]}),children:(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap",maxWidth:"sm"},children:[(0,P.jsx)(Z,{text:"SNAPSHOTS",href:"https://snapshot.org/#/aave.eth"}),(0,P.jsx)(Z,{text:"FORUM",href:"https://governance.aave.com/"}),(0,P.jsx)(Z,{text:"FAQ",href:"https://docs.aave.com/faq/governance"}),(0,P.jsx)(Z,{text:"GOVERNANCE V2",href:"https://governance-v2.aave.com/"})]})})},O=r(90116),A=r(70918),S=r(9144),L=r(91655),D=r(246),E=r.n(D),I=r(13850),M=r(7144),R=r(50029),T=r(71383),_=r(87794),N=r.n(_),F=r(36492),V=r(80108),B=r(46192),G=r(8430),W=(0,V.Ps)(C||(C=(0,T.Z)(["\n  query search($query: String!, $first: Int!) {\n    proposalSearch(text: $query, first: $first) {\n      proposalId\n    }\n  }\n"]))),z=function(e){var t=(0,G.z)(),r=t.votingMachineSerivce,n=t.governanceV3Service,o=e.trim().split(" ").join(" & "),s=(0,F.a)({queryFn:function(){return function(e){return(0,V.ZP)(B.B2.governanceCoreSubgraphUrl,W,{query:e,first:10})}(o)},enabled:""!==e,queryKey:["searchProposals",o],select:function(e){return e.proposalSearch.map((function(e){return e.proposalId}))}}),i=s.data,a=s.isFetching,l=(0,F.a)({queryFn:function(){var e=(0,R.Z)(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.WB)(i||[]);case 2:return t=e.sent,e.abrupt("return",(0,M.xf)(t,r,n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),queryKey:["proposals_by_id",i],cacheTime:0,enabled:void 0!==i&&i.length>0}),c=l.data,d=l.isFetching;return{results:(null===c||void 0===c?void 0:c.proposals)||[],loading:a||d}},Y=r(46541),q=r(31538),U=r(8403),X=r(28480),K=r(88622),H=function(e){var t=e.proposalFilter,r=e.handleSearchQueryChange,o=e.handleChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{flexGrow:1},children:(0,P.jsx)(n.cC,{id:"Proposals"})}),(0,P.jsx)(i.Z,{children:(0,P.jsx)(n.cC,{id:"Filter"})}),(0,P.jsxs)(Y.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:o,children:[(0,P.jsx)(q.Z,{value:"all",children:(0,P.jsx)(n.cC,{id:"All proposals"})}),(0,K.KS)().map((function(e){return(0,P.jsx)(q.Z,{value:e,children:e},e)}))]}),(0,P.jsx)(U.M,{wrapperSx:{width:"280px"},placeholder:"Search proposals",onSearchTermChange:r})]})},Q=function(e){var t=e.proposalFilter,r=e.handleChange,o=e.handleSearchQueryChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(X._,{title:(0,P.jsx)(n.cC,{id:"Proposals"}),titleProps:{variant:"h3"},onSearchTermChange:o,searchPlaceholder:"Search proposals"}),(0,P.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",gap:4},children:[(0,P.jsx)(i.Z,{children:(0,P.jsx)(n.cC,{id:"Filter"})}),(0,P.jsxs)(Y.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:r,children:[(0,P.jsx)(q.Z,{value:"all",children:(0,P.jsx)(n.cC,{id:"All proposals"})}),(0,K.KS)().map((function(e){return(0,P.jsx)(q.Z,{value:e,children:e},e)}))]})]})]})},$=function(e){var t=e.proposalFilter,r=e.handleProposalFilterChange,n=e.handleSearchQueryChange,i=function(e){c(y.xM.FILTER,{filter:e.target.value}),r(e.target.value)},a=(0,o.Z)().breakpoints,l=(0,s.Z)(a.up("md")),c=(0,b.Y)((function(e){return e.trackEvent}));return(0,P.jsx)(v.Z,{sx:{px:6,py:4,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:3,borderBottom:"1px solid",borderColor:"divider"},children:l?(0,P.jsx)(H,{proposalFilter:t,handleChange:i,handleSearchQueryChange:n}):(0,P.jsx)(Q,{proposalFilter:t,handleChange:i,handleSearchQueryChange:n})})},J=r(27484),ee=r.n(J),te=r(84110),re=r.n(te),ne=r(74663);ee().extend(re());var oe=function(e){var t=e.proposal,r=(0,b.Y)((function(e){return e.trackEvent}));return(0,P.jsxs)(v.Z,{sx:{p:6,display:"flex",flexWrap:"wrap",justifyContent:"space-between",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},component:j.rU,onClick:function(){return r(y.xM.VIEW_AIP,{AIP:t.subgraphProposal.id})},href:j.Z6.dynamicRenderedProposal(+t.subgraphProposal.id),children:[(0,P.jsxs)(S.Z,{direction:"column",gap:2,sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,P.jsx)(S.Z,{direction:"row",gap:3,alignItems:"center",children:(0,P.jsx)(K.Ul,{state:t.badgeState,loading:!1})}),(0,P.jsx)(i.Z,{variant:"h3",sx:{overflow:"hidden",textOverflow:"ellipsis"},children:t.subgraphProposal.proposalMetadata.title})]}),(0,P.jsxs)(S.Z,{flexGrow:1,direction:"column",justifyContent:"center",sx:{pl:{xs:0,lg:18},mt:{xs:7,lg:0}},children:[(0,P.jsx)(ne.A,{yae:!0,percent:t.votingInfo.forPercent,votes:t.votingInfo.forVotes,sx:{mb:4},compact:!0}),(0,P.jsx)(ne.A,{percent:t.votingInfo.againstPercent,votes:t.votingInfo.againstVotes,compact:!0})]})]})},se=function(){var e=(0,c.useState)("all"),t=e[0],r=e[1],n=(0,K.Sk)(t),o=(0,c.useState)(""),s=o[0],i=o[1],a=z(s),l=a.results,d=a.loading,u=(0,M.Wu)(),p=u.data,h=u.isFetching,x=u.fetchNextPage,f=u.hasNextPage,v=[];return s&&l.length>0&&(v=l),!s&&p&&p.pages.forEach((function(e){var t;return(t=v).push.apply(t,(0,O.Z)(e.proposals))})),"all"!==t&&(v=v.filter((function(e){return e.badgeState===n}))),(0,P.jsxs)(A.Z,{children:[(0,P.jsx)($,{proposalFilter:t,handleProposalFilterChange:r,handleSearchQueryChange:i}),v.length>0?(0,P.jsxs)(E(),{loadMore:function(){return x()},hasMore:f,children:[v.map((function(e){return(0,P.jsx)(oe,{proposal:e},e.subgraphProposal.id)})),h&&Array.from({length:5}).map((function(e,t){return(0,P.jsx)(ie,{},t)}))]}):(!d&&s||!h&&"all"!==t)&&0===v.length?(0,P.jsx)(I.q,{searchTerm:s}):Array.from({length:4}).map((function(e,t){return(0,P.jsx)(ie,{},t)}))]})},ie=function(){return(0,P.jsxs)(v.Z,{sx:{p:6,display:"flex",flexWrap:"wrap",justifyContent:"space-between",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,P.jsx)(S.Z,{direction:"row",sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(S.Z,{direction:"column",sx:{width:{xs:"100%",lg:"70%"},pr:{xs:0,lg:8},display:"flex",flexDirection:"column",gap:{xs:3,lg:6}},children:[(0,P.jsx)(L.Z,{variant:"rectangular",height:22,width:220}),(0,P.jsx)(L.Z,{variant:"rectangular",height:24,width:350})]})}),(0,P.jsxs)(S.Z,{flexGrow:1,direction:"column",justifyContent:"center",sx:{pl:{xs:0,lg:18},mt:{xs:7,lg:0}},children:[(0,P.jsx)(ne.A,{yae:!0,percent:0,votes:0,sx:{mb:4},loading:!0}),(0,P.jsx)(ne.A,{percent:0,votes:0,loading:!0})]})]})},ae=r(3765),le=r(44373);var ce=(0,r(61354).Z)(),de=r(9279),ue=r(50116),pe=r(41024),he=r(92391),xe=r(72667),fe=r(42653),ve=r(79979),ge=r(85895),me=r(8195),je=r(72399),be=function(e){var t=e.aavePower,r=e.stkAavePower,o=e.aaveDelegatee,s=e.stkAaveDelegatee,a=e.aAaveDelegatee,l=e.aAavePower,c=e.title,d=!o||de.d===o,u=!s||de.d===s,p=!a||de.d===a;return d&&u&&p?null:(0,P.jsxs)(ce,{sx:{display:"flex",flexDirection:"column",mt:6,mb:2},children:[(0,P.jsx)(i.Z,{typography:"caption",sx:{mb:5},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"{title}",values:{title:c}})}),(0,P.jsx)(ce,{sx:{display:"flex",gap:4,flexDirection:"column"},children:o!==je.r_&&o===s&&o===a?(0,P.jsx)(he.X,{align:"flex-start",caption:(0,P.jsx)(fe.M,{avatarProps:{size:ue.D.XS},titleProps:{variant:"subheader1"},address:o}),children:(0,P.jsxs)(ce,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,P.jsx)(pe.B,{value:Number(t)+Number(r)+Number(l),variant:"subheader1"}),(0,P.jsx)(i.Z,{variant:"helperText",color:"text.secondary",children:"AAVE + stkAAVE + aAAVE"})]})}):(0,P.jsxs)(P.Fragment,{children:[!d&&(0,P.jsx)(he.X,{align:"flex-start",caption:(0,P.jsx)(fe.M,{avatarProps:{size:ue.D.XS},titleProps:{variant:"subheader1"},address:o}),children:(0,P.jsxs)(ce,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(xe.T1,{symbol:"AAVE",sx:{width:16,height:16}}),(0,P.jsx)(pe.B,{value:t,variant:"subheader1"})]})}),!u&&(0,P.jsx)(he.X,{align:"flex-start",caption:(0,P.jsx)(fe.M,{avatarProps:{size:ue.D.XS},titleProps:{variant:"subheader1"},address:s}),children:(0,P.jsxs)(ce,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(xe.T1,{symbol:"stkAAVE",sx:{width:16,height:16}}),(0,P.jsx)(pe.B,{value:r,variant:"subheader1"})]})}),!p&&(0,P.jsx)(he.X,{align:"flex-start",caption:(0,P.jsx)(fe.M,{avatarProps:{size:ue.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,P.jsxs)(ce,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(xe.T1,{aToken:!0,symbol:"aave",sx:{width:16,height:16}}),(0,P.jsx)(pe.B,{value:l,variant:"subheader1"})]})})]})})]})},ye=function(){var e=(0,b.Y)((function(e){return e.account})),t=(0,ve.S)().data,r=t.aave,o=t.stkAave,s=t.aAave,a=(0,ge.c)().data,l=(0,me.vR)(),c=l.openGovDelegation,d=l.openRevokeGovDelegation,u=(0,b.Y)((function(e){return e.trackEvent}));if(!a||!e)return null;var p=Number(r)<=0&&Number(o)<=0&&Number(s)<=0&&a.aavePropositionDelegatee===de.d&&a.aaveVotingDelegatee===de.d&&a.stkAavePropositionDelegatee===de.d&&a.stkAaveVotingDelegatee===de.d&&a.aAavePropositionDelegatee===de.d&&a.aAaveVotingDelegatee===de.d,h=a.aavePropositionDelegatee!==de.d||a.aaveVotingDelegatee!==de.d||a.stkAavePropositionDelegatee!==de.d||a.stkAaveVotingDelegatee!==de.d||a.aAaveVotingDelegatee!==de.d||a.aAavePropositionDelegatee!==de.d;return(0,P.jsxs)(A.Z,{sx:{mt:2},children:[(0,P.jsxs)(ce,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{typography:"h3",children:(0,P.jsx)(n.cC,{id:"Delegated power"})}),(0,P.jsxs)(i.Z,{typography:"description",sx:{mt:1},color:"text.secondary",children:[(0,P.jsx)(n.cC,{id:"Use your AAVE, stkAAVE, or aAave balance to delegate your voting and proposition powers. You will not be sending any tokens, only the rights to vote and propose changes to the protocol. You can re-delegate or revoke power to self at any time."}),(0,P.jsx)(j.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",color:"text.secondary",sx:{textDecoration:"underline",ml:1},onClick:function(){return u(y.vh.EXTERNAL_LINK,{link:"Learn More Delegation"})},children:(0,P.jsx)(n.cC,{id:"Learn more."})})]}),p?(0,P.jsx)(i.Z,{variant:"description",color:"text.muted",mt:6,children:(0,P.jsx)(n.cC,{id:"You have no AAVE/stkAAVE/aAave balance to delegate."})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(be,{aavePower:r,stkAavePower:o,aAavePower:s,aAaveDelegatee:a.aAaveVotingDelegatee,aaveDelegatee:a.aaveVotingDelegatee,stkAaveDelegatee:a.stkAaveVotingDelegatee,title:"Voting power"}),(0,P.jsx)(be,{aavePower:r,aAavePower:s,aAaveDelegatee:a.aAavePropositionDelegatee,stkAavePower:o,aaveDelegatee:a.aavePropositionDelegatee,stkAaveDelegatee:a.stkAavePropositionDelegatee,title:"Proposition power"})]})]}),(0,P.jsx)(le.Z,{}),(0,P.jsxs)(ce,{sx:{p:6,display:"flex",flexDirection:"column",gap:2},children:[(0,P.jsx)(f.Z,{size:"large",sx:{width:"100%"},variant:"contained",disabled:p,onClick:function(){return c()},children:(0,P.jsx)(n.cC,{id:"Set up delegation"})}),h&&(0,P.jsx)(f.Z,{size:"large",sx:{width:"100%"},variant:"outlined",disabled:p,onClick:function(){return d()},children:(0,P.jsx)(n.cC,{id:"Revoke power"})})]})]})};var we=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))})),Pe=r(84563),Ze=r(80562),Ce=r(35672),ke=r(91555),Oe=function(){var e=(0,me.vR)().openGovRepresentatives,t=function(e){var t=(0,G.z)().governanceV3Service;return(0,F.a)({queryFn:function(){return t.getRepresentationData(e)},queryKey:["governance",e,"representatives"],enabled:!!e})}((0,b.Y)((function(e){return e.account}))).data,r=null===t||void 0===t?void 0:t.Represented.some((function(e){return e.votersRepresented.length>0}));return(0,P.jsx)(A.Z,{sx:{mt:2},children:(0,P.jsxs)(v.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,P.jsx)(i.Z,{typography:"h3",children:(0,P.jsx)(n.cC,{id:"Linked addresses"})}),r?null:(0,P.jsx)(f.Z,{onClick:function(){return e((null===t||void 0===t?void 0:t.Representatives)||[])},children:(0,P.jsx)(i.Z,{typography:"subheader1",children:(0,P.jsx)(n.cC,{id:"Edit"})})})]}),(0,P.jsxs)(S.Z,{gap:8,sx:{mt:2},children:[(0,P.jsx)(S.Z,{direction:"column",children:(0,P.jsx)(i.Z,{variant:"description",color:"text.secondary",children:r?(0,P.jsx)(n.cC,{id:"Representing smart contract wallet (ie. Safe) addresses on other chains."}):(0,P.jsx)(n.cC,{id:"Representative smart contract wallet (ie. Safe) addresses on other chains."})})}),(0,P.jsx)(S.Z,{alignItems:"start",gap:6,children:r?(0,P.jsx)(Se,{representing:(null===t||void 0===t?void 0:t.Represented)||[]}):(0,P.jsx)(Ae,{representatives:(null===t||void 0===t?void 0:t.Representatives)||[],onOpenRepresentatives:function(){return e((null===t||void 0===t?void 0:t.Representatives)||[])}})})]})]})})},Ae=function(e){var t=e.representatives,r=e.onOpenRepresentatives;return(0,P.jsx)(P.Fragment,{children:t.map((function(e,t){return(0,P.jsxs)(S.Z,{gap:4,direction:"column",alignItems:"self-start",children:[(0,P.jsx)(Le,{networkLogoPath:ke.m[e.chainId].networkLogoPath,networkName:ke.m[e.chainId].name}),e.representative===je.r_?(0,P.jsxs)(S.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,P.jsx)(Ze.Z,{sx:function(e){return{height:"24px",width:"24px",background:e.palette.background.disabled}},onClick:r,children:(0,P.jsx)(g.Z,{sx:{p:1},children:(0,P.jsx)(we,{})})}),(0,P.jsx)(i.Z,{variant:"subheader1",color:"text.muted",children:(0,P.jsx)(n.cC,{id:"Connect"})})]}):(0,P.jsx)(De,{explorerLink:ke.m[e.chainId].explorerLink,address:e.representative})]},t)}))})},Se=function(e){var t=e.representing;return(0,P.jsx)(P.Fragment,{children:t.map((function(e,t){return(0,P.jsxs)(S.Z,{gap:4,direction:"column",alignItems:"self-start",children:[(0,P.jsx)(Le,{networkLogoPath:ke.m[e.chainId].networkLogoPath,networkName:ke.m[e.chainId].name}),0===e.votersRepresented.length?(0,P.jsx)(i.Z,{sx:{ml:4},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"None"})}):e.votersRepresented.map((function(t,r){return(0,P.jsx)(De,{explorerLink:ke.m[e.chainId].explorerLink,address:t},r)}))]},t)}))})},Le=function(e){var t=e.networkLogoPath,r=e.networkName;return(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,P.jsx)("img",{src:t,height:"16px",width:"16px",alt:"network logo"}),(0,P.jsx)(i.Z,{variant:"subheader1",children:r})]})},De=function(e){var t=e.explorerLink,r=e.address;return(0,P.jsx)(j.rU,{href:"".concat(t,"/address/").concat(r),children:(0,P.jsxs)(S.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,P.jsx)(Ce.E,{variant:"subheader1",compactMode:Ce._.MD,compact:!0,sx:{ml:4},children:r}),(0,P.jsx)(g.Z,{sx:function(e){return{width:14,height:14,ml:.5,color:e.palette.text.muted}},children:(0,P.jsx)(Pe.Z,{})})]})})},Ee=r(58527);function Ie(){var e=(0,ge.c)().data;return(0,P.jsxs)(A.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{height:"36px",display:"flex",alignItems:"center",mb:4},children:(0,P.jsx)(n.cC,{id:"Your info"})}),(0,P.jsx)(fe.H,{withLink:!0,avatarProps:{size:ue.D.LG},titleProps:{variant:"h4",addressCompactMode:Ce._.MD},subtitleProps:{variant:"caption",addressCompactMode:Ce._.XXL,color:"text.secondary"},funnel:"Your info: Governance"}),e?(0,P.jsxs)(v.Z,{sx:{display:"flex",mt:6},children:[(0,P.jsxs)(v.Z,{sx:{display:"flex",flexDirection:"column",mr:"25%"},children:[(0,P.jsx)(Ee.G,{text:"Voting power",variant:"description",textColor:"text.secondary",event:{eventName:y.vh.TOOL_TIP,eventParams:{tooltip:"Voting Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(n.cC,{id:"Your voting power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(n.cC,{id:"Use it to vote for or against active proposals."})})]})}),(0,P.jsx)(pe.B,{"data-cy":"voting-power",value:e.votingPower,variant:"h2",visibleDecimals:2})]}),(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(Ee.G,{text:"Proposition power",variant:"description",textColor:"text.secondary",event:{eventName:y.vh.TOOL_TIP,eventParams:{tooltip:"Proposition Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(n.cC,{id:"Your proposition power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(n.cC,{id:"To submit a proposal for minor changes to the protocol, you'll need at least 80.00K power. If you want to change the core code base, you'll need 320k power.<0>Learn more.</0>",components:{0:(0,P.jsx)(j.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",sx:{textDecoration:"underline",ml:1}})}})})]})}),(0,P.jsx)(pe.B,{"data-cy":"proposition-power",value:e.propositionPower,variant:"h2",visibleDecimals:2})]})]}):(0,P.jsx)(L.Z,{})]})}var Me,Re=function(){return(0,b.Y)((function(e){return e.account}))?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ie,{}),(0,P.jsx)(ye,{}),(0,P.jsx)(Oe,{})]}):(0,P.jsxs)(A.Z,{sx:{p:6},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{mb:{xs:6,xsm:10}},children:(0,P.jsx)(n.cC,{id:"Your info"})}),(0,P.jsx)(i.Z,{sx:{mb:6},color:"text.secondary",children:(0,P.jsx)(n.cC,{id:"Please connect a wallet to view your personal information here."})}),(0,P.jsx)(ae.p,{funnel:"Governance Page"})]})},Te=r(15446),_e=(0,l.default)((function(){return Promise.all([r.e(4254),r.e(9421)]).then(r.bind(r,91510)).then((function(e){return e.GovDelegationModal}))}),{loadableGenerated:{webpack:function(){return[91510]}}}),Ne=(0,l.default)((function(){return Promise.all([r.e(4254),r.e(503)]).then(r.bind(r,59786)).then((function(e){return e.GovRepresentativesModal}))}),{loadableGenerated:{webpack:function(){return[59786]}}});function Fe(){var e=(0,o.Z)().breakpoints,t=(0,s.Z)(e.down("lg")),r=(0,c.useState)(Me.PROPOSALS),l=r[0],p=r[1],h=(0,b.Y)((function(e){return e.trackEvent}));return(0,c.useEffect)((function(){h("Page Viewed",{"Page Name":"Governance"})}),[h]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k,{}),(0,P.jsxs)(Te.O,{children:[(0,P.jsxs)(u.Z,{color:"primary",value:l,exclusive:!0,onChange:function(e,t){return p(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px",mb:4,display:{xs:"flex",lg:"none"}},children:[(0,P.jsx)(d.Z,{value:Me.PROPOSALS,disabled:l===Me.PROPOSALS,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(n.cC,{id:"Proposals"})})}),(0,P.jsx)(d.Z,{value:Me.INFORMATION,disabled:l===Me.INFORMATION,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(n.cC,{id:"Your info"})})})]}),t?l===Me.PROPOSALS?(0,P.jsx)(se,{}):(0,P.jsx)(Re,{}):(0,P.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,P.jsx)(a.ZP,{item:!0,md:8,children:(0,P.jsx)(se,{})}),(0,P.jsx)(a.ZP,{item:!0,md:4,children:(0,P.jsx)(Re,{})})]})]})]})}!function(e){e[e.PROPOSALS=0]="PROPOSALS",e[e.INFORMATION=1]="INFORMATION"}(Me||(Me={})),Fe.getLayout=function(e){return(0,P.jsxs)(p.Z,{children:[e,(0,P.jsx)(_e,{}),(0,P.jsx)(Ne,{})]})}},28533:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(59499),o=r(49501),s=r(75331),i=r(30120),a=r(29630),l=r(91555),c=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e,t){return e===s.a_.mainnet?"Ethereum Mainnet":t.name},h=function(e){var t=e.chainId,r=e.wrapperSx,n=l.m[t];return(0,c.jsxs)(i.Z,{sx:u({display:"flex",alignItems:"center"},r),children:[(0,c.jsx)(a.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,c.jsx)(o.cC,{id:"Available on"})}),(0,c.jsx)(i.Z,{sx:{height:16,width:16},children:(0,c.jsx)("img",{src:n.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,c.jsx)(a.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:p(t,n)})]})}},13850:function(e,t,r){"use strict";r.d(t,{q:function(){return c}});var n=r(6022),o=r(62097),s=r(61225),i=r(30120),a=r(29630),l=r(85893),c=function(e){var t=e.searchTerm,r=e.subtitle,c=(0,o.Z)().breakpoints,d=(0,s.Z)(c.down("sm"));return(0,l.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,pt:15,pb:32,px:4},children:[d?(0,l.jsxs)(i.Z,{sx:{textAlign:"center",maxWidth:"300px"},children:[(0,l.jsx)(a.Z,{variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for"})}),t&&(0,l.jsxs)(a.Z,{sx:{overflowWrap:"anywhere"},variant:"h2",children:["'",t,"'"]})]}):(0,l.jsx)(a.Z,{sx:{textAlign:"center",maxWidth:"480px",overflowWrap:"anywhere"},variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for '".concat(t,"'")})}),r&&(0,l.jsx)(a.Z,{sx:{width:"280px",textAlign:"center"},variant:"description",color:"text.secondary",children:r})]})}},8403:function(e,t,r){"use strict";r.d(t,{M:function(){return v}});var n=r(59499),o=r(53737),s=r(33740),i=r(62097),a=r(61225),l=r(30120),c=r(81011),d=r(80562),u=r(23279),p=r.n(u),h=r(67294),x=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v=function(e){var t=e.onSearchTermChange,r=e.wrapperSx,u=e.placeholder,v=e.disableFocus,g=(0,h.useRef)(null),m=(0,h.useState)(""),j=m[0],b=m[1],y=(0,i.Z)().breakpoints,w=(0,a.Z)(y.down("sm")),P=(0,h.useMemo)((function(){return p()((function(e){t(e)}),300)}),[t]);return(0,x.jsxs)(l.Z,{sx:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,x.jsx)(l.Z,{sx:{ml:2,mt:1},children:(0,x.jsx)(o.Z,{height:16})}),(0,x.jsx)(c.ZP,{autoFocus:w,inputRef:g,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:u,value:j,onChange:function(e){b(e.target.value),P(e.target.value)},onKeyDown:function(e){v&&e.stopPropagation()}}),(0,x.jsx)(d.Z,{sx:{p:0,mr:2,visibility:j?"visible":"hidden"},onClick:function(){return function(){var e;b(""),t(""),null===(e=g.current)||void 0===e||e.focus()}()},children:(0,x.jsx)(s.Z,{height:16})})]})}},28480:function(e,t,r){"use strict";r.d(t,{_:function(){return m}});var n=r(59499),o=r(49501),s=r(69743),i=r(62097),a=r(61225),l=r(30120),c=r(29630),d=r(80562),u=r(81645),p=r(75084),h=r(67294),x=r(8403),f=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.onSearchTermChange,r=e.searchPlaceholder,n=e.titleProps,v=e.title,m=(0,h.useState)(!1),j=m[0],b=m[1],y=(0,i.Z)().breakpoints,w=(0,a.Z)(y.down("sm")),P=w&&!j,Z=!w||!j;return(0,f.jsxs)(l.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Z&&(0,f.jsx)(c.Z,g(g({component:"div",variant:"h2",sx:{mr:4}},n),{},{children:v})),(0,f.jsxs)(l.Z,{sx:{height:"40px",width:j&&w?"100%":"unset",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P&&(0,f.jsx)(d.Z,{onClick:function(){return b(!0)},children:(0,f.jsx)(u.Z,{children:(0,f.jsx)(s.Z,{})})}),(j||!w)&&(0,f.jsxs)(l.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,f.jsx)(x.M,{wrapperSx:{width:{xs:"100%",sm:"340px"}},placeholder:r,onSearchTermChange:t}),w&&(0,f.jsx)(p.Z,{sx:{ml:2},onClick:function(){return b(!1),void t("")},children:(0,f.jsx)(c.Z,{variant:"buttonM",children:(0,f.jsx)(o.cC,{id:"Cancel"})})})]})]})]})}},72667:function(e,t,r){"use strict";r.d(t,{Js:function(){return m},UD:function(){return y},T1:function(){return P}});var n=r(83618),o=r(59499),s=r(4730),i=r(89722),a=r(30120),l=r(60082),c=r(67294),d=r(25043),u=r(85893),p=["symbol","aToken"],h=["symbol","logoURI"],x=["symbols","badgeSymbol"],f=["symbol"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=e.symbol,r=e.onImageGenerated,n=e.aToken,o=(0,c.useRef)(null),s=(0,c.useRef)(null),i=(0,c.useState)(!0),a=i[0],l=i[1];return(0,c.useEffect)((function(){var e;if(!a&&o.current&&null!==(e=o.current)&&void 0!==e&&e.contentDocument)if(n){var t,i,l,c,d=null===(t=o.current)||void 0===t||null===(i=t.contentDocument)||void 0===i||null===(l=i.childNodes)||void 0===l?void 0:l[0],u=d.getAttribute("width"),p=d.getAttribute("height"),h=d.getAttribute("viewBox");d.setAttribute("x",25),d.setAttribute("width",206),d.setAttribute("y",25),d.setAttribute("height",206),h||d.setAttribute("viewBox","0 0 ".concat(u," ").concat(p)),null===(c=s.current)||void 0===c||c.appendChild(d);var x=(new XMLSerializer).serializeToString(s.current);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(x)))))}else{var f,v=(new XMLSerializer).serializeToString(null===(f=o.current)||void 0===f?void 0:f.contentDocument);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(v)))))}}),[a,n]),(0,u.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,u.jsx)("object",{style:{opacity:1},ref:o,id:"svg",data:"/icons/tokens/".concat(t.toLowerCase(),".svg"),onLoad:function(){return l(!1)}}),n&&(0,u.jsx)(j,{ref:s})]})}var j=(0,c.forwardRef)((function(e,t){var r=e.symbol;return(0,u.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:t,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,u.jsxs)("defs",{id:"defs10",children:[(0,u.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,u.jsx)("stop",{offset:"0",stopColor:"#b6509e",id:"stop2"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#2ebac6",id:"stop4"})]}),(0,u.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,u.jsxs)("g",{id:"Group_29109",children:[(0,u.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),r&&(0,u.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(r.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function b(e){var t=e.symbol,r=e.aToken,n=(0,s.Z)(e,p),o=(0,c.useState)(t.toLowerCase()),a=o[0],l=o[1];return(0,c.useEffect)((function(){l(t.toLowerCase())}),[t]),(0,u.jsx)(i.Z,g(g({},n),{},{sx:g({display:"flex",position:"relative",borderRadius:"50%"},n.sx),children:r?(0,u.jsx)(j,{symbol:a}):(0,u.jsx)("img",{src:"/icons/tokens/".concat(a,".svg"),onError:function(){return l("default")},width:"100%",height:"100%",alt:"".concat(t," icon")})}))}function y(e){var t=e.symbol,r=e.logoURI,n=(0,s.Z)(e,h),o=(0,c.useState)(t.toLowerCase()),a=o[0],l=o[1];return(0,u.jsx)(i.Z,g(g({},n),{},{sx:g({display:"flex",position:"relative",borderRadius:"50%"},n.sx),children:(0,u.jsx)(d.Z,{children:(0,u.jsx)("img",{src:"default"!==a&&r?r:"/icons/tokens/default.svg",width:"100%",height:"100%",alt:"".concat(t," icon"),onError:function(){return l("default")}})})}))}function w(e){var t=e.symbols,r=e.badgeSymbol,n=(0,s.Z)(e,x);return r?(0,u.jsx)(l.Z,{badgeContent:(0,u.jsx)(b,{symbol:r,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:t.map((function(e,t){return(0,c.createElement)(b,g(g({},n),{},{key:e,symbol:e,sx:g({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))}):(0,u.jsx)(a.Z,{sx:{display:"inline-flex",position:"relative"},children:t.map((function(e,t){return(0,c.createElement)(b,g(g({},n),{},{key:e,symbol:e,sx:g({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))})}function P(e){var t=e.symbol,r=(0,s.Z)(e,f),o=t.split("_");if(o.length>1){var i=(0,n.Z)(o),a=i[0],l=i.slice(1);return(0,u.jsx)(w,g(g({},r),{},{symbols:l,badgeSymbol:"/pools/"+a}))}return(0,u.jsx)(b,g({symbol:t},r))}j.displayName="ATokenIcon"},79979:function(e,t,r){"use strict";r.d(t,{S:function(){return l}});var n=r(36492),o=r(78371),s=r(46192),i=r(31001),a=r(8430),l=function(e){var t=(0,a.z)().governanceWalletBalanceService,r=(0,o.Y)((function(e){return e.currentMarketData})),l=(0,o.Y)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return t.getGovernanceTokensBalance(s.B2.coreChainId,s.B2.addresses.WALLET_BALANCE_PROVIDER,l,e)},queryKey:i.B.governanceTokens(l,r),enabled:!!l,refetchInterval:i.g,initialData:{aave:"0",stkAave:"0",aAave:"0"}})}},85895:function(e,t,r){"use strict";r.d(t,{c:function(){return l}});var n=r(36492),o=r(78371),s=r(46192),i=r(31001),a=r(8430),l=function(e){var t=(0,a.z)().governanceService,r=(0,o.Y)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return t.getPowers(s.B2.coreChainId,r,e)},queryKey:i.B.powers(r,s.B2.coreChainId),enabled:!!r,refetchInterval:i.g})}},2554:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return r(25224)}])},57761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(67294),s=a(o),i=a(r(45697));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(r){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),n=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,s=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;n=this.props.isReverse?s:this.calculateOffset(e,s)}else n=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,n=t.element,o=t.hasMore,i=(t.initialLoad,t.isReverse),a=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var d=[r];return o&&(a?i?d.unshift(a):d.push(a):this.defaultLoader&&(i?d.unshift(this.defaultLoader):d.push(this.defaultLoader))),s.default.createElement(n,c,d)}}]),t}(o.Component);l.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},246:function(e,t,r){e.exports=r(57761)}},function(e){e.O(0,[6146,1506,9072,2284,7091,4609,4815,5559,9774,2888,179],(function(){return t=2554,e(e.s=t);var t}));var t=e.O();_N_E=t}]);