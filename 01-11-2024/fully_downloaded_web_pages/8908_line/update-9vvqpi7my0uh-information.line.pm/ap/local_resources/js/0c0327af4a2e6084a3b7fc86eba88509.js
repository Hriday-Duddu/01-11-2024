!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";
/*!
 * assign-deep <https://github.com/jonschlinkert/assign-deep>
 *
 * Copyright (c) 2017-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=r(2),o=Object.prototype.toString,i=t.exports=((t,...e)=>{let r=0;for(function(t){return"object"==typeof t?null===t:"function"!=typeof t}(t)&&(t=e[r++]),t||(t={});r<e.length;r++)if(s(e[r])){for(const n of Object.keys(e[r]))s(t[n])&&s(e[r][n])?i(t[n],e[r][n]):t[n]=e[r][n];n(t,e[r])}return t});function s(t){return"function"==typeof t||"[object Object]"===o.call(t)}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return s});var n=r(0),o=r.n(n);function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id="dl-plugin-js-exceptions",this.debugHeader="Data Layer ".concat(this._id," Plugin"),this.debugParams=[],this.exceptions=[],this.skippedCount=0,this.throttlePerError=100,this.throttleGlobalCount=0,this.throttleGlobalMax=20,this.checkErrors()?this.debug("Error Found, JS Exception monitoring Disabled"):(this.bindListeners(),this.debug("initialized"))}var e,r,n;return e=t,(r=[{key:"bindListeners",value:function(){window.addEventListener("error",this.trackError.bind(this),!1),window.addEventListener("c-tracking-log-error",this.trackError.bind(this),!1),document.addEventListener("c-tracking-load-defaults",this.populateDataLayer.bind(this),!1)}},{key:"debug",value:function(){if(window.trackingDebug){var t=Array.prototype.slice.call(arguments),e=this.debugHeader||this._id;this.debugParams&&this.debugParams.length&&(e+=" (".concat(this.debugParams.join(", "),")")),console.groupCollapsed?(console.groupCollapsed("".concat(e,": ")),console.log.apply(this,t),console.groupEnd()):(t.unshift("".concat(e,": ")),console.log.apply(this,t))}}},{key:"populateDataLayer",value:function(t){t.detail.plugins.push({name:this._id,version:"1.1.1",errorDetected:this.checkErrors()})}},{key:"sendInfo",value:function(t){var e=new CustomEvent("c-tracking-log",{detail:{eventInfo:t},bubbles:!0});this.debug("sendInfo: ",e),document.body.dispatchEvent(e)}},{key:"dataLayerUpdated",value:function(t){var e=this;t&&t.detail&&"page"===t.detail.type&&this.exceptions.length&&(this.exceptions.forEach(function(t){setTimeout(e.sendInfo.bind(e,t),0)}),this.exceptions=[])}},{key:"trackError",value:function(t){var e=!1,r={eventMethod:"client-exception",eventType:"js",eventName:t.type};"c-tracking-log-error"===t.type&&(t=t.detail),this.throttleGlobalCount>this.throttleGlobalMax?(this.debug("skip track - Maximum error threshold reached:",t),e=!0):t["dl-handled"]?(this.debug("skip track - error previously tracked:",t),e=!0):this.lastTracked&&(this.lastTracked.message===t.message||t.message.match(/script\serror/i))&&this.lastTracked.ts+this.throttlePerError>Date.now()&&(this.debug("skip track - another error of this type was tracked in the last 100 ms:",t),e=!0),this.lastTracked=t,this.lastTracked.ts=Date.now(),t["dl-handled"]=!0,e?this.skippedCount++:(this.debug("Tracking Error: ",t),r=o()(r,{eventAction:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,type:t.error&&t.error.name,stack:t.error&&t.error.stack||t.stack,skippedCount:this.skippedCount}),this.skippedCount=0,this.throttleGlobalCount++,window.digitalData&&document.body?this.sendInfo(r):this.exceptions.push(r))}},{key:"checkErrors",value:function(){return this.pluginError}}])&&i(e.prototype,r),n&&i(e,n),t}();new s},function(t,e,r){"use strict";
/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=Object.prototype.toString,o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.exports=((t,...e)=>{if(!function(t){return"function"==typeof t||"[object Object]"===n.call(t)||Array.isArray(t)}(t))throw new TypeError("expected the first argument to be an object");if(0===e.length||"function"!=typeof Symbol||"function"!=typeof i)return t;for(let r of e){let e=i(r);for(let n of e)o.call(r,n)&&(t[n]=r[n])}return t})}]);