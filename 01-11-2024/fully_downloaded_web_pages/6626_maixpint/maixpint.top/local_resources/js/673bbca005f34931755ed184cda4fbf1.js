window.yii=function(t){function e(){t(document).ajaxComplete(function(t,e,a){var n=e&&e.getResponseHeader("X-Redirect");n&&(window.location=n)})}function a(){t.ajaxPrefilter(function(t,e,a){!t.crossDomain&&u.getCsrfParam()&&a.setRequestHeader("X-CSRF-Token",u.getCsrfToken())}),u.refreshCsrfToken()}function n(){var e=function(e){var a=t(this),n=a.data("method"),i=a.data("confirm"),r=a.data("form");return void 0===n&&void 0===i&&void 0===r||(void 0!==i?t.proxy(u.confirm,this)(i,function(){u.handleAction(a,e)}):u.handleAction(a,e),e.stopImmediatePropagation(),!1)};t(document).on("click.yii",u.clickableSelector,e).on("change.yii",u.changeableSelector,e)}function i(t){for(var e=o(),a=0;a<u.reloadableScripts.length;a++){var n=u.reloadableScripts[a];n="/"===n.charAt(0)?e+n:n;var i=new RegExp("^"+r(n).split("\\*").join(".*")+"$").test(t);if(i===!0)return!0}return!1}function r(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function o(){return location.protocol+"//"+location.host}function c(){for(var e=o(),a={},n=t("script[src]").map(function(){return"/"===this.src.charAt(0)?e+this.src:this.src}).toArray(),r=0,c=n.length;r<c;r++)a[n[r]]=!0;t.ajaxPrefilter("script",function(t,n,r){if("jsonp"!=t.dataType){var o="/"===t.url.charAt(0)?e+t.url:t.url;if(o in a){var c=a[o];c===!0||i(o)?i(o)||r.abort():(c.done(function(){r&&4!==r.readyState&&r.abort()}),r.done(function(){c&&4!==c.readyState&&c.abort()}))}else a[o]=r.done(function(){a[o]=!0}).fail(function(){delete a[o]})}}),t(document).ajaxComplete(function(e,a,n){var r=[];t("link[rel=stylesheet]").each(function(){i(this.href)||(t.inArray(this.href,r)==-1?r.push(this.href):t(this).remove())})})}var u={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,a){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",a)},refreshCsrfToken:function(){var e=u.getCsrfToken();e&&t('form input[name="'+u.getCsrfParam()+'"]').val(e)},confirm:function(t,e,a){confirm(t)?!e||e():!a||a()},handleAction:function(e,a){var n,i=e.attr("data-form")?t("#"+e.attr("data-form")):e.closest("form"),r=!e.data("method")&&i?i.attr("method"):e.data("method"),o=e.attr("href"),c=e.data("params"),s=e.data("pjax"),p=!!e.data("pjax-push-state"),d=!!e.data("pjax-replace-state"),f=e.data("pjax-timeout"),l=e.data("pjax-scrollto"),m=e.data("pjax-push-redirect"),h=e.data("pjax-replace-redirect"),v=e.data("pjax-skip-outer-containers"),g={};if(void 0!==s&&t.support.pjax&&(n=e.data("pjax-container")?e.data("pjax-container"):e.closest('[data-pjax-container=""]'),n.length||(n=t("body")),g={container:n,push:p,replace:d,scrollTo:l,pushRedirect:m,replaceRedirect:h,pjaxSkipOuterContainers:v,timeout:f,originalEvent:a,originalTarget:e}),void 0===r)return void(o&&"#"!=o?void 0!==s&&t.support.pjax?t.pjax.click(a,g):window.location=o:e.is(":submit")&&i.length&&(void 0!==s&&t.support.pjax&&i.on("submit",function(e){t.pjax.submit(e,g)}),i.trigger("submit")));var j=!i.length;if(j){o&&o.match(/(^\/|:\/\/)/)||(o=window.location.href),i=t("<form/>",{method:r,action:o});var b=e.attr("target");if(b&&i.attr("target",b),r.match(/(get|post)/i)||(i.append(t("<input/>",{name:"_method",value:r,type:"hidden"})),r="POST"),!r.match(/(get|head|options)/i)){var x=u.getCsrfParam();x&&i.append(t("<input/>",{name:x,value:u.getCsrfToken(),type:"hidden"}))}i.hide().appendTo("body")}var y=i.data("yiiActiveForm");y&&(y.submitObject=e),c&&t.isPlainObject(c)&&t.each(c,function(e,a){i.append(t("<input/>").attr({name:e,value:a,type:"hidden"}))});var k=i.attr("method");i.attr("method",r);var C=null;o&&"#"!=o&&(C=i.attr("action"),i.attr("action",o)),void 0!==s&&t.support.pjax&&i.on("submit",function(e){t.pjax.submit(e,g)}),i.trigger("submit"),t.when(i.data("yiiSubmitFinalizePromise")).then(function(){null!=C&&i.attr("action",C),i.attr("method",k),c&&t.isPlainObject(c)&&t.each(c,function(e,a){t('input[name="'+e+'"]',i).remove()}),j&&i.remove()})},getQueryParams:function(e){var a=e.indexOf("?");if(a<0)return{};var n,i,r=e.substring(a+1).split("#")[0].split("&"),o={};for(i=0;i<r.length;i++){n=r[i].split("=");var c=decodeURIComponent(n[0].replace(/\+/g,"%20")),u=decodeURIComponent(n[1].replace(/\+/g,"%20"));c.length&&(void 0!==o[c]?(t.isArray(o[c])||(o[c]=[o[c]]),o[c].push(u||"")):o[c]=u||"")}return o},initModule:function(e){(void 0===e.isActive||e.isActive)&&(t.isFunction(e.init)&&e.init(),t.each(e,function(){t.isPlainObject(this)&&u.initModule(this)}))},init:function(){a(),e(),c(),n()}};return u}(jQuery),jQuery(function(){yii.initModule(yii)});