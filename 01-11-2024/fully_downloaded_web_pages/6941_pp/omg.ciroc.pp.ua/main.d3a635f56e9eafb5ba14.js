(()=>{"use strict";var e,t,n,r,o={4875:(e,t,n)=>{n.d(t,{px:()=>N,eZ:()=>L,om:()=>B,Ar:()=>x,PH:()=>O,Hn:()=>F,Ru:()=>k,eu:()=>M,iB:()=>P,fj:()=>T});var r=n(31481),o=n(61182),s=n(9705),a=n(14487),i=n(14235),d=n(37836),c=n(82393);const u=150,l=5e3,f=new Set(["destroy"]);let h;const m=new Map,p=new Map;let g=[];const y={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let b=!0;(0,a.wr)((e=>{b=e}));const v=c.bs?new BroadcastChannel(r.rLF):void 0,w=(0,d.Fe)((()=>{const e=g;g=[],h?.postMessage({payloads:e})}));function I(e){g.push(e),w()}let A,C=[],S=[],E=!1;function k(e,t){return A=e,b?(h||(r.Oig&&console.log(">>> START LOAD WORKER"),h=new Worker(new URL(n.p+n.u(3559),n.b)),function(e){h?.addEventListener("message",(t=>{let{data:n}=t;n?.payloads.forEach((t=>{if("updates"===t.type){let n;if(r.Oig&&(n=performance.now()),t.updates.forEach(e),r.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)F(t);else if("methodCallback"===t.type)O(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&r.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,o.bO)(t.level,...t.args)}}))}))}(e),"iOS"===t.platform&&window.addEventListener("focus",(()=>{U(),setTimeout((()=>U()),1e3)}))),R({type:"initApi",args:[t,y]}).then((()=>{E=!0,S.forEach((e=>{N(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),S=[],C.forEach((e=>{L(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),C=[]}))):(function(e){v&&v.postMessage({type:"initApi",token:(0,a.g0)(),i